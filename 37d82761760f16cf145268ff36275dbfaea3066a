{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d9aa4939_b21f9b23",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-06-01T07:54:34Z",
      "side": 1,
      "message": "Nice that Judy found a way to make it work with --enable-features.\n",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "736adba0_418fed50",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 31,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-06-01T07:54:34Z",
      "side": 1,
      "message": "7 mins sounds long, assuming that we essentially just need to login twice. How did you compute this number?",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c87bc2a1_819fa419",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 31,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2021-06-02T01:02:04Z",
      "side": 1,
      "message": "Thanks for the review. This timeout was changed when I debugged why it always failed to create a new session after login. The error showed that it went timeout during testing.Poll. However, it did not resolve the problem by extending the test case timeout. That\u0027s why I changed https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/2902923/7..8/src/chromiumos/tast/local/chrome/internal/driver/conn.go#b224.\nFortunately, we do not need it anymore.",
      "parentUuid": "736adba0_418fed50",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6138c091_b1ff124b",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 37,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-06-01T07:54:34Z",
      "side": 1,
      "message": "Why do we need a real GAIA account? Doesn\u0027t it work with fake accounts?",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54f8acdc_af1733e4",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 37,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2021-06-02T01:02:04Z",
      "side": 1,
      "message": "Fake accounts work in this case. However, full restore is a feature related to user profile and session, I\u0027d prefer to using a real user login instead of a fake account.",
      "parentUuid": "6138c091_b1ff124b",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56114587_002763b5",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 37,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-06-02T09:43:15Z",
      "side": 1,
      "message": "Using real GAIA accounts has flakiness risk. Obviously it\u0027s risky to access production servers on the Internet... Also, if we use real GAIA accounts, profiles are sync\u0027ed across runs, which can affect your tests particularly if the feature is related to profiles.\n\nI recommend considering again if real GAIA accounts are better than fake accounts. I believe there are many existing tests related to profile/sessions but using fake accounts.\n\nIf you decide to use real GAIA accounts, it\u0027s really helpful for future readers if you add a code comment here describing the background.",
      "parentUuid": "54f8acdc_af1733e4",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4fa0df92_ec341476",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 38,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-06-01T07:54:34Z",
      "side": 1,
      "message": "Do we need chrome.RemoveNotification(false) in the first login?",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c54f913e_e5917196",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 38,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2021-06-02T01:02:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4fa0df92_ec341476",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d4dbffc_06093175",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 43,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-06-01T07:54:34Z",
      "side": 1,
      "message": "This deferred statement is called at the end of the test, but we want to do so before the next chrome.New call.\n\nOne way to correct this is to wrap code in anonymous function call:\n\n func FullRestoreFilesappReboot(ctx context.Context, s *testing.State) {\n   func() {\n     cr, err :\u003d chrome.New(...)\n     if err !\u003d nil { ... }\n     defer cr.Close(ctx)\n\n     ...\n   }()\n\n   func() {\n     cr, err :\u003d chrome.New(...)\n     if err !\u003d nil { ... }\n     defer cr.Close(ctx)\n\n     ...\n   }()\n }",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bb87c8c0_57a83ca8",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 43,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2021-06-02T01:02:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3d4dbffc_06093175",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a72f2ab6_790ac4af",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 57,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-06-01T07:54:34Z",
      "side": 1,
      "message": "It\u0027s nice to avoid sleep if possible.\nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/code_review_comments.md#Sleep\n\nDo you know any condition we can poll?\n\nIf not, could you at least clarify in code comments how you computed the \"2.5 seconds\" threshold?",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4a42342d_33d4d076",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 57,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2021-06-02T01:02:04Z",
      "side": 1,
      "message": "Added a comment. It is required by the feature. Unfortunately, no condition we can poll.",
      "parentUuid": "a72f2ab6_790ac4af",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8dca1a4_94821004",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-06-01T07:54:34Z",
      "side": 1,
      "message": "defer cr.Close(ctx) is missing.",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b273593b_e4e15639",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2021-06-02T01:02:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a8dca1a4_94821004",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1ffb7c0_7baa6f9d",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 73,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-06-01T07:54:34Z",
      "side": 1,
      "message": "Please remove this commented out line.",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "faef0850_74202f44",
        "filename": "src/chromiumos/tast/local/bundles/cros/apps/full_restore_filesapp_reboot.go",
        "patchSetId": 8
      },
      "lineNbr": 73,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2021-06-02T01:02:04Z",
      "side": 1,
      "message": "Sorry for confusion, but I have not finished debugging this. The name of the alert dialog is \"Restore apps \u0026 pages?.*\" and it fails to find it. It may because there is a new line in the name.",
      "parentUuid": "b1ffb7c0_7baa6f9d",
      "revId": "37d82761760f16cf145268ff36275dbfaea3066a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}