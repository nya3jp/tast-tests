{
  "comments": [
    {
      "key": {
        "uuid": "a4e704d5_394f4edb",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-08-17T00:47:40Z",
      "side": 1,
      "message": "this struct is exposed to all of package ui, so put it in a library, make it specific to this test, or move it into the test code.\n\n\nWhat about putting both this struct and the default app ids in common code, maybe ui/apps.go?  Then you could use [apps.DefaultChrome, apps.DefaultFiles, apps.DefaultWallpaper] instead.  You could also put the launch code there too, and cannibalize some stuff from ui.filesapp.  There are several references to autotestPrivate.launchApp already that could be consolidated - look at verify_launcher_app.go in vm.subtest",
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28d48299_73fe26de",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 26,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-08-17T00:47:40Z",
      "side": 1,
      "message": "is there a team alias here too?",
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93caef51_e97b6da9",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2019-08-16T22:42:49Z",
      "side": 1,
      "message": "nit: Probably gonna have more than one shelf test eventually so give this a more detailed name if possible.",
      "range": {
        "startLine": 35,
        "startChar": 5,
        "endLine": 35,
        "endChar": 10
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "866f1648_5e635a77",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 60,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2019-08-16T22:42:49Z",
      "side": 1,
      "message": "nit: given you use l so much, you may want to give it a more detailed name",
      "range": {
        "startLine": 60,
        "startChar": 1,
        "endLine": 60,
        "endChar": 2
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b67eba52_12b4b168",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 60,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-08-17T00:47:40Z",
      "side": 1,
      "message": "+1 - short names are required in go for variables with limited scope, but this is used throughout and there\u0027s not a clear meaning to the letter.  Maybe involve \"actual\" and \"expected\" in your variable names?  Or shelfElts?",
      "parentUuid": "866f1648_5e635a77",
      "range": {
        "startLine": 60,
        "startChar": 1,
        "endLine": 60,
        "endChar": 2
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ae4875d_a95bccaf",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 69,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2019-08-16T22:42:49Z",
      "side": 1,
      "message": "for _, app :\u003d range apps",
      "range": {
        "startLine": 69,
        "startChar": 1,
        "endLine": 69,
        "endChar": 33
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3eb9c19_8c885c68",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 72,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-08-17T00:47:40Z",
      "side": 1,
      "message": "use name in the error since it\u0027s human readable.  And order it as \"Failed to launch x\", since the failure to launch is the more important bit",
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88ca646c_599a3dfd",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 86,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2019-08-16T22:42:49Z",
      "side": 1,
      "message": "why sprintf for without a variable or constant? \njust use:\n\n\"tast.promisify(chrome.automation.getDesktop)().then(root \u003d\u003e root.findAll({attributes: {role: \u0027button\u0027}}).map(node \u003d\u003e node.name))\"",
      "range": {
        "startLine": 86,
        "startChar": 14,
        "endLine": 86,
        "endChar": 161
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7209df7_38fb9ee7",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-08-17T00:47:40Z",
      "side": 1,
      "message": "If you make these errors as s.Error instead of s.Fatal, then the test will continue to run and then fail with all of the accrued errors (vs. failing immediately)",
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6074f5fc_ef91376d",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 92,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2019-08-16T22:42:49Z",
      "side": 1,
      "message": "for i :\u003d range l",
      "range": {
        "startLine": 92,
        "startChar": 1,
        "endLine": 92,
        "endChar": 30
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae726b05_a8133d3d",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 94,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-08-17T00:47:40Z",
      "side": 1,
      "message": "errors should start with what you got then follow with what you expected, e.g. \"App IDs did not match. Got %v; expected %v\".  Also, use s.Fatalf() so you can have formatting args.\n\nhttps://github.com/golang/go/wiki/CodeReviewComments#useful-test-failures",
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fc4586f_317690bb",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 97,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-08-17T00:47:40Z",
      "side": 1,
      "message": "same for this one",
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "524d7556_0febb70b",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 101,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2019-08-16T22:42:49Z",
      "side": 1,
      "message": "for _, icon :\u003d range icons",
      "range": {
        "startLine": 101,
        "startChar": 2,
        "endLine": 101,
        "endChar": 35
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51058906_93cc9d98",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-08-17T00:47:40Z",
      "side": 1,
      "message": "Fatalf",
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1b7bdc9_7ff9163d",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 130,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-08-17T00:47:40Z",
      "side": 1,
      "message": "all one line",
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83452a21_a9064d8a",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 146,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2019-08-16T22:42:49Z",
      "side": 1,
      "message": "I believe you should be able to use:\n\ntast.promisify(chrome.autotestPrivate.getShelfItems)()",
      "range": {
        "startLine": 146,
        "startChar": 3,
        "endLine": 146,
        "endChar": 14
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69ad9882_b1feec62",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 164,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2019-08-16T22:42:49Z",
      "side": 1,
      "message": "Maybe this isn\u0027t an issue for this CL, but I have seen a number of tests wait repeatedly on a promise, maybe this should be implemented in Conn.go like WaitForExpr is?",
      "range": {
        "startLine": 164,
        "startChar": 1,
        "endLine": 164,
        "endChar": 62
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fdb223c1_9c142ec6",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 171,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2019-08-16T22:42:49Z",
      "side": 1,
      "message": "nit: make the first letter of errors lowercase",
      "range": {
        "startLine": 171,
        "startChar": 22,
        "endLine": 171,
        "endChar": 23
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9f5031b_575a550e",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 171,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-08-17T00:47:40Z",
      "side": 1,
      "message": "and include the appID",
      "parentUuid": "fdb223c1_9c142ec6",
      "range": {
        "startLine": 171,
        "startChar": 22,
        "endLine": 171,
        "endChar": 23
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a5d23f4_7f6ab6d8",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 174,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2019-08-16T22:42:49Z",
      "side": 1,
      "message": "nit: time.Minute",
      "range": {
        "startLine": 174,
        "startChar": 34,
        "endLine": 174,
        "endChar": 50
      },
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3cb18587_a58eb18a",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 3
      },
      "lineNbr": 175,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-08-17T00:47:40Z",
      "side": 1,
      "message": "You should just return the error you got, since you\u0027re not really adding new info and you\u0027re going to catch/wrap it when calling.  I.e. make this entire function one giant return statement.",
      "revId": "c825b16dc8adf01aa58fa0c4ffc4cc1c0a49777a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}