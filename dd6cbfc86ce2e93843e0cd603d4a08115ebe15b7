{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6eb487ac_01a91e4e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2021-01-22T02:10:54Z",
      "side": 1,
      "message": "The guideline is 20+ consecutive success to be considered as stable.\nI found one error on a device which looks actually related to DLC.\nWas the cause already identified and fixed?",
      "revId": "dd6cbfc86ce2e93843e0cd603d4a08115ebe15b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73c97943_f6191f0a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2021-01-22T17:47:41Z",
      "side": 1,
      "message": "Hi @hidehiko, it seems that it was successful 666/667 runs.\nThe flake seems to have been:\n```\n2021-01-10T08:24:45.210819Z ERR dlcservice[21046]: [ERROR:object_proxy.cc(621)] Failed to call method: org.chromium.ImageLoaderInterface.LoadDlcImage: object_path\u003d /org/chromium/ImageLoader: org.freedesktop.DBus.Error.TimedOut: Failed to activate service \u0027org.chromium.ImageLoader\u0027: timed out\n2021-01-10T08:24:45.210911Z ERR dlcservice[21046]: [ERROR:dbus_method_invoker.h(112)] CallMethodAndBlockWithTimeout(...): Domain\u003ddbus, Code\u003dorg.freedesktop.DBus.Error.TimedOut, Message\u003dFailed to activate service \u0027org.chromium.ImageLoader\u0027: timed out\n```\n\nWhere imageloader failed to be brought up, my guess is that imageloader startup conf didn\u0027t bringup the daemon after it when to sleep.\n\nSafe to land?",
      "parentUuid": "6eb487ac_01a91e4e",
      "revId": "dd6cbfc86ce2e93843e0cd603d4a08115ebe15b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2b1c644_6165e1a6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2021-01-25T09:01:44Z",
      "side": 1,
      "message": "Hmm... to be safer, I\u0027d like to understand the situation more.\n\nSpecifically, IIUC, imageloader is a key backend service for DLC, right?\nWhat\u0027s the reason why the service was stopped? Was it cause due to testing special condition, or something caused by some other bad tests which accidentally stopped the service accidentally? Or, was it an actual flake that users could see?",
      "parentUuid": "73c97943_f6191f0a",
      "revId": "dd6cbfc86ce2e93843e0cd603d4a08115ebe15b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cb1caab6_b8559ea9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2021-01-25T21:04:15Z",
      "side": 1,
      "message": "\u003e Specifically, IIUC, imageloader is a key backend service for DLC, right?\n\nYes, it\u0027s the one that performs mounting the DLC image itself.\n\n\u003eWhat\u0027s the reason why the service was stopped? Was it cause due to testing special condition, or something caused by some other bad tests which accidentally stopped the service accidentally?\n\nThis \"flake\" seems to happen once in a while for imageloader.\nImagloader isn\u0027t stopped by anyone, it stops on it\u0027s own, it actually exits after an inactive period.\nDBus is incharge of \"[re]starting\" imageloader if a DBus method is invoked on it.\nBut ^ this seems to \"flake\" sometimes. As far as I can tell -\u003e which leads to the timeout.",
      "parentUuid": "c2b1c644_6165e1a6",
      "revId": "dd6cbfc86ce2e93843e0cd603d4a08115ebe15b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4af44601_34ef469e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2021-01-27T16:26:16Z",
      "side": 1,
      "message": "It is important to understand the cause of the failure.\nDo you mean imageloader restarting is flaky? If so, do you know why?\nIs it specific issue to the image loader? Or the issue of the D-Bus basic?\nIt sounds to me that it\u0027s not testing specific situation at this moment, and users can see the unexpected behavior, right?\n\nFlakiness issue on testing may be ignored if, e.g., it is known that happens independently from the testing. E.g., TPM chip failure causing Chrome login failure, etc, which is difficult to avoid.\nHowever, in this case, imageloader timeout sounds like related to this test, so I\u0027m concerning.",
      "parentUuid": "cb1caab6_b8559ea9",
      "revId": "dd6cbfc86ce2e93843e0cd603d4a08115ebe15b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17d1b2ef_8a7d8cbf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2021-01-27T22:46:33Z",
      "side": 1,
      "message": "Imageloader fails to be brought up by DBus at a rare occurrence.\nAll the tast runs are green atm.\n\nAlso, tests constantly restart the ui, which isn\u0027t the normal flow.\nWhich might also be causing the imageloader shutdown to conflict with the startup.\nThere hasn\u0027t been an occurrence that I know/filed against this on live devices.\n\ndlcservice has a hard dependency to imageloader, so if imageloader doesn\u0027t work, dlcservice cannot produce the end result it needs to.\n\nBut if we were to dig in deeper, an example error output is:\nhttps://bugs.chromium.org/p/chromium/issues/detail?id\u003d1160494#c27\n\nHitting this portion of dbus:\nhttps://source.corp.google.com/eureka_internal/external/dbus/bus/activation.c;l\u003d1460?q\u003d%22Failed%20to%20activate%20service%22%20dbus",
      "parentUuid": "4af44601_34ef469e",
      "revId": "dd6cbfc86ce2e93843e0cd603d4a08115ebe15b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1eba2df_98ec0e2a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2021-01-28T14:32:38Z",
      "side": 1,
      "message": "\u003e Imageloader fails to be brought up by DBus at a rare occurrence.\n\u003e All the tast runs are green atm.\n\u003e \n\nNote that failing on 0.5% or so is high enough.\nWith a simple math, we would hit the issue for every week, if it runs in CQ.\nWe have a lot of CQ tests, and all must pass, so pile of the flakiness will make our development experience significantly worse. And actually, that has been one of the issues we are tackling against. I\u0027d appreciate your understanding and cooperation, too.\nConsidering the # of users, the issue would be hit more often in the world,\nif the issue is not caused by the testing special set up.\n\nStepping back, in general, whether the test failure looks flaky or not should not be the reason to ignore failures. It could be the reason of priority, though.\n\n\u003e Also, tests constantly restart the ui, which isn\u0027t the normal flow.\n\u003e Which might also be causing the imageloader shutdown to conflict with the startup.\n\u003e There hasn\u0027t been an occurrence that I know/filed against this on live devices.\n\nGood to know that our users didn\u0027t seem to see this.\n\n\u003e \n\u003e dlcservice has a hard dependency to imageloader, so if imageloader doesn\u0027t work, dlcservice cannot produce the end result it needs to.\n\u003e \n\u003e But if we were to dig in deeper, an example error output is:\n\u003e https://bugs.chromium.org/p/chromium/issues/detail?id\u003d1160494#c27\n\u003e \n\u003e Hitting this portion of dbus:\n\u003e https://source.corp.google.com/eureka_internal/external/dbus/bus/activation.c;l\u003d1460?q\u003d%22Failed%20to%20activate%20service%22%20dbus\n\nok, so the D-Bus reports the error.\nWhere is the imageloader stuck at? Is it during the bootstrap? Or, the process does not send/receive any messages? Or ... something else?\n\nMaybe a bug should be filed to collect more info?",
      "parentUuid": "17d1b2ef_8a7d8cbf",
      "revId": "dd6cbfc86ce2e93843e0cd603d4a08115ebe15b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6d647d6a_18015cbd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2021-01-28T14:32:38Z",
      "side": 1,
      "message": "Marking CR+2 following the guide line, but I think the flakiness issue should be investigated at least for triage.\n",
      "revId": "dd6cbfc86ce2e93843e0cd603d4a08115ebe15b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f969182_96a6a02c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-02-26T01:03:14Z",
      "side": 1,
      "message": "@kimjae ... can we submit this? Having these tests on the CQ helps me sleep easier at night :)",
      "revId": "dd6cbfc86ce2e93843e0cd603d4a08115ebe15b7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}