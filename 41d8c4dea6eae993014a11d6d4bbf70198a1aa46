{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4ca8cb17_bb46e441",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1540282
      },
      "writtenOn": "2022-10-03T23:23:04Z",
      "side": 1,
      "message": "Please review, thanks!",
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "67060747_62a88d9a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000623
      },
      "writtenOn": "2022-10-04T00:56:17Z",
      "side": 1,
      "message": "xiyuan for thoughts",
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f1a999d_8e171ff0",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/google_sheets_cuj.go",
        "patchSetId": 2
      },
      "lineNbr": 176,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-10-04T21:27:25Z",
      "side": 1,
      "message": "nit: I would put this immediately after `const ( ... )`.",
      "range": {
        "startLine": 173,
        "startChar": 0,
        "endLine": 176,
        "endChar": 2
      },
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "631a68bc_5fa4d1c0",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/google_slides_cuj.go",
        "patchSetId": 2
      },
      "lineNbr": 126,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-10-04T21:27:25Z",
      "side": 1,
      "message": "nit: I would put this immediately after `const slidesScrollTimeout \u003d 10 * time.Minute`.",
      "range": {
        "startLine": 123,
        "startChar": 0,
        "endLine": 126,
        "endChar": 2
      },
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af4bb1de_645fe758",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/taskswitchcuj/websites.go",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-10-04T21:27:25Z",
      "side": 1,
      "message": "nit: I would put this immediately after `const numExtraWebsites \u003d 5` so in case it fails, `openChromeTabs` hasn\u0027t done anything else.",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 66,
        "endChar": 52
      },
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eebdc373_c680af4d",
        "filename": "src/chromiumos/tast/local/chrome/cuj/get_drive_url.go",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-10-04T20:55:09Z",
      "side": 1,
      "message": "End with a period.",
      "range": {
        "startLine": 23,
        "startChar": 38,
        "endLine": 23,
        "endChar": 44
      },
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "895a6227_bd4cc4ff",
        "filename": "src/chromiumos/tast/local/chrome/cuj/get_drive_url.go",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-10-04T20:55:09Z",
      "side": 1,
      "message": "const (\n\t\t// DriveTypeDocs represents Google Docs.\n\t\tDriveTypeDocs DriveType \u003d \"document\"\n\n\t\t// DriveTypeSlides represents Google Slides.\n\t\tDriveTypeSlides DriveType \u003d \"presentation\"\n\n\t\t// DriveTypeSheets represents Google Sheets.\n\t\tDriveTypeSheets DriveType \u003d \"spreadsheets\"\n\t)\n\n\t// driveFile contains blah blah blah\n\ttype driveFile struct {\n\t\tfileType DriveType\n\t\tids      []string\n\t}\nThis way, `GetDriveURL` can simply pass `dt` directly to `fmt.Sprintf`.",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 36,
        "endChar": 1
      },
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "389fd163_941d186d",
        "filename": "src/chromiumos/tast/local/chrome/cuj/get_drive_url.go",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-10-04T20:55:56Z",
      "side": 1,
      "message": "Disregard this comment. I was in the middle of code review and only meant to reply to Xiyuan for now.",
      "parentUuid": "895a6227_bd4cc4ff",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 36,
        "endChar": 1
      },
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "291b374e_b9325def",
        "filename": "src/chromiumos/tast/local/chrome/cuj/get_drive_url.go",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 1000623
      },
      "writtenOn": "2022-10-04T00:56:17Z",
      "side": 1,
      "message": "I know this isn\u0027t new code, but I wonder if we can use some pseudo random algorithm instead, like hashing the device name. Randomness could add flake instead of persistent failures if something goes wrong with 1 copy perhaps?\n\nA stable pseudo-random number generator function would be generally useful as well.",
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09b7312e_2ced72d4",
        "filename": "src/chromiumos/tast/local/chrome/cuj/get_drive_url.go",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2022-10-04T16:49:13Z",
      "side": 1,
      "message": "Agree. Let\u0027s make this deterministic instead of random. One possibility is that we hash (md5, or sha) on sku (or model), convert that into an int (e.g. using `binary.BigEndian.Uint64`, then mod by `len(file.ids)` .\n\nsku-id via crosconfig, not sure whether sku-id is the same as sku string though.\nhttps://source.corp.google.com/chromeos_public/src/platform/dev/src/chromiumos/test/dut/internal/dutidentity.go;rcl\u003d8b0fc37c66d7260fab6f2e8f1b57bedb4b6cc253;l\u003d45\n\nsku_number from vpd:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/telemetryextension/hp_compliance.go;rcl\u003d268acae4a21843a4944af5feff733bfb325c8b72;l\u003d64\n\nmodel from crosconfig\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/audio/alsa_conformance.go;rcl\u003d6067a81d6dd8795353b8e831d9e3f4a7996c88ae;l\u003d74\n\n\ncrosconfig doc in case we want to check what else could be used:\nhttps://chromium.googlesource.com/chromiumos/platform2/+/HEAD/chromeos-config/README.md",
      "parentUuid": "291b374e_b9325def",
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c24d89db_e1f5340d",
        "filename": "src/chromiumos/tast/local/chrome/cuj/get_drive_url.go",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-10-04T20:38:55Z",
      "side": 1,
      "message": "If you simply mod by `len(file.ids)` then I don\u0027t think the probability distribution will be exactly uniform. It may be better to use the sku/model hash to seed a random number generator and then use it to generate a random index into `file.ids`. That would still be deterministic, always producing the same result for each device (which I think is a good idea).",
      "parentUuid": "09b7312e_2ced72d4",
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "423a83e1_f4f8c637",
        "filename": "src/chromiumos/tast/local/chrome/cuj/get_drive_url.go",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2022-10-04T20:52:41Z",
      "side": 1,
      "message": "I would think that hash such as md5, sha256 should have uniformity. Otherwise, they would have good chance to be broken that people could use the unbalanced distribution to reverse something have the same hash.\n\nIt is not necessary to go through a random number generator when we would only use it to generate only one number.",
      "parentUuid": "c24d89db_e1f5340d",
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1b82a95_aec33bb2",
        "filename": "src/chromiumos/tast/local/chrome/cuj/get_drive_url.go",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-10-04T20:55:09Z",
      "side": 1,
      "message": "But imagine you have a uniform random number between 0 and 9 and then you mod it by 7. Do you get a uniform random number between 0 and 6?",
      "parentUuid": "423a83e1_f4f8c637",
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16b99001_581e8775",
        "filename": "src/chromiumos/tast/local/chrome/cuj/get_drive_url.go",
        "patchSetId": 2
      },
      "lineNbr": 127,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-10-04T21:27:25Z",
      "side": 1,
      "message": "Here is how I would do it:\n\n\t// GetTestDocURL randomly chooses blah blah blah\n\tfunc GetTestDocURL() (string, error) {\n\t\treturn getDriveURL(\"document\", []string{\n\t\t\t\"1Q4xCQd2aVxwpIugEuGdVmWoNbdxkhc-ENTW9-frBMnQ\",\n\t\t\t\"169goDwL3s5nX-BxY0-qA2-DAtx9EKzQliaDa6dpKCV8\",\n\t\t\t\"1NB5Wbv0PuxT8zo-GT_uIyJZCY7FEvbWxBUnAX_vHta4\",\n\t\t\t\"1tE6oaSW875m2SMqMUEcnEcVcbt5cUCH75bfmeRGQ26o\",\n\t\t\t\"1pBorP7vprR8n4_QYizTURzl8BgaubYPuwfK2FoouH60\",\n\t\t\t\"1YprStoKZUweQ_zr0RuiAQKLOsf816p6j5mEPYokQUDU\",\n\t\t\t\"1uYRh_HMB8EJuU54UJlG-pwVUeCMRG3IsNsPhNRMHyic\",\n\t\t\t\"1_LeaFWWJQ4Y_6qETCESpRk_FeSbbLCWdyQ-LPaAkziw\",\n\t\t\t\"1DNU22wEApL5QNTLc7Gmy9uix8JwsdGGvRlE58Pj2Opc\",\n\t\t\t\"1IX0Nikx155xrY5vLIFbEME_BUrx-0cOWZWRLljbtmQc\",\n\t\t})\n\t}\n\n\t// GetTestDocCommentURL is like GetTestDocURL, but blah blah blah\n\tfunc GetTestDocCommentURL() (string, error) {\n\t\t...\n\t}\n\n\t// GetTestSlidesURL randomly chooses blah blah blah\n\tfunc GetTestSlidesURL() (string, error) {\n\t\treturn getDriveURL(\"presentation\", []string{\n\t\t\t\"11-mh-vzb-ZEocqoafgU-KA1F1eql-p1K5kHYpbcLf3k\",\n\t\t\t\"1Jx_JHIWcrBSAF_PIrcFISQreGhprRm2gveQixOZEQio\",\n\t\t\t\"1yPZ0b6FpDTyUY92XjDQhC1KVmPw5U0mC1a0cY31-BuU\",\n\t\t\t\"1r7eOX9X3HOZRA_8s--Ay-kfKifZlmAGuZX6iI7qjReU\",\n\t\t\t\"1N4dKIoMKZBYVgdIRcp3fE-NH1g9nnMRbySKxs56ctX8\",\n\t\t\t\"1uev_ZfU6PgjPFMUCZOIJr0rxBdswzSG-8GYOJe6i90Y\",\n\t\t\t\"1P1fIp81hhVbWd5ZRw5v2U1eii3pebhTyXl2DQijbSBo\",\n\t\t\t\"16vRzSKAwx_QFV75H1t3GUrlq5EPit3Y5yNx_yWLZ3j8\",\n\t\t\t\"1-aSSvvDdnugUUfygj-opVUltSpZwJLae4IqiGTiMRc8\",\n\t\t\t\"1LmLydzA4tSYB6A1czpO1sUCWlMZ7QSp6CgtGOKRptBI\",\n\t\t})\n\t}\n\t\n\t// GetTestSheetsURL randomly chooses blah blah blah\n\tfunc GetTestSheetsURL() (string, error) {\n\t\treturn getDriveURL(\"spreadsheets\", []string{\n\t\t\t\"1Ij1sou7HIcydmLPR-s3xSe-cmap2H7lFhCErHX-HBmU\",\n\t\t\t\"1sKoKExkl_mpLF-HVz34Y0lpEIvaVFZzhB3FUpkJqY80\",\n\t\t\t\"1SVgMhg48r6LoZgXDbyNeG8_ZnVd1ZboYSMN2rWtQJ6c\",\n\t\t\t\"1IeiKPacIP4j6Wi1VbAyPGftEZlnr1hVNZRGwI8cjoyk\",\n\t\t\t\"16zIJDAn4zhKGH1sPKky7i6pXD7_yJSjzwbmG4jWYAJ4\",\n\t\t\t\"1TKUNSOINXg1mMM0_XkQ4oFXAd3CD--O_YyUv93U_Kio\",\n\t\t\t\"1hotZ9nrPEDzaBTzEfEayX5QwvGxarXoxNMG7x3CXzlM\",\n\t\t\t\"1r4Y1ASgTe-4-TBF93fXKMG3BR6hHBuKqi6FjFV9FeLw\",\n\t\t\t\"1OpqvOCdW-bQZTv_XXbb96UNAnFFN4P242Ae-pF1OE70\",\n\t\t\t\"1U9EJ9TXWnDH2CsBjR0t0jXpj2JK7HDcX9kE7J6V0vEY\",\n\t\t})\n\t}\n\n\t// getDriveURL randomly chooses blah blah blah\n\tfunc getDriveURL(fileType string, ids []string) (string, error) {\n\t\t...\n\t}",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 127,
        "endChar": 0
      },
      "revId": "41d8c4dea6eae993014a11d6d4bbf70198a1aa46",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}