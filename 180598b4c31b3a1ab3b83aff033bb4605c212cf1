{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f304c46f_810cf9ac",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1512622
      },
      "writtenOn": "2021-07-14T07:07:20Z",
      "side": 1,
      "message": "Hi,\nCL contains part a (ARC) of test no 7 for clipboard test cases\nPTAL, Thanks ðŸ˜Š\n",
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf4f6795_bfdfb60e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1162075
      },
      "writtenOn": "2021-07-23T09:12:20Z",
      "side": 1,
      "message": "LGTM % one suggestion",
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9d4055a8_d62c0140",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1409038
      },
      "writtenOn": "2021-07-23T12:02:56Z",
      "side": 1,
      "message": "lgtm",
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "79ce5133_e0c4eeef",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1512622
      },
      "writtenOn": "2021-07-23T19:50:38Z",
      "side": 1,
      "message": "Thanks for the review. I have added some comments regarding the clipboard bubble. Please do let me know if there is anything incorrect or a better solution can be implemented for the bubble.\nI will add the changes soon, once I have access to device containing arc.",
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11db7d2d_321d1c9a",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "nit: Just to confirm that you don\u0027t have a chromium account and/or a company account?",
      "range": {
        "startLine": 31,
        "startChar": 4,
        "endLine": 31,
        "endChar": 27
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7e0eabc_861a99c1",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1512622
      },
      "writtenOn": "2021-07-23T19:50:38Z",
      "side": 1,
      "message": "No.  I have given permission here: https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/2944267/comments/5fa5a5ff_d05e8535\nto be contacted after GSoC.",
      "parentUuid": "11db7d2d_321d1c9a",
      "range": {
        "startLine": 31,
        "startChar": 4,
        "endLine": 31,
        "endChar": 27
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2933d60_3fb6998e",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1162075
      },
      "writtenOn": "2021-07-23T09:12:20Z",
      "side": 1,
      "message": "Let\u0027s remove this and test that copy to ARC is prevented even when it\u0027s not set, i.e.that it\u0027s not an effect of blocking all URL destinations.",
      "range": {
        "startLine": 56,
        "startChar": 5,
        "endLine": 58,
        "endChar": 6
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ebe127c9_3649dad4",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1409038
      },
      "writtenOn": "2021-07-23T12:02:56Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "a2933d60_3fb6998e",
      "range": {
        "startLine": 56,
        "startChar": 5,
        "endLine": 58,
        "endChar": 6
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e50decdf_79ea4ddd",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 103,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "nit: I\u0027d move these const to L117... where they are used for the first time.",
      "range": {
        "startLine": 103,
        "startChar": 1,
        "endLine": 103,
        "endChar": 8
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8b31d7b_8bf44660",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "nit: add comment for \"fieldID\". something like:\n\n// used to identify test field in UIAutomator (or something like that)",
      "range": {
        "startLine": 108,
        "startChar": 0,
        "endLine": 108,
        "endChar": 33
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9099313_4c734eac",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 123,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "nit:  \"wantAllowed\" -\u003e \"copyAllowed\"",
      "range": {
        "startLine": 123,
        "startChar": 2,
        "endLine": 123,
        "endChar": 13
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67996cce_c6f592cb",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 146,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "nit: add comment saying what you are copying?\n\nNot clear from the code if you are copying the contents from the page, omnibar, etc... Do you need to wait until the page finish loading?\n\n\nPlease add comment saying that.",
      "range": {
        "startLine": 144,
        "startChar": 3,
        "endLine": 146,
        "endChar": 4
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3936d64_faa3b589",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 152,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "nit: do you need to create/start/stop a new activity, or can you reuse it?\n\ne.g: does it work if you move the creation/start/stop/ui-wait-for-exist outside the \"for ... range\" ?",
      "range": {
        "startLine": 152,
        "startChar": 3,
        "endLine": 152,
        "endChar": 52
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a63caa4_0985ebd8",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 159,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2021-07-23T15:02:32Z",
      "side": 1,
      "message": "Can we also include the err in this statement?",
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "281ec73b_e8fec4ed",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 164,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2021-07-23T15:02:32Z",
      "side": 1,
      "message": "Does the test timeout need to be adjusted if there are two subtests running, each with two ~30 second operations?",
      "range": {
        "startLine": 164,
        "startChar": 57,
        "endLine": 164,
        "endChar": 71
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "afedf4de_e1357367",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 194,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "nit: (here and in the rest)\nusually we use \"got; want\" in Go (instead of \"got; expected\")",
      "range": {
        "startLine": 194,
        "startChar": 37,
        "endLine": 194,
        "endChar": 45
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5bd8d9d_9c48df68",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 198,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "nit: \"didn\u0027t copied\" -\u003e \"didn\u0027t copy\" or better: \n   \n   s.Fatal(\"Failed to copy string: \", copiedString)",
      "range": {
        "startLine": 198,
        "startChar": 28,
        "endLine": 198,
        "endChar": 34
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7d81853_82cd1c47",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 204,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "nit: please add docstring to all non-trivial functions",
      "range": {
        "startLine": 204,
        "startChar": 0,
        "endLine": 204,
        "endChar": 4
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "328bf83e_e29e70f4",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 204,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "nit: Arc -\u003e ARC",
      "range": {
        "startLine": 204,
        "startChar": 10,
        "endLine": 204,
        "endChar": 13
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3dc3dfc_57cb5380",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 207,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "this is kind of fragile.\n\nFrom where did you get the format of the sentence? What happens if that changes in the future?\n\nIs there a more robust way to check for it?",
      "range": {
        "startLine": 207,
        "startChar": 43,
        "endLine": 207,
        "endChar": 124
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7fa8e2fd_b99a99ad",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 207,
      "author": {
        "id": 1512622
      },
      "writtenOn": "2021-07-23T19:50:38Z",
      "side": 1,
      "message": "Format is from here: https://source.chromium.org/chromium/chromium/src/+/main:components/policy_strings.grdp;l\u003d622?q\u003d%22has%20been%20blocked%20by%20administrator%20policy%22\n\nRegarding the Bubble:\n - Clipboard bubble is a toast (Or an ash toast)\n - Toast bubble are in chromium os they cannot be accessed using chrome i.e using ash package of tast (Or ash.WaitForNotification)\n - Other tests that access toast notification also use same uiauto \n like here: https://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast-tests/src/chromiumos/tast/local/crostini/ui/sharedfolders/sharedfolders.go;l\u003d81?q\u003d%22%2F%2F%20ShareToastNotification%20represents%20an%20instance%20of%20the%20toast%20notification%20of%20sharing%20folder.%22\n\n\nOne discussion related to this is here: https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/3038223/comments/7dfb23cc_b090653e",
      "parentUuid": "e3dc3dfc_57cb5380",
      "range": {
        "startLine": 207,
        "startChar": 43,
        "endLine": 207,
        "endChar": 124
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cdab3e20_a3a0c299",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 209,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "this is tricky.\n\nCould it happen that WaitUntilExits times-out (for whatever reason), so, it returns an error... but if given more time it would have returned \"nil\" ?\n\nor that the Toast appeared \u0026 disappeared, but WaitForExists failed to capture it?\n\nWhatever the answer, comments needs to be added saying how robust/fragile this is.\nAnd if this is very fragile, probably another solution is needed.",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 209,
        "endChar": 46
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a77214e2_76271165",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 209,
      "author": {
        "id": 1512622
      },
      "writtenOn": "2021-07-23T19:50:38Z",
      "side": 1,
      "message": "\u003e Could it happen that WaitUntilExits times-out (for whatever reason), so, it returns an error... but if given more time it would have returned \"nil\" ?\n\n\u003e or that the Toast appeared \u0026 disappeared, but WaitForExists failed to capture it?\n\nFor this I could create ui :\u003d uiauto.New(tconn) before the content is pasted so that it doesn\u0027t take time to create the ui. But will have to depend on WaitUntilExits function for robustness.\n\nRegarding the solution:\n - As mentioned above, as per my understanding, can\u0027t access toast using chrome.\n - There is something CommandContext which prepares to run an external command here: https://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast-tests/src/chromiumos/tast/common/testexec/testexec.go;l\u003d96?q\u003d%22%2F%2F%20CommandContext%20prepares%20to%20run%20an%20external%20command.%22 I am not sure but it can be used to run os commands maybe use this to access toast.\n \n - A simpler way could be to check for different parts of the bubble separately  like different parts of string, or ancestor of the string and got it button",
      "parentUuid": "cdab3e20_a3a0c299",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 209,
        "endChar": 46
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "15c3fb9d_51aed81a",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 216,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2021-07-23T15:02:32Z",
      "side": 1,
      "message": "nit: add comma after \"found\"",
      "range": {
        "startLine": 216,
        "startChar": 37,
        "endLine": 216,
        "endChar": 42
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc4e2e9c_17ca7057",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data_leak_prevention_rules_list_arc_clipboard.go",
        "patchSetId": 2
      },
      "lineNbr": 216,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2021-07-23T17:44:34Z",
      "side": 1,
      "message": "nit: returned errors should not start with capital letter: \"Clipboard\" -\u003e \"clipboard\"",
      "range": {
        "startLine": 216,
        "startChar": 21,
        "endLine": 216,
        "endChar": 22
      },
      "revId": "180598b4c31b3a1ab3b83aff033bb4605c212cf1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}