{
  "comments": [
    {
      "key": {
        "uuid": "319f6564_39fb27b0",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/settings_toggle_advanced.go",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-03-26T17:48:38Z",
      "side": 1,
      "message": "nit: Can you check if it works if you poll for chrome.autotestPrivate.launchApp?\n\nI just want to see if there is a general way to ensure that chrome is ready to launch all apps. I feel like this is an initialization problem that may need to be fixed elsewhere.\n\nIf you don\u0027t want to look into this rn, can you just file a bug for it.",
      "range": {
        "startLine": 73,
        "startChar": 1,
        "endLine": 86,
        "endChar": 2
      },
      "revId": "7ba7d199864087d5c4677e42e6c854be93decf1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d288527_f5c2c60a",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/settings_toggle_advanced.go",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-03-27T00:43:13Z",
      "side": 1,
      "message": "I checked for the existence of chrome.autotestPrivate.launchApp at the beginning of test by doing:\n\ncheck :\u003d false\ntconn.Eval(ctx, \"(typeof chrome.autotestPrivate.launchApp \u003d\u003d \u0027function\u0027)\", \u0026check)\n\nThe result is true immediately after initializing the tconn, so it should exist if this is a valid check (wasn\u0027t sure if there was a better way to check it). I tried launching the Files app without any polling and that one launches successfully, so the method should exist either way. Seems like the settings app just isn\u0027t available right away for some reason. The check I implemented works, but it definitely seems like there should be a better way than to do this before launching each app.",
      "parentUuid": "319f6564_39fb27b0",
      "range": {
        "startLine": 73,
        "startChar": 1,
        "endLine": 86,
        "endChar": 2
      },
      "revId": "7ba7d199864087d5c4677e42e6c854be93decf1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f253bda6_8c4e3518",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/settings_toggle_advanced.go",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-03-27T09:45:16Z",
      "side": 1,
      "message": "I am not very familiar with UI automation, but do we have guarantee that App wasn\u0027t launched?",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 66
      },
      "revId": "7ba7d199864087d5c4677e42e6c854be93decf1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "642263af_5ed3983d",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/settings_toggle_advanced.go",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-03-27T17:25:46Z",
      "side": 1,
      "message": "IIRC, the autotestPrivate LaunchApp method gets the chrome launch controller and then instructs it to launch a specified app id. It then returns. The app will have been instructed to be launch but not necessarily launched.\n\nThat being said, ash.WaitForApp, and ui.FindWithTimeout(...advHeadingParams...) would both fail if the app didn\u0027t launch.\n\nNot sure if that exactly answered your question.",
      "parentUuid": "f253bda6_8c4e3518",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 66
      },
      "revId": "7ba7d199864087d5c4677e42e6c854be93decf1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33d935c2_aceaab9b",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/settings_toggle_advanced.go",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-03-27T17:54:15Z",
      "side": 1,
      "message": "thanks for response!\n\nto be more clear: when you launch app, do you have guarantee that it\u0027s not launched? I\u0027d like to avoid situation when you have already running app in unknown state.",
      "parentUuid": "642263af_5ed3983d",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 66
      },
      "revId": "7ba7d199864087d5c4677e42e6c854be93decf1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b69d3fa_49f5cc67",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/settings_toggle_advanced.go",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-03-27T17:59:58Z",
      "side": 1,
      "message": "Given that this is the start of a test with the chrome.LoggedIn precondition, the app should be closed before this call. That is not something the test should have to worry about.",
      "parentUuid": "33d935c2_aceaab9b",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 66
      },
      "revId": "7ba7d199864087d5c4677e42e6c854be93decf1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a755f77d_8f1e76e4",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/settings_toggle_advanced.go",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-03-30T06:25:57Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "1b69d3fa_49f5cc67",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 66
      },
      "revId": "7ba7d199864087d5c4677e42e6c854be93decf1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f27d2b5_c1c4662a",
        "filename": "src/chromiumos/tast/local/chrome/ui/automation.go",
        "patchSetId": 2
      },
      "lineNbr": 204,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-03-27T09:45:16Z",
      "side": 1,
      "message": "What about adding watcher into Focus function?\n\nIn this case you can rename funciton to FocusAndWait, also caller logic will be simplified.",
      "range": {
        "startLine": 204,
        "startChar": 15,
        "endLine": 204,
        "endChar": 20
      },
      "revId": "7ba7d199864087d5c4677e42e6c854be93decf1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e324a815_3201a084",
        "filename": "src/chromiumos/tast/local/chrome/ui/automation.go",
        "patchSetId": 2
      },
      "lineNbr": 204,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-03-27T18:39:29Z",
      "side": 1,
      "message": "That sounds good, I went ahead and moved it into Focus. We\u0027ll just need to watch out in the future if other elements respond to focus() differently.",
      "parentUuid": "4f27d2b5_c1c4662a",
      "range": {
        "startLine": 204,
        "startChar": 15,
        "endLine": 204,
        "endChar": 20
      },
      "revId": "7ba7d199864087d5c4677e42e6c854be93decf1b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}