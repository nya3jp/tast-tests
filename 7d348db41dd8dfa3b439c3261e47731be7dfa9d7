{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a0b50291_b6a94cb6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1265562
      },
      "writtenOn": "2021-11-12T17:25:32Z",
      "side": 1,
      "message": "Based on https://chromium.googlesource.com/chromiumos/platform/tast-tests/+/refs/heads/main/helpers/local/README.md your change is correct.",
      "revId": "7d348db41dd8dfa3b439c3261e47731be7dfa9d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "67bbccec_c02f79dc",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/seccomp.go",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1265562
      },
      "writtenOn": "2021-11-12T17:25:32Z",
      "side": 1,
      "message": "I looked for a runtime function to get the parent path and didn\u0027t find any. I suspect when the test was being written cros deploy was used which might have installed to /usr instead of /usr/local. Otherwise, it wouldn\u0027t have worked during local testing.\n\nIt might be worth filling a bug for the tast owners to look at replacing the /usr/local/libexec/tast/helpers prefix with a runtime function that provides the correct path based on where tast is installed (/usr vs /usr/local).",
      "range": {
        "startLine": 67,
        "startChar": 26,
        "endLine": 67,
        "endChar": 32
      },
      "revId": "7d348db41dd8dfa3b439c3261e47731be7dfa9d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3ee23c1_799ced48",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/seccomp.go",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1305461
      },
      "writtenOn": "2021-11-12T18:36:12Z",
      "side": 1,
      "message": "Not a bad idea. Jun, as a tast OWNER do you have any thoughts on this suggestion?",
      "parentUuid": "67bbccec_c02f79dc",
      "range": {
        "startLine": 67,
        "startChar": 26,
        "endLine": 67,
        "endChar": 32
      },
      "revId": "7d348db41dd8dfa3b439c3261e47731be7dfa9d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b538dcda_0a362915",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/seccomp.go",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-11-13T00:17:25Z",
      "side": 1,
      "message": "+1 to Allen\u0027s suggestion. Unfortunately I do not have any knowledge of Tast runtime functions. Assign this cl to nya who is in the Tast core team.",
      "parentUuid": "f3ee23c1_799ced48",
      "range": {
        "startLine": 67,
        "startChar": 26,
        "endLine": 67,
        "endChar": 32
      },
      "revId": "7d348db41dd8dfa3b439c3261e47731be7dfa9d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "503ec490_64c72e2a",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/seccomp.go",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-11-15T01:38:18Z",
      "side": 1,
      "message": "This file should be always installed to /usr/local since it\u0027s used only in tests. So it sounds not right to replace them with function calls.\n\nI\u0027d rather make it an error to deploy tast-local-helpers-cros to /usr, though I\u0027m not sure if it\u0027s easy.",
      "parentUuid": "b538dcda_0a362915",
      "range": {
        "startLine": 67,
        "startChar": 26,
        "endLine": 67,
        "endChar": 32
      },
      "revId": "7d348db41dd8dfa3b439c3261e47731be7dfa9d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e62a2d98_2b887761",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/seccomp.go",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1265562
      },
      "writtenOn": "2021-11-15T02:07:07Z",
      "side": 1,
      "message": "That could probably be done in one/all of the tast ebuilds in pkg_pre_install.",
      "parentUuid": "503ec490_64c72e2a",
      "range": {
        "startLine": 67,
        "startChar": 26,
        "endLine": 67,
        "endChar": 32
      },
      "revId": "7d348db41dd8dfa3b439c3261e47731be7dfa9d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1b47fe6_497fb579",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/seccomp.go",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-11-15T02:54:32Z",
      "side": 1,
      "message": "Thanks for the info!\n\nThere are several packages that are supposed to be installed to /usr/local, not necessarily Tast specific, e.g. x11-apps/igt-gpu-tools:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/graphics/igt.go;l\u003d521?q\u003dpackage:chromeos%20file:%2Ftast-tests%2F%20%22%2Fusr%2Flocal%22\u0026start\u003d21\n\nSo it\u0027s nice if we could have a generic solution to those packages.",
      "parentUuid": "e62a2d98_2b887761",
      "range": {
        "startLine": 67,
        "startChar": 26,
        "endLine": 67,
        "endChar": 32
      },
      "revId": "7d348db41dd8dfa3b439c3261e47731be7dfa9d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}