{
  "comments": [
    {
      "key": {
        "uuid": "8f8cfea3_6e2b20ce",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-01-07T11:42:42Z",
      "side": 1,
      "message": "It shouldn\u0027t be so hard to keep this list sorted manually.",
      "range": {
        "startLine": 51,
        "startChar": 1,
        "endLine": 51,
        "endChar": 19
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9504aea_41127594",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-01-07T16:15:55Z",
      "side": 1,
      "message": "Apologies if I misunderstand; but, I initialize the \"want\" slice this way since that\u0027s the order metrics are received. Should this be done a different way?",
      "parentUuid": "8f8cfea3_6e2b20ce",
      "range": {
        "startLine": 51,
        "startChar": 1,
        "endLine": 51,
        "endChar": 19
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2184deae_94c300a2",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1117055
      },
      "writtenOn": "2020-01-08T00:46:27Z",
      "side": 1,
      "message": "Since we never use the unsorted |want| slice, does it make any difference if we just define it in sorted order?",
      "parentUuid": "c9504aea_41127594",
      "range": {
        "startLine": 51,
        "startChar": 1,
        "endLine": 51,
        "endChar": 19
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "598432f1_c739fc87",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-01-09T20:22:42Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "2184deae_94c300a2",
      "range": {
        "startLine": 51,
        "startChar": 1,
        "endLine": 51,
        "endChar": 19
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0d7326b_2a0aaac4",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-01-07T11:42:42Z",
      "side": 1,
      "message": "sortedHeader?",
      "range": {
        "startLine": 53,
        "startChar": 1,
        "endLine": 53,
        "endChar": 4
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc1ce465_6f30dbcb",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-01-07T16:15:55Z",
      "side": 1,
      "message": "Is it better (stylistically) to use got/want in go? I can change it if not.",
      "parentUuid": "f0d7326b_2a0aaac4",
      "range": {
        "startLine": 53,
        "startChar": 1,
        "endLine": 53,
        "endChar": 4
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1b683c30_166c5915",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1117055
      },
      "writtenOn": "2020-01-08T00:46:27Z",
      "side": 1,
      "message": "The \"got/want\" framing is specifically required by the style guide for reporting in logs. I don\u0027t believe identifiers also have to follow that tradition.",
      "parentUuid": "bc1ce465_6f30dbcb",
      "range": {
        "startLine": 53,
        "startChar": 1,
        "endLine": 53,
        "endChar": 4
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a9914e5_f392e45a",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-01-08T13:17:09Z",
      "side": 1,
      "message": "then maybe we can use `gotUnsorted` and `got` variables?",
      "parentUuid": "1b683c30_166c5915",
      "range": {
        "startLine": 53,
        "startChar": 1,
        "endLine": 53,
        "endChar": 4
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b38cff02_6b438b84",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 53,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-01-09T20:22:42Z",
      "side": 1,
      "message": "I\u0027ve defined the |want| slice in sorted order, so, maybe the needed identifier name changes (if any) are different now?",
      "parentUuid": "1a9914e5_f392e45a",
      "range": {
        "startLine": 53,
        "startChar": 1,
        "endLine": 53,
        "endChar": 4
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39e11fca_984814ce",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-01-07T11:42:42Z",
      "side": 1,
      "message": "not related question, but why `telem` can not return sorted list of headers?",
      "range": {
        "startLine": 55,
        "startChar": 1,
        "endLine": 55,
        "endChar": 18
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43f1b3c8_d9b5d866",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-01-07T16:15:55Z",
      "side": 1,
      "message": "I do believe at one point it was (all the smart and non-smart metrics were sorted but returned as one group after another); but, over time as new metrics were added, the sorted order was broken. I can make a separate change in the future to put them back in sorted order.",
      "parentUuid": "39e11fca_984814ce",
      "range": {
        "startLine": 55,
        "startChar": 1,
        "endLine": 55,
        "endChar": 18
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78299596_3bea39c9",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1117055
      },
      "writtenOn": "2020-01-08T00:46:27Z",
      "side": 1,
      "message": "I think it\u0027s fine not to rely on whether telem sorts its output since we are doing this for an equality check on lists. Otherwise, this test might be fragile in the future if telem ends up producing unsorted results.",
      "parentUuid": "43f1b3c8_d9b5d866",
      "range": {
        "startLine": 55,
        "startChar": 1,
        "endLine": 55,
        "endChar": 18
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "18ecc1b5_a3285f02",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1117055
      },
      "writtenOn": "2020-01-08T00:46:27Z",
      "side": 1,
      "message": "Maybe not for this CL, but is there any circumstance where we want to accept e.g. not having the metrics line?",
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8152cdf_d5a2e758",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-01-09T20:22:42Z",
      "side": 1,
      "message": "Hmm, I can\u0027t think of a situation right now where we wouldn\u0027t want the metrics line; but, if the situation does arise in the future, I\u0027ll update the test.",
      "parentUuid": "18ecc1b5_a3285f02",
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20a756f5_ad1c2508",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1117055
      },
      "writtenOn": "2020-01-10T00:52:29Z",
      "side": 1,
      "message": "Right -- I think that right now the test will silently pass on len(lines) \u003d\u003d 1 or len(lines) \u003e 2. If that\u0027s not what we want, then we should probably fail here if len(lines) !\u003d 2.\n\nAnd in fact, looking at this again, we already check this on L47. So I don\u0027t think this condition is actually necessary at all.",
      "parentUuid": "d8152cdf_d5a2e758",
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9f95e43_9c96405b",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-01-07T11:42:42Z",
      "side": 1,
      "message": "Isn\u0027t error if only one value is equal to \"0\"?",
      "range": {
        "startLine": 69,
        "startChar": 5,
        "endLine": 69,
        "endChar": 92
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5dbbb413_326e2c07",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-01-07T16:15:55Z",
      "side": 1,
      "message": "In most cases, I anticipate that either both will be 0 (on error) or nonzero (success). None of the values should be 0 though, so, I have broken it down into three possible cases. Is there a better way to do this?",
      "parentUuid": "b9f95e43_9c96405b",
      "range": {
        "startLine": 69,
        "startChar": 5,
        "endLine": 69,
        "endChar": 92
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0929a871_aca59332",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1117055
      },
      "writtenOn": "2020-01-08T00:46:27Z",
      "side": 1,
      "message": "You can also check each separately and s.Error instead of s.Fatal, so both errors can be reported.",
      "parentUuid": "5dbbb413_326e2c07",
      "range": {
        "startLine": 69,
        "startChar": 5,
        "endLine": 69,
        "endChar": 92
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b8f2553_229131e1",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-01-08T13:17:09Z",
      "side": 1,
      "message": "+1 for s.Error\n\nand you can do next:\n\nfor key in []string{\"manufacture_date_smart\", ...} {\n  if value, ok :\u003d contentsMap[key]; !ok || value \u003d\u003d \"0\" {\n    s.Error(\"Failed to collect %s\", key)\n  }\n}",
      "parentUuid": "0929a871_aca59332",
      "range": {
        "startLine": 69,
        "startChar": 5,
        "endLine": 69,
        "endChar": 92
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c7776a6_58af48b1",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-01-08T13:19:08Z",
      "side": 1,
      "message": "Also, can we check each string from `want` slice?",
      "parentUuid": "3b8f2553_229131e1",
      "range": {
        "startLine": 69,
        "startChar": 5,
        "endLine": 69,
        "endChar": 92
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ac05b93_95e870cd",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-01-09T20:22:42Z",
      "side": 1,
      "message": "Made the s.Error and for loop change. Apologies if I\u0027m misunderstanding, but do you mean we should test for all the other values as well? I did want this change to specifically catch smart battery related regressions.",
      "parentUuid": "9c7776a6_58af48b1",
      "range": {
        "startLine": 69,
        "startChar": 5,
        "endLine": 69,
        "endChar": 92
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a87d040d_b8c09d9b",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-01-09T21:46:55Z",
      "side": 1,
      "message": "Yes, we can add other string as well. You are adding validation for some fields, so why don\u0027t add validation for all of them if it\u0027ll be for free?",
      "parentUuid": "0ac05b93_95e870cd",
      "range": {
        "startLine": 69,
        "startChar": 5,
        "endLine": 69,
        "endChar": 92
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fccf534d_1c22aa87",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_battery_metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-01-09T22:16:51Z",
      "side": 1,
      "message": "Done. I added some validation to make sure the other values are also not getting default values (which happens in the cases of errors).",
      "parentUuid": "a87d040d_b8c09d9b",
      "range": {
        "startLine": 69,
        "startChar": 5,
        "endLine": 69,
        "endChar": 92
      },
      "revId": "5e18aea5fb2514524c95216db9e34129d0803a27",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}