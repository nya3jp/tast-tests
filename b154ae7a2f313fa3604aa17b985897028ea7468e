{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d8b244a8_6d6a4b7b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-01-31T10:41:31Z",
      "side": 1,
      "message": "Adding Kamil as a reviewer, as there are multiple Kiosk instance openings and closings.\nI would say it is better to keep the instances separate, and I don\u0027t know if it possible to combine them like this.",
      "revId": "b154ae7a2f313fa3604aa17b985897028ea7468e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a06c88d7_4f5a34fa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1368301
      },
      "writtenOn": "2022-01-31T12:23:38Z",
      "side": 1,
      "message": "I have changed the test so that it creates and closes two separate Kiosk instances. It works as intended on my test device.",
      "parentUuid": "d8b244a8_6d6a4b7b",
      "revId": "b154ae7a2f313fa3604aa17b985897028ea7468e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "224fcad9_56f8e617",
        "filename": "src/chromiumos/tast/local/bundles/cros/kiosk/apps_cached_offline.go",
        "patchSetId": 4
      },
      "lineNbr": 58,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-01-31T10:41:31Z",
      "side": 1,
      "message": "`kiosk.Close(ctx)` is closing the chrome instance as well, so closing it here can have side effects.\nIt is better to trigger the deferred kiosk closing instead.\nYou can do it by for example putting the code above into an anonymous function.",
      "range": {
        "startLine": 56,
        "startChar": 1,
        "endLine": 58,
        "endChar": 2
      },
      "revId": "b154ae7a2f313fa3604aa17b985897028ea7468e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "95cff658_0b59819e",
        "filename": "src/chromiumos/tast/local/bundles/cros/kiosk/apps_cached_offline.go",
        "patchSetId": 4
      },
      "lineNbr": 58,
      "author": {
        "id": 1368301
      },
      "writtenOn": "2022-01-31T12:23:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "224fcad9_56f8e617",
      "range": {
        "startLine": 56,
        "startChar": 1,
        "endLine": 58,
        "endChar": 2
      },
      "revId": "b154ae7a2f313fa3604aa17b985897028ea7468e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8cc4b24_60970986",
        "filename": "src/chromiumos/tast/local/bundles/cros/kiosk/apps_cached_offline.go",
        "patchSetId": 4
      },
      "lineNbr": 84,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-01-31T10:41:31Z",
      "side": 1,
      "message": "minor nit: Chrome",
      "range": {
        "startLine": 84,
        "startChar": 47,
        "endLine": 84,
        "endChar": 53
      },
      "revId": "b154ae7a2f313fa3604aa17b985897028ea7468e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "61634d42_bb6be933",
        "filename": "src/chromiumos/tast/local/bundles/cros/kiosk/apps_cached_offline.go",
        "patchSetId": 4
      },
      "lineNbr": 84,
      "author": {
        "id": 1368301
      },
      "writtenOn": "2022-01-31T12:23:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a8cc4b24_60970986",
      "range": {
        "startLine": 84,
        "startChar": 47,
        "endLine": 84,
        "endChar": 53
      },
      "revId": "b154ae7a2f313fa3604aa17b985897028ea7468e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb674273_11885788",
        "filename": "src/chromiumos/tast/local/bundles/cros/kiosk/apps_cached_offline.go",
        "patchSetId": 4
      },
      "lineNbr": 119,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-01-31T12:23:39Z",
      "side": 1,
      "message": "I would move that to the kioskmode library.",
      "range": {
        "startLine": 95,
        "startChar": 1,
        "endLine": 119,
        "endChar": 1
      },
      "revId": "b154ae7a2f313fa3604aa17b985897028ea7468e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "30ffca39_9e633f2f",
        "filename": "src/chromiumos/tast/local/bundles/cros/kiosk/apps_cached_offline.go",
        "patchSetId": 4
      },
      "lineNbr": 119,
      "author": {
        "id": 1368301
      },
      "writtenOn": "2022-01-31T13:39:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb674273_11885788",
      "range": {
        "startLine": 95,
        "startChar": 1,
        "endLine": 119,
        "endChar": 1
      },
      "revId": "b154ae7a2f313fa3604aa17b985897028ea7468e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f797a5d_f8e91e51",
        "filename": "src/chromiumos/tast/local/kioskmode/kiosk_mode.go",
        "patchSetId": 4
      },
      "lineNbr": 294,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-01-31T12:23:39Z",
      "side": 1,
      "message": "What if we called this function ResatartChromeWithOptions and do here:\n\nif err \u003d k.cr.Close(ctx); err !\u003d nil {\n\ts.Fatal(\"Failed to close Chrome instance: \", err)\n}\ns.Log(\"Restarting ui\")\nif err :\u003d upstart.RestartJob(ctx, \"ui\"); err !\u003d nil {\n\ts.Fatal(\"Failed to restart ui: \", err)\n}\n\nThen tests would not need to do Chrome trestat",
      "revId": "b154ae7a2f313fa3604aa17b985897028ea7468e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "37dc0dbd_0a2d1437",
        "filename": "src/chromiumos/tast/local/kioskmode/kiosk_mode.go",
        "patchSetId": 4
      },
      "lineNbr": 294,
      "author": {
        "id": 1368301
      },
      "writtenOn": "2022-01-31T13:39:02Z",
      "side": 1,
      "message": "I have changed the test to create a separate Kiosk context while offline and it worked well. Therefore this function is no longer needed.",
      "parentUuid": "9f797a5d_f8e91e51",
      "revId": "b154ae7a2f313fa3604aa17b985897028ea7468e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}