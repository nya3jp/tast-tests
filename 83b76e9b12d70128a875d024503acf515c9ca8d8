{
  "comments": [
    {
      "key": {
        "uuid": "728ccecc_5357036b",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 5,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "nit: maybe \"Package cpu measures CPU usage.\"",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b7f1cb2_a4977f35",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "nit: \"... if the CPU usage is less than utilization, a percentage in the range [0.0, 100.0].\"\n\nexcept it looks like it may be in [0.0, 1.0]? if so, please say \"..., a fraction in the range [0.0, 1.0].\" instead",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1278b584_e05f0088",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "nit: just use time.Second",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d093d066_f0d4f094",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "please define this within the loop and break out of it immediately after computing the active time",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd5bd43b_70d29d03",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 24,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "nit: just use time.Duration(0) or \"var timePassed time.Duration\"",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "412267ee_8dc60daa",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "use %v here and e.g. timeout.Round(time.Millisecond) or .Round(time.Second) on the right",
      "range": {
        "startLine": 25,
        "startChar": 50,
        "endLine": 25,
        "endChar": 53
      },
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e7c754e_f050419e",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 31,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "this will sleep past the context\u0027s deadline. please use testing.Poll instead (with appropriate interval and timeout values)",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f45a6410_8784d882",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "same comment as above re duration formatting",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9eb68723_cd493890",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 45,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "please don\u0027t use exponential backoffs like this. this means that this function can take almost 16 seconds longer to return than it actually needs",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dddf156c_e5d52a10",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "same here re formatting too",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74247408_6fdb8f77",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 63,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "it would probably be better to use a well-tested third-party package like https://github.com/c9s/goprocinfo for this instead of adding new code.",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fdb6e070_5b4eb9a8",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/lib/cpu/cpu.go",
        "patchSetId": 3
      },
      "lineNbr": 63,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-10-30T03:41:54Z",
      "side": 1,
      "message": "Can you try gopsutil first since we already have it installed on chroot?\n\nhttps://godoc.org/github.com/shirou/gopsutil/cpu#TimesStat",
      "parentUuid": "74247408_6fdb8f77",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23842177_e07dcc01",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/playback/playback.go",
        "patchSetId": 3
      },
      "lineNbr": 45,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-10-30T02:01:50Z",
      "side": 1,
      "message": "Add a comment here",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a7f12ff_12293017",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/playback/playback.go",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-10-30T02:01:50Z",
      "side": 1,
      "message": "Something like:\nThe maximum time we will wait for the CPU to become idle.",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0641b05_f6f8c239",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/playback/playback.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-10-30T02:01:50Z",
      "side": 1,
      "message": "Maybe use something like:\nThe CPU is considered idle when average usage is below this threshold.",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e7aa243_88c98cfe",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/playback/playback.go",
        "patchSetId": 3
      },
      "lineNbr": 77,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-10-30T02:01:50Z",
      "side": 1,
      "message": "\"...and dropped frames percentage while playing...\"",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29da62fe_99f00ab8",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/playback/playback.go",
        "patchSetId": 3
      },
      "lineNbr": 87,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-10-30T02:01:50Z",
      "side": 1,
      "message": "... # of dropped frames and dropped frames percentage",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d9d8045_56f940b4",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/playback/playback.go",
        "patchSetId": 3
      },
      "lineNbr": 100,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-10-30T02:01:50Z",
      "side": 1,
      "message": "measure is not very descriptive. Maybe something like \"measurePerformance\", \"measureVideoPlaybackPerformance\",...?",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b38d65c_b2f00e0d",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/playback/playback.go",
        "patchSetId": 3
      },
      "lineNbr": 118,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-10-30T02:01:50Z",
      "side": 1,
      "message": "Where is hwState coming from? Is it a global variable? Adding it as a parameter to the function might be a bit more readable. Maybe also add a comment explaining where it comes from.",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6e15418_a9b68447",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/playback/playback.go",
        "patchSetId": 3
      },
      "lineNbr": 128,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-10-30T02:01:50Z",
      "side": 1,
      "message": "Why are you waiting until the CPU is idle enough? It might still be higher because of a previous test? Or maybe the CPU usage is still higher because it just booted? Could you add a comment explaining this?",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fb7c77c_13c8265f",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/playback/playback.go",
        "patchSetId": 3
      },
      "lineNbr": 158,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-10-30T02:01:50Z",
      "side": 1,
      "message": "I think it would be a bit cleaner to have separate functions to get CPU usage and dropped frame count.",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9f135da_599c8886",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/playback/playback.go",
        "patchSetId": 3
      },
      "lineNbr": 260,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-10-30T02:01:50Z",
      "side": 1,
      "message": "getCPUUsage sounds like the function will return immediately. Maybe call it MeasureCpuUsage or MeasureCpuUsageDuringInterval?",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b63dcf7a_f9d07283",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/playback_perf_h264.go",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-30T00:21:24Z",
      "side": 1,
      "message": "what\u0027s the reason for the high timeout here? in general, informational tests shouldn\u0027t take this long.",
      "revId": "83b76e9b12d70128a875d024503acf515c9ca8d8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}