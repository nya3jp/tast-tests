{
  "comments": [
    {
      "key": {
        "uuid": "d29b4f85_c8fc6946",
        "filename": "src/chromiumos/tast/local/power/sysfs_battery_metrics.go",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 1375928
      },
      "writtenOn": "2020-07-03T05:52:29Z",
      "side": 1,
      "message": "I think we could move this function, readLine and readFloat64 into a separate util.go file. We are using some of these functions in thermal_metrics.go. In fact, thermal_metrics.go also contains a readInt function. I wrote that one a few days ago, but I think we can just use your readInt64 instead and delete readInt.",
      "range": {
        "startLine": 39,
        "startChar": 5,
        "endLine": 39,
        "endChar": 14
      },
      "revId": "8ee1513c26ca37ca902806e8396b4c30999a97ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c48f5cf8_c4000049",
        "filename": "src/chromiumos/tast/local/power/sysfs_battery_metrics.go",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 1412469
      },
      "writtenOn": "2020-07-06T08:00:55Z",
      "side": 1,
      "message": "That\u0027s a good idea. I added a CL to add util.go and rebase this CL on top of it.",
      "parentUuid": "d29b4f85_c8fc6946",
      "range": {
        "startLine": 39,
        "startChar": 5,
        "endLine": 39,
        "endChar": 14
      },
      "revId": "8ee1513c26ca37ca902806e8396b4c30999a97ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "215d727b_edb4b727",
        "filename": "src/chromiumos/tast/local/power/sysfs_battery_metrics.go",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 1375928
      },
      "writtenOn": "2020-07-03T05:52:29Z",
      "side": 1,
      "message": "I am wondering if this is the same as `/sys/class/power_supply/\u003csupply_name\u003e/capacity_alert_min`.",
      "range": {
        "startLine": 52,
        "startChar": 5,
        "endLine": 52,
        "endChar": 33
      },
      "revId": "8ee1513c26ca37ca902806e8396b4c30999a97ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78d3dedb_b3c2b97d",
        "filename": "src/chromiumos/tast/local/power/sysfs_battery_metrics.go",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 1412469
      },
      "writtenOn": "2020-07-06T08:00:55Z",
      "side": 1,
      "message": "From my understanding, this value is coming from a file per overlay like src/overlays/overlay-orco/chromeos-base/chromeos-bsp-orco/files/powerd_prefs/low_battery_shutdown_percent. This value is used by powerd service and may be reflected to sysfs, but I don\u0027t know whether it is always reflected or not. I think it is better to get this value through check_powerd_config, not through sysfs.",
      "parentUuid": "215d727b_edb4b727",
      "range": {
        "startLine": 52,
        "startChar": 5,
        "endLine": 52,
        "endChar": 33
      },
      "revId": "8ee1513c26ca37ca902806e8396b4c30999a97ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b5c5761_85214456",
        "filename": "src/chromiumos/tast/local/power/sysfs_battery_metrics.go",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 1375928
      },
      "writtenOn": "2020-07-07T02:09:06Z",
      "side": 1,
      "message": "Sounds good",
      "parentUuid": "78d3dedb_b3c2b97d",
      "range": {
        "startLine": 52,
        "startChar": 5,
        "endLine": 52,
        "endChar": 33
      },
      "revId": "8ee1513c26ca37ca902806e8396b4c30999a97ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a9ab9f63_bee6d8f4",
        "filename": "src/chromiumos/tast/local/power/sysfs_battery_metrics.go",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1375928
      },
      "writtenOn": "2020-07-03T05:52:29Z",
      "side": 1,
      "message": "What does this mean?",
      "range": {
        "startLine": 68,
        "startChar": 38,
        "endLine": 68,
        "endChar": 42
      },
      "revId": "8ee1513c26ca37ca902806e8396b4c30999a97ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6bb3958_c940361d",
        "filename": "src/chromiumos/tast/local/power/sysfs_battery_metrics.go",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1412469
      },
      "writtenOn": "2020-07-06T08:00:55Z",
      "side": 1,
      "message": "Iota represents successive integer constants. (c.f. https://golang.org/ref/spec#Iota )\nThis idiom is also used in other Tast code so I used this. (e.g. https://source.chromium.org/chromiumos/chromiumos/codesearch/+/master:src/platform/tast-tests/src/chromiumos/tast/local/chrome/chrome.go;l\u003d114?q\u003diota\u0026sq\u003dpackage:%5Echromeos_public$ )",
      "parentUuid": "a9ab9f63_bee6d8f4",
      "range": {
        "startLine": 68,
        "startChar": 38,
        "endLine": 68,
        "endChar": 42
      },
      "revId": "8ee1513c26ca37ca902806e8396b4c30999a97ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97578a1b_dc0f32cb",
        "filename": "src/chromiumos/tast/local/power/sysfs_battery_metrics.go",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1375928
      },
      "writtenOn": "2020-07-07T02:09:06Z",
      "side": 1,
      "message": "Interesting, I didn\u0027t know about this.",
      "parentUuid": "d6bb3958_c940361d",
      "range": {
        "startLine": 68,
        "startChar": 38,
        "endLine": 68,
        "endChar": 42
      },
      "revId": "8ee1513c26ca37ca902806e8396b4c30999a97ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3de6a481_dc82d413",
        "filename": "src/chromiumos/tast/local/power/sysfs_battery_metrics.go",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1375928
      },
      "writtenOn": "2020-07-03T05:52:29Z",
      "side": 1,
      "message": "This is return how much the battery is currently charged right? I think `capacity` may not be right word. The capacity is how much energy the battery can hold if it is full charged. But since the sysfs file is also called `capacity`, I think this is fine.",
      "range": {
        "startLine": 105,
        "startChar": 5,
        "endLine": 105,
        "endChar": 24
      },
      "revId": "8ee1513c26ca37ca902806e8396b4c30999a97ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}