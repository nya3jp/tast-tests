{
  "comments": [
    {
      "key": {
        "uuid": "6f8a69ec_fd20cb7a",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/rulebased_ime_typing.go",
        "patchSetId": 6
      },
      "lineNbr": 29,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-24T06:02:50Z",
      "side": 1,
      "message": "What does putting \"IME\" here do?",
      "revId": "abb91fae89e864b7aafcccee9df5e0d8d680b986",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab4fdad2_da63425b",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/rulebased_ime_typing.go",
        "patchSetId": 6
      },
      "lineNbr": 29,
      "author": {
        "id": 1333018
      },
      "writtenOn": "2019-06-24T06:25:01Z",
      "side": 1,
      "message": "It does not do anything at the moment, I\u0027ve removed it",
      "parentUuid": "6f8a69ec_fd20cb7a",
      "revId": "abb91fae89e864b7aafcccee9df5e0d8d680b986",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f27eee53_bac7b707",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/rulebased_ime_typing.go",
        "patchSetId": 6
      },
      "lineNbr": 105,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-24T06:02:50Z",
      "side": 1,
      "message": "Yeah I don\u0027t think tast-owners will approve this. We need to have a way to wait for the input methods to change, without using hacky timeouts.",
      "revId": "abb91fae89e864b7aafcccee9df5e0d8d680b986",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4cdaaa1_b039fd1e",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/rulebased_ime_typing.go",
        "patchSetId": 6
      },
      "lineNbr": 105,
      "author": {
        "id": 1333018
      },
      "writtenOn": "2019-06-24T06:25:01Z",
      "side": 1,
      "message": "Hmm, the problem is that the `ime.SetCurrentInputMethod` function returns before the input method has been set.\n\nWhen I was testing, I found that I did not need the timeout in `rulebased_ime_typing` when I added a call to `vkb.ShowVirtualKeyboard` after it. The only reason why the test in `virtual_keyboard_suggestions.go` is not flaky is because `vkb.ShowVirtualKeyboard` and `vkb.WaitUntilShown` consistently take longer to run than the `SetCurrentInputMethod` function takes to update the IME. Currently, if the performance of ShowVirtualKeyboard is improved too much and it finishes rendering the keyboard too quickly, `virtual_keyboard_suggestions.go` will break.\n\nI\u0027m using a hacky timeout for now, but intend to fix both the problems by fixing the `SetCurrentInputMethod` function, so that it only returns when the IME has been updated, then I\u0027ll remove the sleep",
      "parentUuid": "f27eee53_bac7b707",
      "revId": "abb91fae89e864b7aafcccee9df5e0d8d680b986",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d52509aa_9dd9821d",
        "filename": "src/chromiumos/tast/local/chrome/ime/ime.go",
        "patchSetId": 6
      },
      "lineNbr": 1,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-24T06:02:50Z",
      "side": 1,
      "message": "nit: remove blank spaces.",
      "revId": "abb91fae89e864b7aafcccee9df5e0d8d680b986",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a789f8a3_5b064205",
        "filename": "src/chromiumos/tast/local/chrome/ime/ime.go",
        "patchSetId": 6
      },
      "lineNbr": 1,
      "author": {
        "id": 1333018
      },
      "writtenOn": "2019-06-24T06:25:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d52509aa_9dd9821d",
      "revId": "abb91fae89e864b7aafcccee9df5e0d8d680b986",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}