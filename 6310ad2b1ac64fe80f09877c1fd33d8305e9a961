{
  "comments": [
    {
      "key": {
        "uuid": "bd07da25_a4d39151",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_everything.go",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-10-10T01:12:33Z",
      "side": 1,
      "message": "huge nit: Enabling",
      "range": {
        "startLine": 43,
        "startChar": 11,
        "endLine": 43,
        "endChar": 17
      },
      "revId": "6310ad2b1ac64fe80f09877c1fd33d8305e9a961",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3df84ba_8b493e7b",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_time.go",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-10-10T01:12:33Z",
      "side": 1,
      "message": "huge nit: Enabling",
      "range": {
        "startLine": 40,
        "startChar": 11,
        "endLine": 40,
        "endChar": 17
      },
      "revId": "6310ad2b1ac64fe80f09877c1fd33d8305e9a961",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e451b439_0824b4c1",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_time.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-09T04:33:10Z",
      "side": 1,
      "message": "is this also measuring the time needed to download the image? if so, won\u0027t that make the timing depend on things beyond this code\u0027s control, i.e. cloud storage issues, the DUT\u0027s network connection, etc.?",
      "revId": "6310ad2b1ac64fe80f09877c1fd33d8305e9a961",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a51ae0d_ba7ec056",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_time.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1298800
      },
      "writtenOn": "2018-10-09T17:32:45Z",
      "side": 1,
      "message": "Yeah, this seems very fragile since there will be a huge dependence on network latency here (you do avoid the termina download time, but container requires the container image download). This also adds another long running test since it needs to do the whole VM/container init operation (but that\u0027ll be better after the tast preconditions work is done).  You *should* be able to rewrite this so that it excludes the download of the container image (I know we have a D-Bus signal regarding container download which can be monitored, so you should be able to track that and exclude that time period)....and then possibly work that into the existing CrostiniStartEverything test.\n\nWhat you should probably be also checking, which\u0027ll be much more common operations...is the startup time/shutdown time of an already installed VM/container.  You could do that at the end of the CrostiniStartEverything test where the last thing done is to stop the VM...then start it again and measure the time of both of those operations.\n\nderat@, this also raises an interesting case for preconditions in that this would undo the precondition...but then expect to put it back to where it was unless failure occurs (although I think you may have already accounted for that).",
      "parentUuid": "e451b439_0824b4c1",
      "revId": "6310ad2b1ac64fe80f09877c1fd33d8305e9a961",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67f3d7a1_867499a7",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_time.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-09T19:27:11Z",
      "side": 1,
      "message": "that\u0027s outside the scope of preconditions, unfortunately. in my in-progress chrome-logged-in precondition, i explicitly disallow tests from calling chrome.Chrome.Close, for instance. tests that want to e.g. verify that chrome starts correctly or measure how long it takes shouldn\u0027t use preconditions.",
      "parentUuid": "5a51ae0d_ba7ec056",
      "revId": "6310ad2b1ac64fe80f09877c1fd33d8305e9a961",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54295272_e87dbedd",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_time.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1298800
      },
      "writtenOn": "2018-10-09T20:29:13Z",
      "side": 1,
      "message": "We could also change the precondition to be VM/container installed since that takes the vast majority of the time....then tests that need a running VM can ensure it is started up and for something like this it can control it to test what it needs, then we wouldn\u0027t end up hiding things like Start/StopVm inside of a precondition where it can\u0027t be controlled.",
      "parentUuid": "67f3d7a1_867499a7",
      "revId": "6310ad2b1ac64fe80f09877c1fd33d8305e9a961",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9215523_e8cbc1b7",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_time.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-09T22:44:03Z",
      "side": 1,
      "message": "yep, that would work!",
      "parentUuid": "54295272_e87dbedd",
      "revId": "6310ad2b1ac64fe80f09877c1fd33d8305e9a961",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd093cc7_1da4fa63",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_time.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-10-10T01:12:33Z",
      "side": 1,
      "message": "Sounds good!\n\nFor now let\u0027s merge this test with CrostiniStartEverything. I hope we can split the test soon.",
      "parentUuid": "e9215523_e8cbc1b7",
      "revId": "6310ad2b1ac64fe80f09877c1fd33d8305e9a961",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ace885c_be1e9aca",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_time.go",
        "patchSetId": 2
      },
      "lineNbr": 72,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-09T04:33:10Z",
      "side": 1,
      "message": "nit: please put a comma at the end of this line:\n\n      Multiple: false,\n  }, duration.Seconds())",
      "range": {
        "startLine": 72,
        "startChar": 18,
        "endLine": 72,
        "endChar": 19
      },
      "revId": "6310ad2b1ac64fe80f09877c1fd33d8305e9a961",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "551ee15b_e6e27817",
        "filename": "src/chromiumos/tast/local/vm/util.go",
        "patchSetId": 2
      },
      "lineNbr": 279,
      "author": {
        "id": 1298800
      },
      "writtenOn": "2018-10-09T17:32:45Z",
      "side": 1,
      "message": "Channeling derat@ here...shouldn\u0027t this be?\n\n// EnableCrostiniSetting sets the preference for Crostini...",
      "range": {
        "startLine": 279,
        "startChar": 3,
        "endLine": 279,
        "endChar": 34
      },
      "revId": "6310ad2b1ac64fe80f09877c1fd33d8305e9a961",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd3a50db_d43f8630",
        "filename": "src/chromiumos/tast/local/vm/util.go",
        "patchSetId": 2
      },
      "lineNbr": 279,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-10-10T01:12:33Z",
      "side": 1,
      "message": "Yes, that\u0027s right.",
      "parentUuid": "551ee15b_e6e27817",
      "range": {
        "startLine": 279,
        "startChar": 3,
        "endLine": 279,
        "endChar": 34
      },
      "revId": "6310ad2b1ac64fe80f09877c1fd33d8305e9a961",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}