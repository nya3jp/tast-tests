{
  "comments": [
    {
      "key": {
        "uuid": "9853a6b2_5e33648e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1273510
      },
      "writtenOn": "2020-08-28T02:56:11Z",
      "side": 1,
      "message": "ihf@ PTAL. I believe this implements what we discussed yesterday.\n\nOthers: FYI",
      "revId": "ed63b04702672923c51847171d716c5b48b06bce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ee99062_c5d2b44a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000221
      },
      "writtenOn": "2020-09-02T00:15:01Z",
      "side": 1,
      "message": "I think it is pretty good. Just some minor changes to make things more clear.\n\nAlso I want to run it locally and have not done so yet.",
      "revId": "ed63b04702672923c51847171d716c5b48b06bce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fe12b301_75980327",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 407,
      "author": {
        "id": 1000221
      },
      "writtenOn": "2020-09-02T00:15:01Z",
      "side": 1,
      "message": "Do you think you could move all the 4 outer in one group?",
      "range": {
        "startLine": 407,
        "startChar": 2,
        "endLine": 407,
        "endChar": 33
      },
      "revId": "ed63b04702672923c51847171d716c5b48b06bce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b1f1326_101112da",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 407,
      "author": {
        "id": 1273510
      },
      "writtenOn": "2020-09-11T20:23:05Z",
      "side": 1,
      "message": "Done. Although, did you mean just split the maps or did you also want me to split the for loop below?",
      "parentUuid": "fe12b301_75980327",
      "range": {
        "startLine": 407,
        "startChar": 2,
        "endLine": 407,
        "endChar": 33
      },
      "revId": "ed63b04702672923c51847171d716c5b48b06bce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fc618984_c5acb0bf",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 408,
      "author": {
        "id": 1000221
      },
      "writtenOn": "2020-09-02T00:15:01Z",
      "side": 1,
      "message": "Do yo mind counting from 0 and in binary? So call the strings *_00, _01, _10, 11? I think that way it is easier to remember which point is which?",
      "range": {
        "startLine": 408,
        "startChar": 4,
        "endLine": 408,
        "endChar": 19
      },
      "revId": "ed63b04702672923c51847171d716c5b48b06bce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb2cbbc4_bb6d14b0",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 408,
      "author": {
        "id": 1273510
      },
      "writtenOn": "2020-09-11T20:23:05Z",
      "side": 1,
      "message": "Done. I also added a comment describing the convention.",
      "parentUuid": "fc618984_c5acb0bf",
      "range": {
        "startLine": 408,
        "startChar": 4,
        "endLine": 408,
        "endChar": 19
      },
      "revId": "ed63b04702672923c51847171d716c5b48b06bce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d98127d_3b12a168",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 416,
      "author": {
        "id": 1000221
      },
      "writtenOn": "2020-09-02T00:15:01Z",
      "side": 1,
      "message": "Can you define 2 new variables\nborderW \u003d 6\nstencilW \u003d 4\nand rewrite all these magic constants like \n\n\"inner_top_right_4\":    {videoW - borderW - 1, borderW + stencilW},",
      "range": {
        "startLine": 416,
        "startChar": 27,
        "endLine": 416,
        "endChar": 41
      },
      "revId": "ed63b04702672923c51847171d716c5b48b06bce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf95c87c_0b1a1867",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 416,
      "author": {
        "id": 1273510
      },
      "writtenOn": "2020-09-11T20:23:05Z",
      "side": 1,
      "message": "Done, although I\u0027m not sure that borderW is the most appropriate name: the actual video\u0027s border width is 8px. I instead used edgeOffset to communicate that this is how far from the edge I want to start.",
      "parentUuid": "2d98127d_3b12a168",
      "range": {
        "startLine": 416,
        "startChar": 27,
        "endLine": 416,
        "endChar": 41
      },
      "revId": "ed63b04702672923c51847171d716c5b48b06bce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63f9ae60_51fb9446",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 442,
      "author": {
        "id": 1000221
      },
      "writtenOn": "2020-09-02T00:15:01Z",
      "side": 1,
      "message": "I thought you would go over all pixels of the image? Or at least a bigger border area, not just the 20 pixels we sample? But if you want we can keep this for now and extend the area later.\n\nAlso, if you do use maximum in the color channels (infinity norm) then you can keep taking the maximum here, no need to switch to summation. (Otherwise we should normalize the summation with the number of pixels.) Basically totalDistance will give us the maximum distance over the color channels of pixel differences.\n\nhttps://scc.ustc.edu.cn/zlsc/sugon/intel/ipp/ipp_manual/IPPI/ippi_ch11/ch11_image_norms.htm\nhttps://medium.com/@montjoile/l0-norm-l1-norm-l2-norm-l-infinity-norm-7a7d18a4f40c",
      "range": {
        "startLine": 441,
        "startChar": 0,
        "endLine": 442,
        "endChar": 27
      },
      "revId": "ed63b04702672923c51847171d716c5b48b06bce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d62668c8_fa5c207f",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 442,
      "author": {
        "id": 1273510
      },
      "writtenOn": "2020-09-11T20:23:05Z",
      "side": 1,
      "message": "True. Let\u0027s go over the whole image.\n\nI\u0027m a bit afraid that just keeping track of the maximum distance might be too binary. For example, if we sample a pixel near an edge and converting from screenshot to video space causes us to get the reference pixel on the wrong side of the edge because of rounding, then the distance will go up drastically. I tried on nami for the 1080p test video and keeping track of the maximum distance outputs 114 (that\u0027s quite close to 127 which if you remember from the previous CL is the minimum distance between two colors in the video).\n\nMaybe let\u0027s try the other idea of adding the distances and normalizing by the number of pixels.",
      "parentUuid": "63f9ae60_51fb9446",
      "range": {
        "startLine": 441,
        "startChar": 0,
        "endLine": 442,
        "endChar": 27
      },
      "revId": "ed63b04702672923c51847171d716c5b48b06bce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}