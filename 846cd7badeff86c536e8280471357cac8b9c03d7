{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4e64b94b_01a948da",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1540282
      },
      "writtenOn": "2022-09-15T17:03:12Z",
      "side": 1,
      "message": "Please review, thanks! ",
      "revId": "846cd7badeff86c536e8280471357cac8b9c03d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97a5f3e5_b1327332",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/arc_youtube_cuj.go",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 1000623
      },
      "writtenOn": "2022-09-15T17:12:47Z",
      "side": 1,
      "message": "Can\u0027t we move this fatal logging into AddScreenRecorder?",
      "revId": "846cd7badeff86c536e8280471357cac8b9c03d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05d0e0a3_abef2a01",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/arc_youtube_cuj.go",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 1540282
      },
      "writtenOn": "2022-09-15T18:19:12Z",
      "side": 1,
      "message": "I don\u0027t think we can pass the testing state into the recorder, so if we want the test to fail if the screen-recorder isn\u0027t setup properly, I think we\u0027d need to keep a `Fatal` out in each test.",
      "parentUuid": "97a5f3e5_b1327332",
      "revId": "846cd7badeff86c536e8280471357cac8b9c03d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6020fb56_e5c2b432",
        "filename": "src/chromiumos/tast/local/ui/cujrecorder/recorder.go",
        "patchSetId": 4
      },
      "lineNbr": 164,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-09-15T20:02:47Z",
      "side": 1,
      "message": "Instead of having this, you can just check if each function is nil before calling it.",
      "range": {
        "startLine": 163,
        "startChar": 0,
        "endLine": 164,
        "endChar": 21
      },
      "revId": "846cd7badeff86c536e8280471357cac8b9c03d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be6d0f56_56600e6e",
        "filename": "src/chromiumos/tast/local/ui/cujrecorder/recorder.go",
        "patchSetId": 4
      },
      "lineNbr": 172,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-09-15T20:02:47Z",
      "side": 1,
      "message": "This should be `func(ctx context.Context)`. When this function is called, the potentially time-consuming part of the test is already done and has successfully collected performance data that might be useful. Then if there are problems saving the screen record, you can log them, but you should not return them causing the test to fail so that the performance data goes to waste.",
      "range": {
        "startLine": 172,
        "startChar": 23,
        "endLine": 172,
        "endChar": 36
      },
      "revId": "846cd7badeff86c536e8280471357cac8b9c03d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77e44882_09b62c97",
        "filename": "src/chromiumos/tast/local/ui/cujrecorder/recorder.go",
        "patchSetId": 4
      },
      "lineNbr": 275,
      "author": {
        "id": 1000623
      },
      "writtenOn": "2022-09-15T17:12:47Z",
      "side": 1,
      "message": "wonder if we should just take the test name here with an option to override the path? This will avoid some of the boilerplate around the default file path",
      "range": {
        "startLine": 275,
        "startChar": 82,
        "endLine": 275,
        "endChar": 90
      },
      "revId": "846cd7badeff86c536e8280471357cac8b9c03d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b57f0d86_1493d86e",
        "filename": "src/chromiumos/tast/local/ui/cujrecorder/recorder.go",
        "patchSetId": 4
      },
      "lineNbr": 275,
      "author": {
        "id": 1540282
      },
      "writtenOn": "2022-09-15T18:19:12Z",
      "side": 1,
      "message": "We\u0027d still have to pass in the out directory, which is usually found using the test state `s`. I think in practice we aren\u0027t supposed to pass in the testing state into anything outside of the test file. Thus, I think our options then become: do I have a single filepath variable, or two variables (the out dir and the test name). Before I make the change to all the files, do you have an opinion on which of the options you prefer? \n\nOne note is that different teams who use the recorder might want to append different things to the name (maybe a date, the build number, etc), so I want to make sure we have options for them as well.",
      "parentUuid": "77e44882_09b62c97",
      "range": {
        "startLine": 275,
        "startChar": 82,
        "endLine": 275,
        "endChar": 90
      },
      "revId": "846cd7badeff86c536e8280471357cac8b9c03d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c529ebb9_ddef1c43",
        "filename": "src/chromiumos/tast/local/ui/cujrecorder/recorder.go",
        "patchSetId": 4
      },
      "lineNbr": 292,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2022-09-15T19:58:32Z",
      "side": 1,
      "message": "I think `testing.ContextOutDir` and `s.OutDir` returns the same dir? Could we replace `filePath` by `testName` instead?",
      "range": {
        "startLine": 292,
        "startChar": 13,
        "endLine": 292,
        "endChar": 34
      },
      "revId": "846cd7badeff86c536e8280471357cac8b9c03d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "950f123e_8ac87790",
        "filename": "src/chromiumos/tast/local/ui/cujrecorder/recorder.go",
        "patchSetId": 4
      },
      "lineNbr": 303,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2022-09-15T20:02:47Z",
      "side": 1,
      "message": "This should be:\n\tr.screenRecorderCleanup \u003d func(ctx context.Context) {\n\t\tuiauto.ScreenRecorderStopSaveRelease(ctx, screenRecorder, filePath)\n\t}",
      "range": {
        "startLine": 287,
        "startChar": 0,
        "endLine": 303,
        "endChar": 2
      },
      "revId": "846cd7badeff86c536e8280471357cac8b9c03d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}