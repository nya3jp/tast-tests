{
  "comments": [
    {
      "key": {
        "uuid": "34ddcd6b_3b2ca2a4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-10-17T17:47:07Z",
      "side": 1,
      "message": "\"common\" is designed to put the library code which works for both local (i.e. on DUT) and remote (on Workstation (or the one equivalent in the lab)).\n\nHowever, the ones in the depending CLs looks like the code which only works on local or remote? If so, could you keep them in the local/remote directories properly?\n\nAlso, in the case, if you do not have any plans to use those libraries from outside of hwsec tests, could you put them in chromiumos/tast/{local,remote}/bundles/cros/hwsec/${subpackage}/...\nrespectively?",
      "revId": "d70ed22b4c536fd4061ba33b3c41f96e6bfd0da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5cb95b4_fbe54d39",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1314760
      },
      "writtenOn": "2019-10-28T14:32:33Z",
      "side": 1,
      "message": "This code is designed to work on both local and remote test. It aims to provide the same set of interface for accessing cryptohome on remote and local tests. For remote tests, cryptohome is accessed through executing commands on SSH, while for local tests, it\u0027s either executed directly or through dbus calls.\n\nSome of our tests have to be remote because they involves rebooting the machine due to hardware constraint. Meanwhile, it doesn\u0027t make sense to make the other local tests remote. These local and remote tests have some common code, and that\u0027s what this package is for.",
      "parentUuid": "34ddcd6b_3b2ca2a4",
      "revId": "d70ed22b4c536fd4061ba33b3c41f96e6bfd0da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a178ca5_fcff2b36",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-11-05T02:37:20Z",
      "side": 1,
      "message": "Hmm... I\u0027m not against to introduce the common package if necessary,\nbut it is yet unclear for me whether this is necessary.\n\nE.g.: https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/1839314/6 does not make sense to me to put under \"common\".\ncoverage.go assumes it runs under Remote. So it should be under remote package.\ndaemon_control and helpers assume they run under Local, so it should be under local.\n\nAs for later CLs, I\u0027d like to hear the comments from nya@, who\u0027s working on enriching the Remote test functionality, specifically RPCs.\nI know it depends on use cases, but adding one gRPC for each scenario may be simpler in terms of maintenance, rather than having one function for each operation.\nAny considerations?",
      "parentUuid": "b5cb95b4_fbe54d39",
      "revId": "d70ed22b4c536fd4061ba33b3c41f96e6bfd0da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b4955ce_13b85af2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1314760
      },
      "writtenOn": "2019-11-05T08:58:04Z",
      "side": 1,
      "message": "daemon_control.go is actually designed to run on both local and remote test. It uses call() in helper.go, which will either directly execute the command (in local test), or execute the command through SSH (in remote test).\n\ncoverage.go in it\u0027s current form is indeed remote-only, but we plan to adapt it to local tests as well, because we need to collect test coverage whether it\u0027s remote or local. There might be a lot of change to this part, please see the discussion thread titled \"Design decisions on collecting coverage for tast integration tests\" (tast-owners are cc\u0027ed). I\u0027ll probably come back to this later when I get most of the tests done, or the next time I visit Japan or Mountain View. If there\u0027s a problem with coverage.go, I can split it out and shelf it for now.",
      "parentUuid": "2a178ca5_fcff2b36",
      "revId": "d70ed22b4c536fd4061ba33b3c41f96e6bfd0da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1feab16d_b49d5ee6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-11-05T09:03:43Z",
      "side": 1,
      "message": "+1 to Hidehiko, gRPC seems more appropriate. Utilities common to local/remote tests have to do almost everything by running shell command. I\u0027m afraid it will be difficult to maintain those utilities as they grow.",
      "parentUuid": "2a178ca5_fcff2b36",
      "revId": "d70ed22b4c536fd4061ba33b3c41f96e6bfd0da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78e23266_15f3b173",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-11-14T11:49:25Z",
      "side": 1,
      "message": "For the record, John, Hidehiko and me discussed offline and we agreed that this approach (run SSH commands instead of gRPC) is okay as long as the local-remote abstraction is in the simplest form.",
      "parentUuid": "1feab16d_b49d5ee6",
      "revId": "d70ed22b4c536fd4061ba33b3c41f96e6bfd0da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "45f4f87d_36416b89",
        "filename": "src/chromiumos/tast/common/hwsec/doc.go",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2019-10-17T15:53:23Z",
      "side": 1,
      "message": "nit, style:\nAssuming this will be the file that documents the \"package hwsec\", put this comment above \"package hwsec\" so that godoc can grab it.\n\nI\u0027ve seen the rest of the modules are using \"//\" instead of \"/* */\", although I don\u0027t know if there is a guideline for this.",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 10,
        "endChar": 2
      },
      "revId": "d70ed22b4c536fd4061ba33b3c41f96e6bfd0da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6cc668ac_5ee2ece7",
        "filename": "src/chromiumos/tast/common/hwsec/doc.go",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-10-17T17:47:07Z",
      "side": 1,
      "message": "Yes, please. So this file will look like.\n\n// Copyright ...\n// ...\n// found in the LICENSE file.\n\n// Package hwsec implements ...\npackage hwsec",
      "parentUuid": "45f4f87d_36416b89",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 10,
        "endChar": 2
      },
      "revId": "d70ed22b4c536fd4061ba33b3c41f96e6bfd0da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d230428a_eb1a2f40",
        "filename": "src/chromiumos/tast/common/hwsec/doc.go",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1314760
      },
      "writtenOn": "2019-10-28T14:32:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6cc668ac_5ee2ece7",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 10,
        "endChar": 2
      },
      "revId": "d70ed22b4c536fd4061ba33b3c41f96e6bfd0da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}