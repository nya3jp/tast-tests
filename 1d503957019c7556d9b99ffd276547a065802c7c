{
  "comments": [
    {
      "key": {
        "uuid": "594221a4_f2810600",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/utils_service.go",
        "patchSetId": 9
      },
      "lineNbr": 160,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-05-11T04:10:58Z",
      "side": 1,
      "message": "Why don\u0027t you return []byte instead of string when keys is a binary data?\n\nNote that we have to change the type of the protobuf field from string to bytes.\n\n\u003e string\tA string must always contain UTF-8 encoded or 7-bit ASCII text, and cannot be longer than 2^32.\nhttps://developers.google.com/protocol-buffers/docs/proto3#scalar",
      "range": {
        "startLine": 160,
        "startChar": 46,
        "endLine": 160,
        "endChar": 54
      },
      "revId": "1d503957019c7556d9b99ffd276547a065802c7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "364dea11_e4d1f9e4",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/utils_service.go",
        "patchSetId": 9
      },
      "lineNbr": 160,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-05-11T04:10:58Z",
      "side": 1,
      "message": "I guess we want to take the first n bytes (i.e. keys[:n]). Read() does not change the slice size.",
      "range": {
        "startLine": 160,
        "startChar": 55,
        "endLine": 160,
        "endChar": 59
      },
      "revId": "1d503957019c7556d9b99ffd276547a065802c7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b0ffa85_6c446a3d",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/check_servo_key_presses.go",
        "patchSetId": 9
      },
      "lineNbr": 49,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-05-11T04:10:58Z",
      "side": 1,
      "message": "Since bool value has no meaning, I recommend struct{} instead.\n\n readKeys :\u003d make(chan struct{})",
      "range": {
        "startLine": 49,
        "startChar": 23,
        "endLine": 49,
        "endChar": 27
      },
      "revId": "1d503957019c7556d9b99ffd276547a065802c7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6956cd9_a36139ec",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/check_servo_key_presses.go",
        "patchSetId": 9
      },
      "lineNbr": 50,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-05-11T04:10:58Z",
      "side": 1,
      "message": "Passing readKeys looks not necessary?",
      "range": {
        "startLine": 50,
        "startChar": 9,
        "endLine": 50,
        "endChar": 27
      },
      "revId": "1d503957019c7556d9b99ffd276547a065802c7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e59b38b_98cc4dd2",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/check_servo_key_presses.go",
        "patchSetId": 9
      },
      "lineNbr": 56,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-05-11T04:10:58Z",
      "side": 1,
      "message": "When we hit this, the main goroutine blocks forever because no value is sent to readKeys.\n\nThe typical way to avoid this is to use defer statement.\n\n go func() {\n   defer close(readKeys)\n   ...\n }()",
      "range": {
        "startLine": 56,
        "startChar": 3,
        "endLine": 56,
        "endChar": 51
      },
      "revId": "1d503957019c7556d9b99ffd276547a065802c7c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}