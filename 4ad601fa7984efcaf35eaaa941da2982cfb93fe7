{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bd0b4131_c88990de",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1551729
      },
      "writtenOn": "2022-09-23T21:02:38Z",
      "side": 1,
      "message": "Hello David and Renuga,\n\nI\u0027d like to add polling for ARC multiple account testing.\n\nPlease help review when you have time.\n\n-Chenghao",
      "revId": "4ad601fa7984efcaf35eaaa941da2982cfb93fe7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4c3cda32_c58b07aa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1551729
      },
      "writtenOn": "2022-09-26T18:53:38Z",
      "side": 1,
      "message": "Hey David, \n\nI tried to wait in sub steps and it won\u0027t work until I relaunch the Play Store.\n\nThanks for your review. \n\n-Chenghao",
      "revId": "4ad601fa7984efcaf35eaaa941da2982cfb93fe7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b547a17_5ad0e462",
        "filename": "src/chromiumos/tast/local/arc/ui.go",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1510282
      },
      "writtenOn": "2022-09-26T18:47:46Z",
      "side": 1,
      "message": "Is the issue that the entire flow needs to be retried or that `accountNameButton.WaitForExists` needed to be extended? If the first, action.Retry or uiauto.Retry may represent this case better, if the second (which is what the error messages show), would changing `accountNameButton.WaitForExists(ctx, 30*time.Second) to some longer time (i.e. 60 * time.Second) better address the issue?",
      "revId": "4ad601fa7984efcaf35eaaa941da2982cfb93fe7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "935fb6c7_65299830",
        "filename": "src/chromiumos/tast/local/arc/ui.go",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1551729
      },
      "writtenOn": "2022-09-26T18:53:38Z",
      "side": 1,
      "message": "Hi David, thanks for the review. We need to reopen the Play Store to make the second account shown, I tried to wait for longer time and it didn\u0027t work, so I chose to poll the whole process.",
      "parentUuid": "3b547a17_5ad0e462",
      "revId": "4ad601fa7984efcaf35eaaa941da2982cfb93fe7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7bcaa48d_71e7af4d",
        "filename": "src/chromiumos/tast/local/arc/ui.go",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1510282
      },
      "writtenOn": "2022-09-26T22:32:11Z",
      "side": 1,
      "message": "I think this would more apparent to readers, and more reliable if written using a Retry around the portion that re-opens and verifies the intended element, i.e.\n\n```\nif uiauto.Retry(..., \n  OpenPlayStoreAccountSettings(),\n  WaitForExists(...)\n,...)\n\nif err :\u003d accountNameButton.Click(ctx); err !\u003d nil {\n\treturn errors.Wrap(err, \"failed to click Account Name\")\n}\n```\n\nThat would make it clear that the Opening of Play store is done when the accountNameButton exists and in cases where it doesn\u0027t, the entire flow should be retried. That would also help eliminate unnecessary sleep that are happening with the Poll.",
      "parentUuid": "935fb6c7_65299830",
      "revId": "4ad601fa7984efcaf35eaaa941da2982cfb93fe7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "53238caf_69455da7",
        "filename": "src/chromiumos/tast/local/arc/ui.go",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1551729
      },
      "writtenOn": "2022-09-27T01:53:50Z",
      "side": 1,
      "message": "Hey David,\n\nAgree, the way you suggested is better. I have changed the code accordingly.\n\nThank you.\n\n-Chenghao",
      "parentUuid": "7bcaa48d_71e7af4d",
      "revId": "4ad601fa7984efcaf35eaaa941da2982cfb93fe7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}