{
  "comments": [
    {
      "key": {
        "uuid": "9084e8be_19016268",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 30
      },
      "lineNbr": 0,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-29T23:44:55Z",
      "side": 1,
      "message": "Hi Everybody:\n\nI have split each of my new function in shelf.go to two functions: one for shelf (clamshell) and one for (tablet). Please let me know if it ok.\n\nAlso, I think I have addressed most of the comments. Please review.\n\nI did encounter delayed issue with a tablet running in clamshell mode yesterday. I think it is out of scope to fix EnsureTabletModeEnabled for this CL. Therefore, I put a sleep instead yesterday.\n\nAlso, currently controller.go is in bundles. Therefore, shelf.go could not call it. In the long run, I think we should move controller.go out of bundles. However, I am not sure it should be within the scope of this CL.\n\nBTW, I have tested the latest code with the two DUTs at home. I am having trouble getting any machine from skylab this afternoon. I will try to do more testing tomorrow.\n\nThanks.\n\nSeewai\n",
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39f6f4c4_eeb9ec38",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 178,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "errors.Wrap(err, \"cannot...\")",
      "range": {
        "startLine": 178,
        "startChar": 9,
        "endLine": 178,
        "endChar": 19
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa70493e_ea16da5a",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 178,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "39f6f4c4_eeb9ec38",
      "range": {
        "startLine": 178,
        "startChar": 9,
        "endLine": 178,
        "endChar": 19
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e011327e_ed6c0b2b",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 197,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "errors.Wrap(err, \"cannot...\")",
      "range": {
        "startLine": 197,
        "startChar": 10,
        "endLine": 197,
        "endChar": 20
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "416bfe88_bc463bda",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 197,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e011327e_ed6c0b2b",
      "range": {
        "startLine": 197,
        "startChar": 10,
        "endLine": 197,
        "endChar": 20
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0844408_e680b919",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 203,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "\"left locations\"?",
      "range": {
        "startLine": 203,
        "startChar": 31,
        "endLine": 203,
        "endChar": 40
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00e9ee3d_4c61338d",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 203,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0844408_e680b919",
      "range": {
        "startLine": 203,
        "startChar": 31,
        "endLine": 203,
        "endChar": 40
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "28b1a948_93463629",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 231,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "if leftCoord, ok :\u003d prevLocations[b.Name]; ok \u0026\u0026 leftCoord \u003c\u003d b.Location.Left {\n    ...\n  }",
      "range": {
        "startLine": 230,
        "startChar": 2,
        "endLine": 231,
        "endChar": 41
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c399c337_f34283a8",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 231,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "28b1a948_93463629",
      "range": {
        "startLine": 230,
        "startChar": 2,
        "endLine": 231,
        "endChar": 41
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ebf0f773_fdcea488",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 243,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "maybe \"the shelf\"?",
      "range": {
        "startLine": 243,
        "startChar": 55,
        "endLine": 243,
        "endChar": 61
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c28fa269_053586ed",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 243,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ebf0f773_fdcea488",
      "range": {
        "startLine": 243,
        "startChar": 55,
        "endLine": 243,
        "endChar": 61
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47a5bdba_018994ee",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 245,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "if len(appButtons) \u003d\u003d 0 {\n    return errors.New(\"no app buttons on the shelf\")\n  }",
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b804ad50_e265c9d9",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 245,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "47a5bdba_018994ee",
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "185d197a_dedce11b",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 253,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "can you add rightMostButton.Name to the error? I think that helps future debugging.\n  errors.Errorf(\"got %q as the rightmost button on the shelf, want %q\", rightMostButton.Name, appName)",
      "range": {
        "startLine": 253,
        "startChar": 9,
        "endLine": 253,
        "endChar": 78
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "881751b6_a9d489b5",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/launcher_pin_app_to_shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 253,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "185d197a_dedce11b",
      "range": {
        "startLine": 253,
        "startChar": 9,
        "endLine": 253,
        "endChar": 78
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2599f02d_ce78bdb7",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 546,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "Does this move items on the shelf?  I guess not.",
      "range": {
        "startLine": 546,
        "startChar": 4,
        "endLine": 546,
        "endChar": 53
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8eb03ac_4b2a2911",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 546,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2599f02d_ce78bdb7",
      "range": {
        "startLine": 546,
        "startChar": 4,
        "endLine": 546,
        "endChar": 53
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "451faaa3_0e65f052",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 547,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "Does this really have to be ui.WaitForLocationChangeCompleted?   Can it be ash.WaitForCondition for the new window existence + window.IsAnimating to be false?",
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c603b91_731355d1",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 547,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "I have removed ui.WaitForLocationChangeCompleted. You were correct. It is not needed. Thanks.",
      "parentUuid": "451faaa3_0e65f052",
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2977e60c_0702bd7f",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 584,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 581,
        "startChar": 0,
        "endLine": 584,
        "endChar": 2
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d0eb8de_987b7a9d",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 584,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2977e60c_0702bd7f",
      "range": {
        "startLine": 581,
        "startChar": 0,
        "endLine": 584,
        "endChar": 2
      },
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63733ab3_fdf0ed32",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 672,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "Can you modify SwipeUpHotseatAndWaitForCompletion rather than adding new?",
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f3ea4bc_85fb7a14",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 672,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "63733ab3_fdf0ed32",
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "984186c2_ee077838",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 678,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-09-30T01:35:00Z",
      "side": 1,
      "message": "if !info.IsAnimating \u0026\u0026 !info.scrollableShelfInfo.IsAnimating \u0026\u0026 info.HotesatState \u003d\u003d ShelfHidden {",
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c102c30_87c7cbe7",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 30
      },
      "lineNbr": 678,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2020-09-30T21:54:54Z",
      "side": 1,
      "message": "I have moved the code to SwipeUpHotseatAndWaitForCompletion and changed the logic a little bit. Please check. Also, I am not sure how to handle the condition that the hotseat is currently hidden but animating to the visible. WaitForHotseatAnimatingToIdealState only allow me to wait for one state, but there are three visible conditions. So I am not handling that case right now. Please let me know if it is okay not to handle that case.",
      "parentUuid": "984186c2_ee077838",
      "revId": "a49b4a9c23b879f01ae0462f5dcd2d5292784d63",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}