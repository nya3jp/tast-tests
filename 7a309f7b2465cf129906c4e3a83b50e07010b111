{
  "comments": [
    {
      "key": {
        "uuid": "5173ba13_d212725f",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-18T02:07:21Z",
      "side": 1,
      "message": "While executing post-start/pre-stop scripts, initctl status can make multiline output, which is not caught by this regexp because of \"$\":\nhttp://upstart.ubuntu.com/cookbook/#single-job-instance-running-with-multiple-pids\n\nI guess we want to enable multiline mode. \"(?m)\"\n\nBTW, nit: we might want to use `` literal to avoid double-escaping \\d.",
      "range": {
        "startLine": 63,
        "startChar": 35,
        "endLine": 63,
        "endChar": 40
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82d29654_019ef458",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-18T05:58:51Z",
      "side": 1,
      "message": "thanks for pointing this out and for the suggestion!",
      "parentUuid": "5173ba13_d212725f",
      "range": {
        "startLine": 63,
        "startChar": 35,
        "endLine": 63,
        "endChar": 40
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0cf4e6a9_1032432f",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-18T02:07:21Z",
      "side": 1,
      "message": "nit: If we enable multiline mode, strings.TrimSpace should be no longer necessary (and it might be an easy way to make sure our regexp is working).",
      "range": {
        "startLine": 84,
        "startChar": 25,
        "endLine": 84,
        "endChar": 42
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1226ad04_228fb9a1",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-18T05:58:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0cf4e6a9_1032432f",
      "range": {
        "startLine": 84,
        "startChar": 25,
        "endLine": 84,
        "endChar": 42
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee3a7ccb_9a11c8bb",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-18T02:07:21Z",
      "side": 1,
      "message": "I was not aware of this insane behavior :( And I\u0027m afraid many existing upstart scripts are not written to handle this, so maybe it\u0027s good to avoid restart entirely.",
      "range": {
        "startLine": 119,
        "startChar": 0,
        "endLine": 121,
        "endChar": 70
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3dba7a3_d63954f9",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-18T05:58:51Z",
      "side": 1,
      "message": "sure, this makes sense to me, and the difference in time taken to restart the ui job seems negligible, to the point where i can\u0027t tell if it\u0027s any different. :-)",
      "parentUuid": "ee3a7ccb_9a11c8bb",
      "range": {
        "startLine": 119,
        "startChar": 0,
        "endLine": 121,
        "endChar": 70
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fbb22fc0_d594075c",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 129,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-18T02:07:21Z",
      "side": 1,
      "message": "How about stop using restart and always doing stop-and-start? Remaining code in this function does it anyway, so it looks we can just remove this portion.",
      "range": {
        "startLine": 123,
        "startChar": 0,
        "endLine": 129,
        "endChar": 0
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0e3fa76_ad740059",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 129,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-18T05:58:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fbb22fc0_d594075c",
      "range": {
        "startLine": 123,
        "startChar": 0,
        "endLine": 129,
        "endChar": 0
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5225ab04_f5a3c085",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-18T02:07:21Z",
      "side": 1,
      "message": "nit: I guess almost the same message will be printed by DumpLog()?",
      "range": {
        "startLine": 150,
        "startChar": 3,
        "endLine": 150,
        "endChar": 81
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0200219_48ef0b34",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-18T05:58:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5225ab04_f5a3c085",
      "range": {
        "startLine": 150,
        "startChar": 3,
        "endLine": 150,
        "endChar": 81
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ce3dedc_edeefbd3",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 171,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-18T02:07:21Z",
      "side": 1,
      "message": "Ditto.",
      "range": {
        "startLine": 171,
        "startChar": 2,
        "endLine": 171,
        "endChar": 77
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ace332e_972e1789",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 171,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-18T05:58:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0ce3dedc_edeefbd3",
      "range": {
        "startLine": 171,
        "startChar": 2,
        "endLine": 171,
        "endChar": 77
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc3fcc61_1741c34a",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 175,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-18T02:07:21Z",
      "side": 1,
      "message": "Do we want to wait until the state becomes \"running\" in this case?",
      "range": {
        "startLine": 175,
        "startChar": 0,
        "endLine": 175,
        "endChar": 11
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bbfc39e0_ff03ecba",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 175,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-18T05:58:51Z",
      "side": 1,
      "message": "i believe that \"start\" blocks until this happens; this is what i see when i add a sleep statement to a job\u0027s pre-start or post-start stanzas. i\u0027ve added a comment.",
      "parentUuid": "bc3fcc61_1741c34a",
      "range": {
        "startLine": 175,
        "startChar": 0,
        "endLine": 175,
        "endChar": 11
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6614004_48382a65",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 175,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-18T06:08:38Z",
      "side": 1,
      "message": "That\u0027s right, thanks for clarification!",
      "parentUuid": "bbfc39e0_ff03ecba",
      "range": {
        "startLine": 175,
        "startChar": 0,
        "endLine": 175,
        "endChar": 11
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68f4a941_69215146",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 191,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-18T02:07:21Z",
      "side": 1,
      "message": "huge nit: I guess `if` is simpler than `switch` in this case :)\n\n if g !\u003d goal { ... }\n if s !\u003d state { ... }\n return nil",
      "range": {
        "startLine": 190,
        "startChar": 2,
        "endLine": 191,
        "endChar": 12
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7cac4de_915f2dc7",
        "filename": "src/chromiumos/tast/local/upstart/upstart.go",
        "patchSetId": 1
      },
      "lineNbr": 191,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-18T05:58:51Z",
      "side": 1,
      "message": "thanks, that\u0027s much nicer",
      "parentUuid": "68f4a941_69215146",
      "range": {
        "startLine": 190,
        "startChar": 2,
        "endLine": 191,
        "endChar": 12
      },
      "revId": "7a309f7b2465cf129906c4e3a83b50e07010b111",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}