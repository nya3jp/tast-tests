{
  "comments": [
    {
      "key": {
        "uuid": "68e61a69_4cc035b6",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_battery.go",
        "patchSetId": 9
      },
      "lineNbr": 95,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-17T09:18:42Z",
      "side": 1,
      "message": "We already have a constant: sysutil.ChronosUID",
      "range": {
        "startLine": 95,
        "startChar": 1,
        "endLine": 95,
        "endChar": 48
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03c526a9_ef0fd688",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_battery.go",
        "patchSetId": 9
      },
      "lineNbr": 95,
      "author": {
        "id": 1335267
      },
      "writtenOn": "2019-12-17T10:49:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "68e61a69_4cc035b6",
      "range": {
        "startLine": 95,
        "startChar": 1,
        "endLine": 95,
        "endChar": 48
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1b647764_a0569e1e",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_battery.go",
        "patchSetId": 9
      },
      "lineNbr": 104,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-17T09:18:42Z",
      "side": 1,
      "message": "UnlockOSThread call is missing.",
      "range": {
        "startLine": 104,
        "startChar": 1,
        "endLine": 104,
        "endChar": 23
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7468c25_04ef3420",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_battery.go",
        "patchSetId": 9
      },
      "lineNbr": 104,
      "author": {
        "id": 1335267
      },
      "writtenOn": "2019-12-17T10:49:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1b647764_a0569e1e",
      "range": {
        "startLine": 104,
        "startChar": 1,
        "endLine": 104,
        "endChar": 23
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f270b94b_048f128e",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_battery.go",
        "patchSetId": 9
      },
      "lineNbr": 116,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-17T09:18:42Z",
      "side": 1,
      "message": "syscall.Setreuid and UnlockOSThread must be called in absolutely any case (e.g. when conn.Auth fails).",
      "range": {
        "startLine": 116,
        "startChar": 11,
        "endLine": 116,
        "endChar": 39
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8488e585_7d477353",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_battery.go",
        "patchSetId": 9
      },
      "lineNbr": 116,
      "author": {
        "id": 1335267
      },
      "writtenOn": "2019-12-17T10:49:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f270b94b_048f128e",
      "range": {
        "startLine": 116,
        "startChar": 11,
        "endLine": 116,
        "endChar": 39
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a3a0779_15600e52",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_battery.go",
        "patchSetId": 9
      },
      "lineNbr": 121,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-17T09:18:42Z",
      "side": 1,
      "message": "conn must be closed in any case as well",
      "range": {
        "startLine": 121,
        "startChar": 2,
        "endLine": 121,
        "endChar": 14
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4cb090ee_7e85b5ef",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_battery.go",
        "patchSetId": 9
      },
      "lineNbr": 121,
      "author": {
        "id": 1335267
      },
      "writtenOn": "2019-12-17T10:49:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6a3a0779_15600e52",
      "range": {
        "startLine": 121,
        "startChar": 2,
        "endLine": 121,
        "endChar": 14
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e887fbe5_16d2952f",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_battery.go",
        "patchSetId": 9
      },
      "lineNbr": 123,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-17T09:18:42Z",
      "side": 1,
      "message": "Connecting to the system bus with a different credential is somewhat common and subtle operation. Could you introduce a utility function in dbusutil package? For example:\n\n func SystemBusWithAuth(uid uint32) (*dbus.Conn, error)",
      "range": {
        "startLine": 104,
        "startChar": 1,
        "endLine": 123,
        "endChar": 2
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "acfdfed6_d330e55d",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_battery.go",
        "patchSetId": 9
      },
      "lineNbr": 156,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-17T09:18:42Z",
      "side": 1,
      "message": "(sorry I overlooked in last iteration) ok is already checked above",
      "range": {
        "startLine": 156,
        "startChar": 4,
        "endLine": 156,
        "endChar": 8
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a5cc0cc_cc66dc20",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_battery.go",
        "patchSetId": 9
      },
      "lineNbr": 156,
      "author": {
        "id": 1335267
      },
      "writtenOn": "2019-12-17T10:49:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "acfdfed6_d330e55d",
      "range": {
        "startLine": 156,
        "startChar": 4,
        "endLine": 156,
        "endChar": 8
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "305047a8_66e2168c",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_storage.go",
        "patchSetId": 9
      },
      "lineNbr": 100,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-17T09:18:42Z",
      "side": 1,
      "message": "Do you want to restart the job, instead of ensuring it\u0027s running?",
      "range": {
        "startLine": 100,
        "startChar": 19,
        "endLine": 100,
        "endChar": 29
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da4639ef_a223391a",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_storage.go",
        "patchSetId": 9
      },
      "lineNbr": 100,
      "author": {
        "id": 1335267
      },
      "writtenOn": "2019-12-17T09:30:58Z",
      "side": 1,
      "message": "I\u0027m not sure why |EnsureJobRunning| doesn\u0027t work when we run two tast tests(e.g. battery and storage) in a row.  The second test will be blocked at line 125 |dbusutil.WaitForService|.  For runtime_probe, the daemon is intended to quit after every dbus call.  So I think restarting the job seems good to us if it\u0027s hard to fix.",
      "parentUuid": "305047a8_66e2168c",
      "range": {
        "startLine": 100,
        "startChar": 19,
        "endLine": 100,
        "endChar": 29
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c0581c1_e521a5b2",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_storage.go",
        "patchSetId": 9
      },
      "lineNbr": 156,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-17T09:18:42Z",
      "side": 1,
      "message": "ok is already checked above",
      "range": {
        "startLine": 156,
        "startChar": 4,
        "endLine": 156,
        "endChar": 9
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14fd4da7_54d5d298",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_storage.go",
        "patchSetId": 9
      },
      "lineNbr": 156,
      "author": {
        "id": 1335267
      },
      "writtenOn": "2019-12-17T10:49:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4c0581c1_e521a5b2",
      "range": {
        "startLine": 156,
        "startChar": 4,
        "endLine": 156,
        "endChar": 9
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b631b68b_13791320",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_storage.go",
        "patchSetId": 9
      },
      "lineNbr": 180,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-17T09:18:42Z",
      "side": 1,
      "message": "Do you want to call sort.Strings to make the order stable?",
      "range": {
        "startLine": 180,
        "startChar": 2,
        "endLine": 180,
        "endChar": 3
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a38f97f_e0a6a722",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_runtime_probe_storage.go",
        "patchSetId": 9
      },
      "lineNbr": 180,
      "author": {
        "id": 1335267
      },
      "writtenOn": "2019-12-17T10:49:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b631b68b_13791320",
      "range": {
        "startLine": 180,
        "startChar": 2,
        "endLine": 180,
        "endChar": 3
      },
      "revId": "edfc92fd66c4032a9106a3f8123b0a67c8967100",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}