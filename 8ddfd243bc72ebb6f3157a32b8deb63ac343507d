{
  "comments": [
    {
      "key": {
        "uuid": "ef84aa88_5cbecbe8",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/histograms.go",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-05T23:12:21Z",
      "side": 1,
      "message": "curious about what you think of this pattern. it seems like it may be nice, since the test logs contain the fatal error before the details about the failed command:\n\n2018/09/05 16:07:34 [16:07:34.244] Reporting Tast.TestHistogram sample with value 100\n2018/09/05 16:07:34 [16:07:34.271] Error at histograms.go:48: Failed to report sample: exit status 1\n2018/09/05 16:07:34 [16:07:34.271] Stack trace:\nchromiumos/tast/local/bundles/cros/platform.Histograms(0xc4200d6600)\n        /home/derat/trunk/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/platform/histograms.go:48 +0xb5c\nchromiumos/tast/testing.(*Test).Run.func2(0xc4200d6600, 0xc42006c150, 0xc420137560)\n        /home/derat/trunk/src/platform/tast/src/chromiumos/tast/testing/test.go:108 +0x64\ncreated by chromiumos/tast/testing.(*Test).Run\n        /home/derat/trunk/src/platform/tast/src/chromiumos/tast/testing/test.go:100 +0xbe\n2018/09/05 16:07:34 [16:07:34.271] External command failed: exit status 1\n2018/09/05 16:07:34 [16:07:34.271] Command: \u0027metrics_client\u0027 \u0027Tast.TestHistogram\u0027 \u0027bogus\u0027 \u0027100\u0027 1 \u0027200\u0027 \u002710\u0027\n2018/09/05 16:07:34 [16:07:34.271] Uncaptured output:\nUsage:  metrics_client [-W \u003cfile\u003e] [-t] name sample min max nbuckets\n...",
      "range": {
        "startLine": 47,
        "startChar": 2,
        "endLine": 47,
        "endChar": 7
      },
      "revId": "8ddfd243bc72ebb6f3157a32b8deb63ac343507d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa3dfc72_e12641ea",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/histograms.go",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-06T02:40:32Z",
      "side": 1,
      "message": "It looks good... though we can use this method only in test function itself :(",
      "parentUuid": "ef84aa88_5cbecbe8",
      "range": {
        "startLine": 47,
        "startChar": 2,
        "endLine": 47,
        "endChar": 7
      },
      "revId": "8ddfd243bc72ebb6f3157a32b8deb63ac343507d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a71a1a1_06fcd0e3",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/histograms.go",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-06T02:40:32Z",
      "side": 1,
      "message": "Optional: We will use this polling for almost every test inspecting histogram. We may want to move it to the library as metrics.WaitHistogram. But we can revisit this after we get more tests exercising metrics...",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 64,
        "endChar": 2
      },
      "revId": "8ddfd243bc72ebb6f3157a32b8deb63ac343507d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1a60e02_0d1504bb",
        "filename": "src/chromiumos/tast/local/chrome/metrics/histogram.go",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-06T02:40:32Z",
      "side": 1,
      "message": "nit: maybe we want to mention this is histogram of a single metric?",
      "range": {
        "startLine": 15,
        "startChar": 13,
        "endLine": 15,
        "endChar": 51
      },
      "revId": "8ddfd243bc72ebb6f3157a32b8deb63ac343507d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ecf9615_f60ebd70",
        "filename": "src/chromiumos/tast/local/chrome/metrics/histogram.go",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-06T02:40:32Z",
      "side": 1,
      "message": "I recommend `\u003d\u003d\u003d` over `\u003d\u003d`; or maybe we can just check the implicit booleanness: if (!chrome.runtime.lastError).",
      "range": {
        "startLine": 60,
        "startChar": 8,
        "endLine": 60,
        "endChar": 45
      },
      "revId": "8ddfd243bc72ebb6f3157a32b8deb63ac343507d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e9d0013_f6053666",
        "filename": "src/chromiumos/tast/local/chrome/metrics/histogram.go",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-09-06T02:40:32Z",
      "side": 1,
      "message": "nit: Indentation here looks inconsistent.",
      "range": {
        "startLine": 63,
        "startChar": 4,
        "endLine": 63,
        "endChar": 8
      },
      "revId": "8ddfd243bc72ebb6f3157a32b8deb63ac343507d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}