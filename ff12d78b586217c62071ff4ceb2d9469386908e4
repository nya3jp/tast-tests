{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "fed2f351_0d8be594",
        "filename": "src/chromiumos/tast/local/arc/apputil/apputil.go",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2022-06-01T23:06:42Z",
      "side": 1,
      "message": "I don\u0027t suggest using single-letter variable names here as these are public. Use `Arc` and `DUT/Device` instead.",
      "range": {
        "startLine": 32,
        "startChar": 1,
        "endLine": 33,
        "endChar": 17
      },
      "revId": "ff12d78b586217c62071ff4ceb2d9469386908e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab272c5f_20596e93",
        "filename": "src/chromiumos/tast/local/arc/apputil/apputil.go",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1477974
      },
      "writtenOn": "2022-06-06T11:04:19Z",
      "side": 1,
      "message": "Fixed",
      "parentUuid": "fed2f351_0d8be594",
      "range": {
        "startLine": 32,
        "startChar": 1,
        "endLine": 33,
        "endChar": 17
      },
      "revId": "ff12d78b586217c62071ff4ceb2d9469386908e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59d775aa_56da7276",
        "filename": "src/chromiumos/tast/local/arc/apputil/apputil.go",
        "patchSetId": 2
      },
      "lineNbr": 101,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2022-06-01T23:06:42Z",
      "side": 1,
      "message": "Can you merge this with Launch? simply let `Launch` also return the start time: `func (app *App) Launch(ctx context.Context) (time.Duration, error)`",
      "range": {
        "startLine": 101,
        "startChar": 16,
        "endLine": 101,
        "endChar": 40
      },
      "revId": "ff12d78b586217c62071ff4ceb2d9469386908e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ba17aa0_365beb50",
        "filename": "src/chromiumos/tast/local/arc/apputil/apputil.go",
        "patchSetId": 2
      },
      "lineNbr": 101,
      "author": {
        "id": 1477974
      },
      "writtenOn": "2022-06-06T11:04:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "59d775aa_56da7276",
      "range": {
        "startLine": 101,
        "startChar": 16,
        "endLine": 101,
        "endChar": 40
      },
      "revId": "ff12d78b586217c62071ff4ceb2d9469386908e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "345fa322_62c36567",
        "filename": "src/chromiumos/tast/local/arc/apputil/uiwrapper.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2022-06-01T23:06:42Z",
      "side": 1,
      "message": "I am not sure why you need this method (see the other comment).",
      "range": {
        "startLine": 53,
        "startChar": 5,
        "endLine": 53,
        "endChar": 19
      },
      "revId": "ff12d78b586217c62071ff4ceb2d9469386908e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ccb2501b_3d6e70ce",
        "filename": "src/chromiumos/tast/local/arc/apputil/uiwrapper.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1477974
      },
      "writtenOn": "2022-06-06T11:04:19Z",
      "side": 1,
      "message": "This is a wrapper that wraps and hides the error handling.\nThe extra boolean returned is more trivial for the caller than just one error returned.\n\nShould we add more comments to further explain it?",
      "parentUuid": "345fa322_62c36567",
      "range": {
        "startLine": 53,
        "startChar": 5,
        "endLine": 53,
        "endChar": 19
      },
      "revId": "ff12d78b586217c62071ff4ceb2d9469386908e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba3e61db_bf754d8b",
        "filename": "src/chromiumos/tast/local/arc/apputil/uiwrapper.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2022-06-06T22:32:36Z",
      "side": 1,
      "message": "My point is that you are creating the wrapper without any gains, but introducing a new method to add more complexity. What this method does can all be achieved with `WaitForExists`. \n\nLike your previous use of `IsObjectExists` in https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/3676409/3..4/src/chromiumos/tast/local/arc/apputil/youtubemusic/youtubemusic.go#b87, it is even more complex than `WaitForExists`.",
      "parentUuid": "ccb2501b_3d6e70ce",
      "range": {
        "startLine": 53,
        "startChar": 5,
        "endLine": 53,
        "endChar": 19
      },
      "revId": "ff12d78b586217c62071ff4ceb2d9469386908e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "331e818e_c016a5b4",
        "filename": "src/chromiumos/tast/local/arc/apputil/uiwrapper.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1477974
      },
      "writtenOn": "2022-06-07T04:11:23Z",
      "side": 1,
      "message": "\u003e Like your previous use of `IsObjectExists` in https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/3676409/3..4/src/chromiumos/tast/local/arc/apputil/youtubemusic/youtubemusic.go#b87, it is even more complex than `WaitForExists`.\nSorry, this is a bad usage, the error of that `WaitForExists` can always be considered as a failure and it is not necessary to distinguish which error, we have fixed that part.\n\n-----\n\nThe thought is to hide the error detail: `ui.IsTimeout(err)`, just like [this wrapper](https://chromium.googlesource.com/chromiumos/platform/tast-tests/+/refs/heads/main/src/chromiumos/tast/local/chrome/uiauto/automation.go#449) hides the detail: `strings.Contains(err.Error(), nodewith.ErrNotFound)`.\n\nBoth of those wrappers provide a straightforward result, exist or not exist.\n\nWe either want to distinguish which error returned from `XXX.WaitForExists` ([#1](https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/3676409/4/src/chromiumos/tast/local/arc/apputil/youtubemusic/youtubemusic.go#121), [#2](https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/3676409/4/src/chromiumos/tast/local/arc/apputil/youtubemusic/youtubemusic.go#136) due to b:228259893) or we want a straightforward result ([#3](https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/3676409/4/src/chromiumos/tast/local/arc/apputil/spotify/spotify.go#111)) through this method.\n\nAnyhow, we could ignore the error details via this wrapper. Should we remove this method and handle error details widely among test cases?",
      "parentUuid": "ba3e61db_bf754d8b",
      "range": {
        "startLine": 53,
        "startChar": 5,
        "endLine": 53,
        "endChar": 19
      },
      "revId": "ff12d78b586217c62071ff4ceb2d9469386908e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8c9b94f_e0640253",
        "filename": "src/chromiumos/tast/local/arc/apputil/uiwrapper.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2022-06-07T04:51:08Z",
      "side": 1,
      "message": "I am okay if you have multiple cases where it is convenient to hide the timeout error handling. \n\nI am leaving it to you to decide whether you want to keep it or not, after balancing the pros (i.e., clear error message) and cons (i.e., complexity and potentially bad usages). \n\nIf you want to keep it, you may need to rename it to `ObjectExists` or `CheckObjectExists`, as `IsObjectExists` is not grammerly correct.",
      "parentUuid": "331e818e_c016a5b4",
      "range": {
        "startLine": 53,
        "startChar": 5,
        "endLine": 53,
        "endChar": 19
      },
      "revId": "ff12d78b586217c62071ff4ceb2d9469386908e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e4fbb528_155dfc91",
        "filename": "src/chromiumos/tast/local/arc/apputil/uiwrapper.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1477974
      },
      "writtenOn": "2022-06-07T07:59:52Z",
      "side": 1,
      "message": "Thanks, renamed as `CheckObjectExists`",
      "parentUuid": "a8c9b94f_e0640253",
      "range": {
        "startLine": 53,
        "startChar": 5,
        "endLine": 53,
        "endChar": 19
      },
      "revId": "ff12d78b586217c62071ff4ceb2d9469386908e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b71f0460_9309de4c",
        "filename": "src/chromiumos/tast/local/arc/apputil/uiwrapper.go",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2022-06-01T23:06:42Z",
      "side": 1,
      "message": "```\nif err :\u003d btn.WaitForExists(ctx, timeout); err!\u003d nil{\n    if ui.IsTimeout(err) {\n\tcontinue\n    }\n    return errors.Wrap(err, \"failed to check if object exist\")\n}\n```",
      "range": {
        "startLine": 75,
        "startChar": 2,
        "endLine": 79,
        "endChar": 3
      },
      "revId": "ff12d78b586217c62071ff4ceb2d9469386908e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}