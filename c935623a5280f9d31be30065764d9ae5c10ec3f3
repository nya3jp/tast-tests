{
  "comments": [
    {
      "key": {
        "uuid": "00cf4e33_24d3e31d",
        "filename": "src/chromiumos/tast/local/chrome/ui/automation.go",
        "patchSetId": 4
      },
      "lineNbr": 204,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-09-02T16:17:46Z",
      "side": 1,
      "message": "This should be calling javascript. Instead it is recursively calling the go.\nI believe it should be:\nreturn n.object.Call(ctx, nil, \"function() {this.doDefault()}\");",
      "range": {
        "startLine": 204,
        "startChar": 1,
        "endLine": 204,
        "endChar": 24
      },
      "revId": "c935623a5280f9d31be30065764d9ae5c10ec3f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8eb622f4_610a691d",
        "filename": "src/chromiumos/tast/local/chrome/ui/automation.go",
        "patchSetId": 4
      },
      "lineNbr": 204,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-09-03T08:50:25Z",
      "side": 1,
      "message": "Thanks for your suggestion.\n\nI\u0027ve updated my CL to call the javascript doDefault().\n\nFor SelectFile(), the node is a RoleTypeStaticText, it works.\ne.g. tast run \u003cDUT\u003e arc.Drivefs.vm\n\nFor OpenQuickView(), the node is a RoleTypeMenuItem, it doesn\u0027t work.\ne.g. tast run \u003cDUT\u003e filemanager.ImageQuickView\nLog: https://paste.googleplex.com/5763808329990144",
      "parentUuid": "00cf4e33_24d3e31d",
      "range": {
        "startLine": 204,
        "startChar": 1,
        "endLine": 204,
        "endChar": 24
      },
      "revId": "c935623a5280f9d31be30065764d9ae5c10ec3f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2379dc48_41fe2c46",
        "filename": "src/chromiumos/tast/local/chrome/ui/automation.go",
        "patchSetId": 4
      },
      "lineNbr": 204,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-09-03T16:55:03Z",
      "side": 1,
      "message": "I bet that menu items have the wrong default action. I remember before having using keyboard to interact with menus because we didn\u0027t have mouse control yet. I am not sure what sets the default action for the menu items. It could be something that needs to change in the files app code or in the accessibility layer. I\u0027m not sure.",
      "parentUuid": "8eb622f4_610a691d",
      "range": {
        "startLine": 204,
        "startChar": 1,
        "endLine": 204,
        "endChar": 24
      },
      "revId": "c935623a5280f9d31be30065764d9ae5c10ec3f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df999f7d_16dc728c",
        "filename": "src/chromiumos/tast/local/chrome/ui/automation.go",
        "patchSetId": 4
      },
      "lineNbr": 204,
      "author": {
        "id": 1250573
      },
      "writtenOn": "2020-09-07T01:06:50Z",
      "side": 1,
      "message": "I suspect that the problem is that \"doDefault()\" issues a \"click()\" in the target element, however some elements don\u0027t react to \"click\" event directly but rather  based on other parts of the mouse events like mouse-down and mouse-up.\n\nFor example, see the code for the menus we use here:\n\nhttps://source.chromium.org/chromium/chromium/src/+/master:ui/webui/resources/js/cr/ui/menu.js;l\u003d31-34;drc\u003d4a47103eef5b87d14198448533ab85a27f7fff60\n\n      this.addEventListener(\u0027mouseover\u0027, this.handleMouseOver_);\n      this.addEventListener(\u0027mouseout\u0027, this.handleMouseOut_);\n      this.addEventListener(\u0027mouseup\u0027, this.handleMouseUp_, true);\n\nThat\u0027s the exact problem of not being a \"true E2E\" test.",
      "parentUuid": "2379dc48_41fe2c46",
      "range": {
        "startLine": 204,
        "startChar": 1,
        "endLine": 204,
        "endChar": 24
      },
      "revId": "c935623a5280f9d31be30065764d9ae5c10ec3f3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}