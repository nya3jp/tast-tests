{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b618d9ce_bf01312d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2021-06-08T13:44:54Z",
      "side": 1,
      "message": "In this CL there are 2 things happening:\n- Refactoring the code to make it more readable (which is really good).\n- Adding new functionality.\n\nIt is hard to see where does a changed line belong form the two above.\nCan I ask you to first do the refactoring in a separate CL?\nIt would make the new additions more visible.",
      "revId": "a1a3b8c26b80cb9b69e49a89e712d3837ef28e12",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5de931c_8b2ca6e1",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca_ui_ptz.go",
        "patchSetId": 1
      },
      "lineNbr": 140,
      "author": {
        "id": 1290370
      },
      "writtenOn": "2021-06-08T06:21:11Z",
      "side": 1,
      "message": "nit: Move this line to make it close to where it is used",
      "range": {
        "startLine": 140,
        "startChar": 1,
        "endLine": 140,
        "endChar": 20
      },
      "revId": "a1a3b8c26b80cb9b69e49a89e712d3837ef28e12",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a502ec08_4d250671",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca_ui_ptz.go",
        "patchSetId": 1
      },
      "lineNbr": 140,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2021-06-08T15:24:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e5de931c_8b2ca6e1",
      "range": {
        "startLine": 140,
        "startChar": 1,
        "endLine": 140,
        "endChar": 20
      },
      "revId": "a1a3b8c26b80cb9b69e49a89e712d3837ef28e12",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14685c54_0a96823b",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca_ui_ptz.go",
        "patchSetId": 1
      },
      "lineNbr": 299,
      "author": {
        "id": 1290370
      },
      "writtenOn": "2021-06-08T06:21:11Z",
      "side": 1,
      "message": "In this part, these controls are actually clicked in order. The test result might be affected by the correlation of them.\nIs is possible that we test these controls independently? For example:\n\n```\nfor _, control :\u003d range ptzControls {\n  // Check initial status\n}\n\nfor _, control :\u003d range ptzControls {\n  // Do Zoom in\n  // Check status after zoomed-in\n  // Reset controls\n  // Check status after reset\n}\n```",
      "range": {
        "startLine": 287,
        "startChar": 1,
        "endLine": 299,
        "endChar": 2
      },
      "revId": "a1a3b8c26b80cb9b69e49a89e712d3837ef28e12",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d45ff0e1_75644333",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca_ui_ptz.go",
        "patchSetId": 1
      },
      "lineNbr": 299,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2021-06-08T15:24:46Z",
      "side": 1,
      "message": "Due to the digital zoom camera behavior requiring zoom in first to make other PT togglable. We need at least zoomIn first before all toggle all other controls. That\u0027s why they\u0027re tested in this order.",
      "parentUuid": "14685c54_0a96823b",
      "range": {
        "startLine": 287,
        "startChar": 1,
        "endLine": 299,
        "endChar": 2
      },
      "revId": "a1a3b8c26b80cb9b69e49a89e712d3837ef28e12",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "047dcada_dac6208e",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca_ui_ptz.go",
        "patchSetId": 1
      },
      "lineNbr": 299,
      "author": {
        "id": 1290370
      },
      "writtenOn": "2021-06-08T19:17:32Z",
      "side": 1,
      "message": "Yes, I mean, as I proposed, for those controls, can we run the following steps in order:\n1. Zoom in\n2. Test |control| which only works after Zoom-in\n3. Reset all |controls|\n\nPiping those controls up might make the tests have some implicit assumption according to the order. For example, if somehow \"panRight\" only works if we do \"panLeft\" first, the test will still pass. But swapping the order of \"panLeft\" and \"panRight\" won\u0027t.\n\nTherefore, if we have some known constraints (e.g. Those controls only work after \"Zoom in\"), we can explicitly rule it in the codes. But for those we assume can work independently, ideally we should test them independently. WDYT?",
      "parentUuid": "d45ff0e1_75644333",
      "range": {
        "startLine": 287,
        "startChar": 1,
        "endLine": 299,
        "endChar": 2
      },
      "revId": "a1a3b8c26b80cb9b69e49a89e712d3837ef28e12",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "68f7c79a_6ba9ae23",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca_ui_ptz.go",
        "patchSetId": 1
      },
      "lineNbr": 299,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2021-06-09T08:55:18Z",
      "side": 1,
      "message": "Checked that not only zoom in need to toggle before all others, because the initial pan is 0 with range [0, 15]. the panLeft also need to toggle before panRight. Same for tiltDown need to toggle before tiltUp. I don\u0027t think it can easily fit int the structure you proposed. So I prefer to keep current code structure.",
      "parentUuid": "047dcada_dac6208e",
      "range": {
        "startLine": 287,
        "startChar": 1,
        "endLine": 299,
        "endChar": 2
      },
      "revId": "a1a3b8c26b80cb9b69e49a89e712d3837ef28e12",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5723e92a_b4f278b4",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca_ui_ptz.go",
        "patchSetId": 1
      },
      "lineNbr": 299,
      "author": {
        "id": 1290370
      },
      "writtenOn": "2021-06-09T09:08:58Z",
      "side": 1,
      "message": "If so, please at least explicitly comments that these orders are meant to be like that and change the execution order might cause the test failure.\n\nBtw, if the initial value is 0 while the range is [0, 15], shouldn\u0027t we panRight first? I thought panRight will increase the pan while panLeft decrease it. Is that correct?",
      "parentUuid": "68f7c79a_6ba9ae23",
      "range": {
        "startLine": 287,
        "startChar": 1,
        "endLine": 299,
        "endChar": 2
      },
      "revId": "a1a3b8c26b80cb9b69e49a89e712d3837ef28e12",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "23d5eba0_9847db39",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca_ui_ptz.go",
        "patchSetId": 1
      },
      "lineNbr": 299,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2021-06-09T09:30:57Z",
      "side": 1,
      "message": "Added comment in the refactor CL. The panLeft before panRight is due to the initial mirror state is on, also comment it in the previous CL.",
      "parentUuid": "5723e92a_b4f278b4",
      "range": {
        "startLine": 287,
        "startChar": 1,
        "endLine": 299,
        "endChar": 2
      },
      "revId": "a1a3b8c26b80cb9b69e49a89e712d3837ef28e12",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "535bed2e_c5c5ba77",
        "filename": "src/chromiumos/tast/local/camera/cca/cca.go",
        "patchSetId": 1
      },
      "lineNbr": 1016,
      "author": {
        "id": 1290370
      },
      "writtenOn": "2021-06-08T06:21:11Z",
      "side": 1,
      "message": "nit: I prefer using different messages for errors in line 1016 and 1020 to make it clearer.",
      "range": {
        "startLine": 1016,
        "startChar": 16,
        "endLine": 1016,
        "endChar": 30
      },
      "revId": "a1a3b8c26b80cb9b69e49a89e712d3837ef28e12",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2cfdc902_3f336b35",
        "filename": "src/chromiumos/tast/local/camera/cca/cca.go",
        "patchSetId": 1
      },
      "lineNbr": 1016,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2021-06-08T15:24:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "535bed2e_c5c5ba77",
      "range": {
        "startLine": 1016,
        "startChar": 16,
        "endLine": 1016,
        "endChar": 30
      },
      "revId": "a1a3b8c26b80cb9b69e49a89e712d3837ef28e12",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}