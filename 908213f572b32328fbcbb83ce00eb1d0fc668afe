{
  "comments": [
    {
      "key": {
        "uuid": "ef5beb5e_f3ca774d",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/run_oci.go",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-25T23:55:04Z",
      "side": 1,
      "message": "sorry for not thinking about this before, but would it be useful to actual specify the expected exit code instead? does run_oci return different codes for different failures? see https://godoc.org/chromium.googlesource.com/chromiumos/platform/tast-tests.git/src/chromiumos/tast/local/testexec#GetWaitStatus",
      "range": {
        "startLine": 66,
        "startChar": 37,
        "endLine": 66,
        "endChar": 45
      },
      "revId": "908213f572b32328fbcbb83ce00eb1d0fc668afe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2790834_dba04602",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/run_oci.go",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 1313582
      },
      "writtenOn": "2019-04-26T00:35:19Z",
      "side": 1,
      "message": "Most of the time, run_oci returns -1 on error, unless the jailed process itself or the container teardown fails, in which case it\u0027s something like the exit status of the process (exit code or 128 + signum), or the -errno of whatever step failed. I don\u0027t think it\u0027s terribly interesting, especially since all of this *should* be logged, and I don\u0027t see the non-zero exit status\u0027 of run_oci as part of it\u0027s spec, so I\u0027d vote to leave it as is. If someone wants it though, we can add it.",
      "parentUuid": "ef5beb5e_f3ca774d",
      "range": {
        "startLine": 66,
        "startChar": 37,
        "endLine": 66,
        "endChar": 45
      },
      "revId": "908213f572b32328fbcbb83ce00eb1d0fc668afe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa67b9bf_96f2eccb",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/run_oci.go",
        "patchSetId": 3
      },
      "lineNbr": 66,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-26T04:01:56Z",
      "side": 1,
      "message": "got it, sounds good. my only minor nit is to reword this comment to something like \"whether run_oci should return a non-zero exit status\". the \"expected\" in the \"expected stdout\" and \"expected stderr\" is referring to expected values, so when i saw this comment, i was initially confused and thought it was saying that the field contains the expected exit status, e.g. 1 or 2 or whatever.",
      "parentUuid": "f2790834_dba04602",
      "range": {
        "startLine": 66,
        "startChar": 37,
        "endLine": 66,
        "endChar": 45
      },
      "revId": "908213f572b32328fbcbb83ce00eb1d0fc668afe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}