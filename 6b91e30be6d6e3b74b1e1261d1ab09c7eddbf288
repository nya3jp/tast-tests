{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ad93f0f0_52ec656d",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/global_actions_menu.go",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2022-03-28T17:10:59Z",
      "side": 1,
      "message": "is there another way to close the dialog?\n\nIf not, please file a bug, and add a `// TODO(b/sss): replace ACTION_CLOSE_SYSTEM_DIALOGS with alternative`\n\n\nPlease see: https://developer.android.com/reference/android/content/Intent#ACTION_CLOSE_SYSTEM_DIALOGS",
      "range": {
        "startLine": 51,
        "startChar": 52,
        "endLine": 51,
        "endChar": 94
      },
      "revId": "6b91e30be6d6e3b74b1e1261d1ab09c7eddbf288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "edb3aa21_590726a8",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/global_actions_menu.go",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1534417
      },
      "writtenOn": "2022-03-28T17:45:52Z",
      "side": 1,
      "message": "The reason I used this intent was to follow how CTS test work for global actions\n\nhttp://cs/android/cts/tests/accessibilityservice/src/android/accessibilityservice/cts/utils/ActivityLaunchUtils.java;l\u003d148;rcl\u003d1932b2c8c613069abfb9d8944356ebfd3694ccbd\n\nOn cleanup, CTS will broadcast this intent to close any opened dialogs.\n\nWhat do you think?",
      "parentUuid": "ad93f0f0_52ec656d",
      "range": {
        "startLine": 51,
        "startChar": 52,
        "endLine": 51,
        "endChar": 94
      },
      "revId": "6b91e30be6d6e3b74b1e1261d1ab09c7eddbf288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3847df1_d91e01ad",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/global_actions_menu.go",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2022-03-28T17:51:55Z",
      "side": 1,
      "message": "CTS will have to update its test soon since CLOSE_SYSTEM_DIALOGS will crash or do-nothing or S.\n\nMy suggestion, assuming that there is no an alternative way to do it now, is to file a bug saying that Tast Test Global Action Menu should be updated on Android S...\n\nand now just add a `// TODO(b/xxx): Replace CLOSE_SYSTEM_DIALOGS ...`",
      "parentUuid": "edb3aa21_590726a8",
      "range": {
        "startLine": 51,
        "startChar": 52,
        "endLine": 51,
        "endChar": 94
      },
      "revId": "6b91e30be6d6e3b74b1e1261d1ab09c7eddbf288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6dba28e6_e2fd9a2a",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/global_actions_menu.go",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1534417
      },
      "writtenOn": "2022-03-28T18:06:58Z",
      "side": 1,
      "message": "Yeah, there\u0027s no direct alternative to that for now since that\u0027s the only intent we handle on Android side (though it might be doable on Chrome side).\n\nAdded TODO for now.",
      "parentUuid": "a3847df1_d91e01ad",
      "range": {
        "startLine": 51,
        "startChar": 52,
        "endLine": 51,
        "endChar": 94
      },
      "revId": "6b91e30be6d6e3b74b1e1261d1ab09c7eddbf288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94f8cf9d_27317e94",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/global_actions_menu.go",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1355245
      },
      "writtenOn": "2022-03-29T00:34:23Z",
      "side": 1,
      "message": "It seems that apps cann\u0027t use ACTION_CLOSE_SYSTEM_DIALOGS if it targets S+ but adb shell is still able to use it because it\u0027s important for tests. (https://developer.android.com/about/versions/12/behavior-changes-all#close-system-dialogs-exceptions)\nAnd it seems that CTS will keep using it.\n\nUsing this intent here even for S+ makes sense to me.",
      "parentUuid": "6dba28e6_e2fd9a2a",
      "range": {
        "startLine": 51,
        "startChar": 52,
        "endLine": 51,
        "endChar": 94
      },
      "revId": "6b91e30be6d6e3b74b1e1261d1ab09c7eddbf288",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}