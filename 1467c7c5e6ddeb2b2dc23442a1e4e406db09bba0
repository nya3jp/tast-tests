{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7085e95e_3644d244",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/ucm_sequences.go",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1308772
      },
      "writtenOn": "2022-04-26T00:19:53Z",
      "side": 1,
      "message": "front mic, rear mic, BT offload, line out, headphone, these should all also be tested.",
      "revId": "1467c7c5e6ddeb2b2dc23442a1e4e406db09bba0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2f7f5c4_43fe62cc",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/ucm_sequences.go",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1512777
      },
      "writtenOn": "2022-04-26T02:12:56Z",
      "side": 1,
      "message": "We don\u0027t have a hwdep for those.",
      "parentUuid": "7085e95e_3644d244",
      "revId": "1467c7c5e6ddeb2b2dc23442a1e4e406db09bba0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5605c2fa_32713614",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/ucm_sequences.go",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1512777
      },
      "writtenOn": "2022-04-26T03:15:49Z",
      "side": 1,
      "message": "To clarify, based on the discussion on go/robust-ucm-changes, we shall allow alsaucm to fail if the device is not plugged.\n\u003e front mic, rear mic\nDidn\u0027t think about that. Maybe `hwdep.Microphone` does not imply SectionDevice.\"Internal Mic\" exists. Need to take a look.\n\u003e BT offload\nWhether offloading is enabled can be detected with cros_config. Unsure about availability of `hwdep`.\n\u003e Line out, headphone\nNo `hwdep` available. I think detecting \u0026 skipping at run-time is a no-go as the test scheduler might decide that the test can be run in a dut without a headphone, then the test becomes incorrectly skipped (while another dut with a headphone connected is available in lab), introducing flakes.",
      "parentUuid": "d2f7f5c4_43fe62cc",
      "revId": "1467c7c5e6ddeb2b2dc23442a1e4e406db09bba0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d27bcfd2_a3f4a6bd",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/ucm_sequences.go",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1308772
      },
      "writtenOn": "2022-04-26T22:36:37Z",
      "side": 1,
      "message": "You can query alsa directly for the existance of these and bypass hwdep if need be",
      "parentUuid": "5605c2fa_32713614",
      "revId": "1467c7c5e6ddeb2b2dc23442a1e4e406db09bba0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b49934c_43148514",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/ucm_sequences.go",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1512777
      },
      "writtenOn": "2022-04-27T02:36:00Z",
      "side": 1,
      "message": "I think querying at run-time is not robust. Suppose we detect the presence of a headphone at run-time. The test may be scheduled to run on a DUT without a headphone for a bad CL (and incorrectly passes), and then break the tree as other CLs\u0027 tests may be scheduled on a DUT with a headphone.",
      "parentUuid": "d27bcfd2_a3f4a6bd",
      "revId": "1467c7c5e6ddeb2b2dc23442a1e4e406db09bba0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5c912a6_eedf1a43",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/ucm_sequences.go",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1308772
      },
      "writtenOn": "2022-04-27T18:12:19Z",
      "side": 1,
      "message": "I am not sure I understand that logic. Querying the UCM directly is deterministic, and if it says it has a headphone then the headphone should pass, otherwise it will operated controls that don\u0027t exist and fail.",
      "parentUuid": "3b49934c_43148514",
      "revId": "1467c7c5e6ddeb2b2dc23442a1e4e406db09bba0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba503407_fa1e077d",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/ucm_sequences.go",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1512777
      },
      "writtenOn": "2022-04-27T18:32:14Z",
      "side": 1,
      "message": "So we don\u0027t allow mixer controls to fail if the device is not plugged?\n\nSee also Jimmy\u0027s comment on http://shortn/_CMGMLihaOc:\n\u003e There is a concern that it may not be able to run all the sequences. If a node is not plugged, calling enable sequence may fail.",
      "parentUuid": "d5c912a6_eedf1a43",
      "revId": "1467c7c5e6ddeb2b2dc23442a1e4e406db09bba0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}