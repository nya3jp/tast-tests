{
  "comments": [
    {
      "key": {
        "uuid": "3c11cf3e_73243198",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/start_termina_vm.go",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-07T05:09:53Z",
      "side": 1,
      "message": "how long does this test typically take to complete in practice? i think that the autotest test that runs these tests just allocates 10 minutes to the whole bvt suite, so i\u0027m a bit worried that this test will eat up a large chunk of that if it times out for some reason.",
      "revId": "98dcc92bbe0514fbd5ecc1a4a0f5ff93cc13e79d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6ee4554_4d4b282b",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/start_termina_vm.go",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1003129
      },
      "writtenOn": "2018-06-07T05:15:04Z",
      "side": 1,
      "message": "I would say even over a fast connection it\u0027d take five minutes to download and extract the container.\n\nDoes this run in bvt-inline or perbuild in autotest? These should probably go into a separate autotest with some long timeouts.",
      "parentUuid": "3c11cf3e_73243198",
      "revId": "98dcc92bbe0514fbd5ecc1a4a0f5ff93cc13e79d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b02684e0_274639c9",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/start_termina_vm.go",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1210615
      },
      "writtenOn": "2018-06-07T05:33:41Z",
      "side": 1,
      "message": "In practice I think it\u0027s less than 180 seconds (this is on my local Eve in the Sydney office, connected to Ethernet).\n\nI don\u0027t know the answer to bvt-inline or perbuild in autotest.",
      "parentUuid": "d6ee4554_4d4b282b",
      "revId": "98dcc92bbe0514fbd5ecc1a4a0f5ff93cc13e79d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "25a7379e_e85ce21f",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/start_termina_vm.go",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-07T06:22:14Z",
      "side": 1,
      "message": "right now, tast.bvt runs all the tests with \"bvt\" attributes as part of bvt-perbuild.\n\nif the download is reliable and won\u0027t introduce flakiness, i think that this is probably okay -- i should just increase the total time available for tast.bvt to run.",
      "parentUuid": "b02684e0_274639c9",
      "revId": "98dcc92bbe0514fbd5ecc1a4a0f5ff93cc13e79d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b91dac1_b2bc415d",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/start_termina_vm.go",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-07T14:24:28Z",
      "side": 1,
      "message": "thinking about this a bit more, is it possible to use a different, smaller container in testing? if that\u0027s at all possible, it seems like it would be worthwhile to do; three minutes is a long time to wait to verify that a change hasn\u0027t broken this code, especially when it\u0027s spent downloading data and not actually exercising the moving pieces.",
      "parentUuid": "25a7379e_e85ce21f",
      "revId": "98dcc92bbe0514fbd5ecc1a4a0f5ff93cc13e79d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "edc63885_456bb53e",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/start_termina_vm.go",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1003129
      },
      "writtenOn": "2018-06-07T16:57:43Z",
      "side": 1,
      "message": "Unfortunately this test will already need to download a 60 MB zip file, but at least that can be reused across different VM tests. The container wouldn\u0027t be reused across tests though, since it\u0027s stored in the user\u0027s cryptohome.\n\nWe could try building a smaller alpine-based container for testing, which should be \u003c 10 MB.",
      "parentUuid": "3b91dac1_b2bc415d",
      "revId": "98dcc92bbe0514fbd5ecc1a4a0f5ff93cc13e79d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "55eea4ab_32bc2085",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/start_termina_vm.go",
        "patchSetId": 2
      },
      "lineNbr": 42,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-07T05:09:53Z",
      "side": 1,
      "message": "nit: since \u0027err\u0027 is declared earlier, you can change this to:\n\n  if err \u003d concierge.StartContainer(s.Context()); err !\u003d nil {\n      s.Fatal(...\n\nditto for the existing StartTerminaVM call above",
      "revId": "98dcc92bbe0514fbd5ecc1a4a0f5ff93cc13e79d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66a4b150_c7eb75c7",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/start_termina_vm.go",
        "patchSetId": 2
      },
      "lineNbr": 42,
      "author": {
        "id": 1210615
      },
      "writtenOn": "2018-06-07T05:33:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "55eea4ab_32bc2085",
      "revId": "98dcc92bbe0514fbd5ecc1a4a0f5ff93cc13e79d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "71ef2252_0b3b63d3",
        "filename": "src/chromiumos/tast/local/vm/concierge.go",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-07T05:09:53Z",
      "side": 1,
      "message": "nit: failed",
      "range": {
        "startLine": 201,
        "startChar": 21,
        "endLine": 201,
        "endChar": 27
      },
      "revId": "98dcc92bbe0514fbd5ecc1a4a0f5ff93cc13e79d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f996e7e_94501f71",
        "filename": "src/chromiumos/tast/local/vm/concierge.go",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1210615
      },
      "writtenOn": "2018-06-07T05:36:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "71ef2252_0b3b63d3",
      "range": {
        "startLine": 201,
        "startChar": 21,
        "endLine": 201,
        "endChar": 27
      },
      "revId": "98dcc92bbe0514fbd5ecc1a4a0f5ff93cc13e79d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}