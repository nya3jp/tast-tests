{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ef7f8d9f_f989fdbc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 17
      },
      "lineNbr": 0,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-01-28T17:08:41Z",
      "side": 1,
      "message": "I address Jun\u0027s comments and also added more submit info to the CL to explain the purpose of the changes.",
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d1cb9c3_98a33724",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/battery_info_tracker.go",
        "patchSetId": 17
      },
      "lineNbr": 125,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2021-01-29T01:37:31Z",
      "side": 1,
      "message": "Sorry, I\u0027ve completely overseen this from the beginning... what is this?\n\nt.chargeFullDesign * t.voltageMinDesign * 1e-12 would be in the unit of watt value for the full-charged battery, I guess. But why 3600?  t.energy joule is accumulated to a certain duration. Why not using the same duration?",
      "range": {
        "startLine": 125,
        "startChar": 1,
        "endLine": 125,
        "endChar": 76
      },
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b9f36cde_71d056dd",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/battery_info_tracker.go",
        "patchSetId": 17
      },
      "lineNbr": 125,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-01-29T01:45:33Z",
      "side": 1,
      "message": "Hi Jun,\n\ncharge_full_design unit is microAh\nvoltage_min_desing unit is microV\n\nt.chargeFullDesign * t.voltageMinDesign * 1e-12 will have unit V*Ah (watt*hour)\n\nto convert it to Joules (watt*second), we need multiply 3600. This way it has same unit with the collected CUJ energy (t.energy) in Joules and a percentage can be calculated.",
      "parentUuid": "7d1cb9c3_98a33724",
      "range": {
        "startLine": 125,
        "startChar": 1,
        "endLine": 125,
        "endChar": 76
      },
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c31aa65f_059bef9f",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/battery_info_tracker.go",
        "patchSetId": 17
      },
      "lineNbr": 125,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2021-01-30T06:28:53Z",
      "side": 1,
      "message": "Ah, right. Thanks for the explanation.",
      "parentUuid": "b9f36cde_71d056dd",
      "range": {
        "startLine": 125,
        "startChar": 1,
        "endLine": 125,
        "endChar": 76
      },
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2872eaa8_c78e2960",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/recorder.go",
        "patchSetId": 17
      },
      "lineNbr": 160,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2021-01-30T06:28:53Z",
      "side": 1,
      "message": "map[string]*metrics.Histogram{}\nor specify the capacity if make is used.",
      "range": {
        "startLine": 160,
        "startChar": 22,
        "endLine": 160,
        "endChar": 57
      },
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "16746386_e1974bb7",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/recorder.go",
        "patchSetId": 17
      },
      "lineNbr": 160,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-01-31T20:35:25Z",
      "side": 1,
      "message": "Removed this \"histograms\" fields from the Recorder struct so this line is no longer needed.",
      "parentUuid": "2872eaa8_c78e2960",
      "range": {
        "startLine": 160,
        "startChar": 22,
        "endLine": 160,
        "endChar": 57
      },
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b6c223b0_1c4e4975",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/recorder.go",
        "patchSetId": 17
      },
      "lineNbr": 238,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2021-01-30T06:28:53Z",
      "side": 1,
      "message": "By the way, what is the reason why you want to concatenate rather than merging them?  Have you seen the problem of merging?",
      "range": {
        "startLine": 238,
        "startChar": 37,
        "endLine": 238,
        "endChar": 43
      },
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2836fb38_b628e583",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/recorder.go",
        "patchSetId": 17
      },
      "lineNbr": 238,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-01-31T20:35:25Z",
      "side": 1,
      "message": "There are just too many cases to handle for \"merge\" especially when two buckets are overlapped (although I don\u0027t know if bucket overlapping is possible or not). Also if we merge two overlapped buckets we lose the original granularity from the sample data. So we prefer not merging them here but just provide all individual buckets by concatenate them and the post processing logic will handle them properly.\n\nBut your comment made me check the Histogram implementation again and found buckets should be in ascending ordered. Given the Contact() will not guarantee the order, I decided to removed Concat().\n\nIn stead, we can just reuse the CUJs \"record\" struct to record the histogram buckets. Existing Histogram behavior will not be impacted. See the added \"Buckets\" field in \"record\" struct.",
      "parentUuid": "b6c223b0_1c4e4975",
      "range": {
        "startLine": 238,
        "startChar": 37,
        "endLine": 238,
        "endChar": 43
      },
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "25e141e8_97568bb2",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/recorder.go",
        "patchSetId": 17
      },
      "lineNbr": 339,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2021-01-30T06:28:53Z",
      "side": 1,
      "message": "Can you bring this comment to the doc-comment of the function itself?\n  // SaveHistograms saves histogram raw data to the file \"recorder_histograms.json\" in the given directory.",
      "range": {
        "startLine": 339,
        "startChar": 1,
        "endLine": 339,
        "endChar": 43
      },
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f4d263e4_e4c07a24",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/recorder.go",
        "patchSetId": 17
      },
      "lineNbr": 339,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-01-31T20:35:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "25e141e8_97568bb2",
      "range": {
        "startLine": 339,
        "startChar": 1,
        "endLine": 339,
        "endChar": 43
      },
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77e23c6e_988176ce",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/recorder.go",
        "patchSetId": 17
      },
      "lineNbr": 340,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2021-01-30T06:28:53Z",
      "side": 1,
      "message": "by the way, why is it called \u0027recorder_\u0027?  Can we strip that?",
      "range": {
        "startLine": 340,
        "startChar": 32,
        "endLine": 340,
        "endChar": 51
      },
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "23960258_4ba9072d",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/recorder.go",
        "patchSetId": 17
      },
      "lineNbr": 340,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-01-31T20:35:25Z",
      "side": 1,
      "message": "\"hisgograms.json\" is just too common and I was afraid the file name could conflict with other usage. With the \"recorder_\" prefix we know it is for CUJ recorder and will have less chance to conflict.",
      "parentUuid": "77e23c6e_988176ce",
      "range": {
        "startLine": 340,
        "startChar": 32,
        "endLine": 340,
        "endChar": 51
      },
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf4dac1a_aed619ae",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/tabswitchcuj/tab_switch_cuj.go",
        "patchSetId": 17
      },
      "lineNbr": 210,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2021-01-30T06:28:53Z",
      "side": 1,
      "message": "By the way, any reason why this is saved only on tab_switch_cuj?  Don\u0027t want to save on other tests?",
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a2f138e9_a99e4eff",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/tabswitchcuj/tab_switch_cuj.go",
        "patchSetId": 17
      },
      "lineNbr": 210,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-01-31T20:35:25Z",
      "side": 1,
      "message": "We will add this to other CUJs as well. But let me take this out temporarily from tab_switch_cuj and we will add this back when submitting changes for each individual CUJ.",
      "parentUuid": "cf4dac1a_aed619ae",
      "revId": "b0c4baec1d9af00baa1cdd5551f6f699a32823ba",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}