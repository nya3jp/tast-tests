{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "49a28799_220f13a9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1379515
      },
      "writtenOn": "2021-08-12T01:34:40Z",
      "side": 1,
      "message": "Overall looks pretty good.\n\nAny though on adding some tests for manual intervention?\n\n(e.g. in autocap\u003dchars field, type \"HELLO\" (should be all shift) tap shift type \"world\"?",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "261fe52d_8eb71196",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-12T05:54:09Z",
      "side": 1,
      "message": "IIUC, you are suggesting hold shift and type some keys?\nI worked on this half day and finished the script eventually. Last finding is that multi-touch does not work on VK atm.",
      "parentUuid": "49a28799_220f13a9",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa23a14e_1c36f72a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1379515
      },
      "writtenOn": "2021-08-12T05:59:17Z",
      "side": 1,
      "message": "Just a tap of shift to interrupt auto shift\n\n(multi touch with shift has been on my wishlist for a while, but never been given priority by PM)",
      "parentUuid": "261fe52d_8eb71196",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b636287_55794609",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-12T06:30:35Z",
      "side": 1,
      "message": "Sure. Got it. May I cover this in following cls? I also have some other scenarios to cover such as switching field.",
      "parentUuid": "aa23a14e_1c36f72a",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50d66bc1_0b0d8931",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1379515
      },
      "writtenOn": "2021-08-12T06:32:21Z",
      "side": 1,
      "message": "Yeah, thats fine, was just raising as this is a pretty critical use case for this feature, alth @tranbaoduy may have more ideas.",
      "parentUuid": "4b636287_55794609",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08771914_c7d0eb60",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/testserver/test_server.go",
        "patchSetId": 4
      },
      "lineNbr": 56,
      "author": {
        "id": 1450817
      },
      "writtenOn": "2021-08-12T03:17:43Z",
      "side": 1,
      "message": "Nit: typo (sensence)",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eda97c2d_581e3a93",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/testserver/test_server.go",
        "patchSetId": 4
      },
      "lineNbr": 124,
      "author": {
        "id": 1450817
      },
      "writtenOn": "2021-08-12T03:17:43Z",
      "side": 1,
      "message": "Nit: same typo (sensence)",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8271c71d_a12805b3",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 44,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-08-12T03:12:32Z",
      "side": 1,
      "message": "create a cleanupCtx for this?",
      "range": {
        "startLine": 44,
        "startChar": 1,
        "endLine": 44,
        "endChar": 68
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed6f25ef_3fc35f58",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 44,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-12T06:30:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8271c71d_a12805b3",
      "range": {
        "startLine": 44,
        "startChar": 1,
        "endLine": 44,
        "endChar": 68
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d4604a4_462cf748",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 54,
      "author": {
        "id": 1450817
      },
      "writtenOn": "2021-08-12T03:17:43Z",
      "side": 1,
      "message": "This is a function returning an action - ie. a function returning a function.\nShould be able to just do manualshift :\u003d vkbCtx.TapNode(leftshiftkey), then replace all manualshift() with manualshift",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9a830ef8_ee8fe10b",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 54,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-12T06:30:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0d4604a4_462cf748",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c7cf0a0_ba4ef9e7",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-08-12T03:12:32Z",
      "side": 1,
      "message": "Would it be better like this?\n\nleftShiftKey :\u003d nodewith.Name(\"shift\").Ancestor(vkb.NodeFinder.HasClass(\"key_pos_shift_left\")\nmanualShift :\u003d vkbCtx.TapNode(leftShiftKey)",
      "range": {
        "startLine": 54,
        "startChar": 1,
        "endLine": 57,
        "endChar": 2
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e4296f1e_4c8fbbf4",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-12T06:30:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8c7cf0a0_ba4ef9e7",
      "range": {
        "startLine": 54,
        "startChar": 1,
        "endLine": 57,
        "endChar": 2
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "811b2042_f5cca8a9",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1450817
      },
      "writtenOn": "2021-08-12T03:17:43Z",
      "side": 1,
      "message": "Ditto",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "867116f4_4d0786dc",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-12T06:30:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "811b2042_f5cca8a9",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52ef6be1_8a0c1aee",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-08-12T03:12:32Z",
      "side": 1,
      "message": "shiftLock :\u003d uiauto.Combine(\"double tap to lock shift state\",\n\t\t\t// Throws out error if VK is shifted already.\n\t\t\tvkbCtx.WaitUntilShiftStatus(vkb.ShiftStateNone),\n\t\t\tmanualShift(),\n\t\t\tmanualShift(),\n\t\t\tvkbCtx.WaitUntilShiftStatus(vkb.ShiftStateLocked),\n\t\t)",
      "range": {
        "startLine": 59,
        "startChar": 1,
        "endLine": 67,
        "endChar": 2
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4a748d5_ff3c22b3",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-12T06:30:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "52ef6be1_8a0c1aee",
      "range": {
        "startLine": 59,
        "startChar": 1,
        "endLine": 67,
        "endChar": 2
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70d7fa03_dd2d2152",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 75,
      "author": {
        "id": 1450817
      },
      "writtenOn": "2021-08-12T03:17:43Z",
      "side": 1,
      "message": "Ditto",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "060b2fb2_09d1a9f6",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 75,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-12T06:30:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "70d7fa03_dd2d2152",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd01c17c_9bc9d004",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 94,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-08-12T03:12:32Z",
      "side": 1,
      "message": "validateManualShiftAndShiftLock :\u003d uiauto.Combine(\"validate manual shift and shift-lock\",\n\t\t\t// This scenario should start in unshifted state.\n\t\t\tvkbCtx.WaitUntilShiftStatus(vkb.ShiftStateNone),\n\t\t\t// VK should be shifted after manual shift.\n\t\t\tmanualShift(),\n\t\t\tvkbCtx.WaitUntilShiftStatus(vkb.ShiftStateShifted),\n\t\t\t// Sleep 1s to avoid double shift.\n\t\t\tui.Sleep(time.Second),\n\t\t\t// VK should be unshifted after second manual shift.\n\t\t\tmanualShift(),\n\t\t\tvkbCtx.WaitUntilShiftStatus(vkb.ShiftStateNone),\n\t\t\tui.Sleep(time.Second),\n\t\t\t// Validate shift-lock.\n\t\t\tshiftLock(),\n\t\t\t// VK should be unshifted after second manual shift.\n\t\t\tmanualShift(),\n\t\t\tvkbCtx.WaitUntilShiftStatus(vkb.ShiftStateNone),\n\t\t)",
      "range": {
        "startLine": 75,
        "startChar": 1,
        "endLine": 94,
        "endChar": 2
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd3bc2c2_4ff9ad35",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 94,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-12T06:30:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fd01c17c_9bc9d004",
      "range": {
        "startLine": 75,
        "startChar": 1,
        "endLine": 94,
        "endChar": 2
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd920dbd_2b91b4f5",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1450817
      },
      "writtenOn": "2021-08-12T03:17:43Z",
      "side": 1,
      "message": "Does this need to be tested in non-english languages? Would Alvin\u0027s parameterisation work help here?",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "06c15f15_a4eb23e3",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-12T06:30:35Z",
      "side": 1,
      "message": "Yes. It is nice to have. I confirmed it with Eng team, it only applies to latin language, and implemented the same across IMEs. \n\nUnfortunately the function to fetch shift state only works on English (US). So this cl only implements English (US)",
      "parentUuid": "dd920dbd_2b91b4f5",
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af47dbe2_dbd6beeb",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 236,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-08-12T03:12:32Z",
      "side": 1,
      "message": "create a cleanupCtx for teardown?",
      "range": {
        "startLine": 236,
        "startChar": 18,
        "endLine": 236,
        "endChar": 21
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "506e8ffd_acb8260c",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 236,
      "author": {
        "id": 1450817
      },
      "writtenOn": "2021-08-12T03:20:07Z",
      "side": 1,
      "message": "Does cleanupctx work within Run to teardown an individual subtest? I don\u0027t have any experience with subtests, so you\u0027re probably more familiar.",
      "parentUuid": "af47dbe2_dbd6beeb",
      "range": {
        "startLine": 236,
        "startChar": 18,
        "endLine": 236,
        "endChar": 21
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "63e52000_efe38c16",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 236,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-08-12T03:26:07Z",
      "side": 1,
      "message": "yes, if the cleanupCtx is created withnin a subtest.",
      "parentUuid": "506e8ffd_acb8260c",
      "range": {
        "startLine": 236,
        "startChar": 18,
        "endLine": 236,
        "endChar": 21
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "28ccf4a7_d1bea65f",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_auto_shift.go",
        "patchSetId": 4
      },
      "lineNbr": 236,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-12T06:30:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "63e52000_efe38c16",
      "range": {
        "startLine": 236,
        "startChar": 18,
        "endLine": 236,
        "endChar": 21
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4da583c_a63f7f83",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/vkb/vkb.go",
        "patchSetId": 4
      },
      "lineNbr": 490,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-08-12T03:12:32Z",
      "side": 1,
      "message": "nit: just \"ShiftState\"? suffix \"Type\" seems trivial.",
      "range": {
        "startLine": 490,
        "startChar": 5,
        "endLine": 490,
        "endChar": 19
      },
      "revId": "54e6e2dd737345cfcc0be388776925ea9df2b8b4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}