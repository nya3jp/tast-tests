{
  "comments": [
    {
      "key": {
        "uuid": "a5a80666_61b3d181",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/split_view_resize_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 205,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-05-13T21:34:01Z",
      "side": 1,
      "message": "I can\u0027t remember why EventWatcher can\u0027t be used here. Can you elaborate why?\nhttps://godoc.org/chromium.googlesource.com/chromiumos/platform/tast-tests.git/src/chromiumos/tast/local/chrome/ui#EventWatcher",
      "range": {
        "startLine": 205,
        "startChar": 4,
        "endLine": 205,
        "endChar": 38
      },
      "revId": "f9b2a85cef8fafd1e85811701ee722346f5a8c0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45c12991_e5525f58",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/split_view_resize_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 205,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2020-05-13T22:38:28Z",
      "side": 1,
      "message": "The EventWatcher requires deskMiniViews, and the problem is that when I call chromeui.FindAll to fetch deskMiniViews before/during the animation, the bounds seem to be somehow cached. I can wait for the animation simply with testing.Sleep and look at the test device so I definitely know the animation finishes, but even if I do deskMiniViews.Release(ctx) and call chromeui.FindAll again, I still get the bounds from the first call to chromeui.FindAll. The only way I get the correct bounds is if I do not make the call to chromeui.FindAll until the animation is done.",
      "parentUuid": "a5a80666_61b3d181",
      "range": {
        "startLine": 205,
        "startChar": 4,
        "endLine": 205,
        "endChar": 38
      },
      "revId": "f9b2a85cef8fafd1e85811701ee722346f5a8c0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca550506_668a78e5",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/split_view_resize_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 205,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-05-13T22:57:27Z",
      "side": 1,
      "message": "Every time a new bounds data arrives to the automation API (and so cached bounds are updated), EventTypeLocationChanged should also occur.\n\nIf you create an event watcher for locaiton changed, and wait until no location-changed events happen (i.e. testing.Poll with EnsureNoEvents), the cached bounds should be updated.\n\nPlease take a look at WaitForLocationChangeCompleted for your reference (https://chromium.googlesource.com/chromiumos/platform/tast-tests.git/+/refs/heads/master/src/chromiumos/tast/local/chrome/ui/watcher.go#133).  This was created exactly for the situation you described.",
      "parentUuid": "45c12991_e5525f58",
      "range": {
        "startLine": 205,
        "startChar": 4,
        "endLine": 205,
        "endChar": 38
      },
      "revId": "f9b2a85cef8fafd1e85811701ee722346f5a8c0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a40120d_177a2ae3",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/split_view_resize_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 205,
      "author": {
        "id": 1319142
      },
      "writtenOn": "2020-05-13T23:17:24Z",
      "side": 1,
      "message": "Why does this not work:\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/2200237",
      "parentUuid": "ca550506_668a78e5",
      "range": {
        "startLine": 205,
        "startChar": 4,
        "endLine": 205,
        "endChar": 38
      },
      "revId": "f9b2a85cef8fafd1e85811701ee722346f5a8c0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fd7832f5_29ca4a68",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/split_view_resize_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 205,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-05-14T17:01:15Z",
      "side": 1,
      "message": "It looks like transform changes for views aren\u0027t propagated as accessibility events.\nFiled as crbug.com/1082562",
      "parentUuid": "5a40120d_177a2ae3",
      "range": {
        "startLine": 205,
        "startChar": 4,
        "endLine": 205,
        "endChar": 38
      },
      "revId": "f9b2a85cef8fafd1e85811701ee722346f5a8c0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dcd95e33_4526b826",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/split_view_resize_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 205,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-05-14T17:30:49Z",
      "side": 1,
      "message": "My fix was landed as crrev.com/768794. Once it\u0027s added through uprev, WaitForLocationChangeCompleted or EventWatcher should work.",
      "parentUuid": "fd7832f5_29ca4a68",
      "range": {
        "startLine": 205,
        "startChar": 4,
        "endLine": 205,
        "endChar": 38
      },
      "revId": "f9b2a85cef8fafd1e85811701ee722346f5a8c0f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}