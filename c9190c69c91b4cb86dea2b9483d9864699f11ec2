{
  "comments": [
    {
      "key": {
        "uuid": "b2748577_ed0fc784",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-09-03T12:09:52Z",
      "side": 1,
      "message": "These two parameters look exactly the same. Did you mean to put different preconditions or so?",
      "range": {
        "startLine": 41,
        "startChar": 4,
        "endLine": 48,
        "endChar": 29
      },
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c816ebb_dbec7bff",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2020-09-07T04:30:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b2748577_ed0fc784",
      "range": {
        "startLine": 41,
        "startChar": 4,
        "endLine": 48,
        "endChar": 29
      },
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b3977519_992ef3c9",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-09-03T12:09:52Z",
      "side": 1,
      "message": "How about using :\u003d instead of \u003d here if this is not intended to interact with the outer scope?",
      "range": {
        "startLine": 81,
        "startChar": 2,
        "endLine": 81,
        "endChar": 12
      },
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b022b806_ee99c601",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2020-09-07T04:30:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b3977519_992ef3c9",
      "range": {
        "startLine": 81,
        "startChar": 2,
        "endLine": 81,
        "endChar": 12
      },
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "91e91962_bfab5946",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-09-03T12:09:52Z",
      "side": 1,
      "message": "https://github.com/golang/go/wiki/CodeReviewComments#named-result-parameters\nI think this variable should be declared inside the function instead of a named return parameter.\nerr is only used as a local variable (unadorned return is not used in this function), and the name does not add information to the godoc.",
      "range": {
        "startLine": 132,
        "startChar": 57,
        "endLine": 132,
        "endChar": 70
      },
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "875c582d_b53a61e4",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2020-09-07T04:30:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91e91962_bfab5946",
      "range": {
        "startLine": 132,
        "startChar": 57,
        "endLine": 132,
        "endChar": 70
      },
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "94040e35_a8b7ac1f",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 149,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-09-03T12:09:52Z",
      "side": 1,
      "message": "The local variable |cont| is not used after this line. Is it intended?",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77746867_854b86a2",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 149,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2020-09-07T04:30:06Z",
      "side": 1,
      "message": "No, it is not used after this line in this method, it is used to cleanup. Are you suggest removing cont \u003d nil?",
      "parentUuid": "94040e35_a8b7ac1f",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6daa790b_34721a54",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 149,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-09-07T06:43:09Z",
      "side": 1,
      "message": "Right. What do you mean by \"cleaning up\"?\nI was thinking count\u003dnil would void the sole reference to the pointed object, thus GC would be allowed to collect the pointed object, however, since the pointer variable is a local variable, I thought the same thing would happen when the function returns without explicitly putting nil.",
      "parentUuid": "77746867_854b86a2",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9889246b_f8882d9d",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 149,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2020-09-07T23:32:01Z",
      "side": 1,
      "message": "By \"cleaning up\", I mean the var is only created and used in this clean up method.",
      "parentUuid": "6daa790b_34721a54",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47123e90_01425fc2",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 149,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-09-08T07:27:58Z",
      "side": 1,
      "message": "Now I noticed that cont returned from vm.DefaultContainer is always non-nil, because newContainer always returns a pointer to the new object.\nsrc/platform/tast-tests/src/chromiumos/tast/local/vm/container.go\nIn which case was this non-nil check needed?",
      "parentUuid": "9889246b_f8882d9d",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9661ebc_73f43154",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 149,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2020-09-10T01:06:05Z",
      "side": 1,
      "message": "I do not have much knowledge of this.\n@mwarton, would you mind share your thoughts here?",
      "parentUuid": "47123e90_01425fc2",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04f2d6cf_ce013d1b",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 149,
      "author": {
        "id": 1370239
      },
      "writtenOn": "2020-09-10T04:28:47Z",
      "side": 1,
      "message": "This is confusing code, I think DefaultContainer should be renamed to GetRunningContainer.\n\nAs yamaguchi says, cont will never be nil, even in the case of error, so an else case should be used instead of the cont check.\n\nThus, I think the code here should be:\n\n        cont, err :\u003d vm.GetRunningContainer(ctx, cr.User())\n\tif err !\u003d nil {\n\t\ttesting.ContextLogf(ctx, \"Failed to connect to the container, it might not exist: %s\", err)\n\t} else {\n                if err :\u003d vm.StopConcierge(ctx); err !\u003d nil {\n\t\t\ttesting.ContextLogf(ctx, \"Failure stopping concierge: %q\", err)\n\t\t}\n        }",
      "parentUuid": "f9661ebc_73f43154",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ded1fe05_a157eaa5",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-09-03T12:09:52Z",
      "side": 1,
      "message": "ditto",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "05ced0f4_fa6860e2",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2020-09-07T04:30:06Z",
      "side": 1,
      "message": "Same as above.",
      "parentUuid": "ded1fe05_a157eaa5",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2c70f61_6ad02f47",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-09-07T06:43:09Z",
      "side": 1,
      "message": "Commented to the above one.",
      "parentUuid": "05ced0f4_fa6860e2",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18064760_b1b92c2d",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2020-09-07T23:32:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d2c70f61_6ad02f47",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6ee49e6_9aa06d0f",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 183,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-09-03T12:09:52Z",
      "side": 1,
      "message": "I guess cont would be invalid in this case. Is it OK to continue the test in this case?",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc4e618d_a25c25a7",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/two_users_install.go",
        "patchSetId": 1
      },
      "lineNbr": 183,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2020-09-07T04:30:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a6ee49e6_9aa06d0f",
      "revId": "c9190c69c91b4cb86dea2b9483d9864699f11ec2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}