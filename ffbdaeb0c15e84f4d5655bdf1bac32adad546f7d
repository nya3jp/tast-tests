{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3dffb3b5_fddceb72",
        "filename": "src/chromiumos/tast/local/arc/arc.go",
        "patchSetId": 13
      },
      "lineNbr": 143,
      "author": {
        "id": 1546145
      },
      "writtenOn": "2022-09-06T02:53:16Z",
      "side": 1,
      "message": "I think we should not break encapsulation here, instead expose a function that turns on tracing\n\nfunc (a *ARC) ActivateTracing() error {\n  return device.Command(ctx, \"shell\", \"echo 0 \u003e /sys/kernel/debug/tracing/tracing_on\").Run(testexec.DumpLogOnError);\n}",
      "range": {
        "startLine": 140,
        "startChar": 0,
        "endLine": 143,
        "endChar": 1
      },
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5145038_1d0b2189",
        "filename": "src/chromiumos/tast/local/arc/arc.go",
        "patchSetId": 13
      },
      "lineNbr": 143,
      "author": {
        "id": 1553967
      },
      "writtenOn": "2022-09-08T04:56:27Z",
      "side": 1,
      "message": "This function is made for the root access because I got an error saying permission denied without this function. Please tell me if there is a better way to deal with this issue. Thank you!",
      "parentUuid": "3dffb3b5_fddceb72",
      "range": {
        "startLine": 140,
        "startChar": 0,
        "endLine": 143,
        "endChar": 1
      },
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fcbb639e_35daffd8",
        "filename": "src/chromiumos/tast/local/arc/arc.go",
        "patchSetId": 13
      },
      "lineNbr": 143,
      "author": {
        "id": 1546145
      },
      "writtenOn": "2022-09-08T05:16:57Z",
      "side": 1,
      "message": "I\u0027m going to need more details.  Probably you didn\u0027t capitolize the function name? Thats how you make things public in Go",
      "parentUuid": "e5145038_1d0b2189",
      "range": {
        "startLine": 140,
        "startChar": 0,
        "endLine": 143,
        "endChar": 1
      },
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d8be0a9_3210b15e",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data/config.pbtxt",
        "patchSetId": 13
      },
      "lineNbr": 15,
      "author": {
        "id": 1546145
      },
      "writtenOn": "2022-09-06T02:53:16Z",
      "side": 1,
      "message": "is this going to be enough? If we\u0027re trying to detect jank we should be doing frame timeline and maybe gpu/cpu scheduling details, sys calls, etc.\n\neg (but not necessaryl exactly):\n\n```\nbuffers: {\n    size_kb: 63488\n    fill_policy: DISCARD\n}\nbuffers: {\n    size_kb: 2048\n    fill_policy: DISCARD\n}\ndata_sources: {\n    config {\n        name: \"linux.process_stats\"\n        target_buffer: 1\n        process_stats_config {\n            scan_all_processes_on_start: true\n        }\n    }\n}\ndata_sources: {\n    config {\n        name: \"android.surfaceflinger.frametimeline\"\n    }\n}\ndata_sources: {\n    config {\n        name: \"linux.ftrace\"\n        ftrace_config {\n            ftrace_events: \"sched/sched_switch\"\n            ftrace_events: \"power/suspend_resume\"\n            ftrace_events: \"sched/sched_wakeup\"\n            ftrace_events: \"sched/sched_wakeup_new\"\n            ftrace_events: \"sched/sched_waking\"\n            ftrace_events: \"power/cpu_frequency\"\n            ftrace_events: \"power/cpu_idle\"\n            ftrace_events: \"raw_syscalls/sys_enter\"\n            ftrace_events: \"raw_syscalls/sys_exit\"\n            ftrace_events: \"sched/sched_process_exit\"\n            ftrace_events: \"sched/sched_process_free\"\n            ftrace_events: \"task/task_newtask\"\n            ftrace_events: \"task/task_rename\"\n        }\n    }\n}\nduration_ms: 10000\n```",
      "range": {
        "startLine": 2,
        "startChar": 0,
        "endLine": 15,
        "endChar": 5
      },
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "63b60ed5_39f504c4",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/data/config.pbtxt",
        "patchSetId": 13
      },
      "lineNbr": 15,
      "author": {
        "id": 1553967
      },
      "writtenOn": "2022-09-08T04:56:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2d8be0a9_3210b15e",
      "range": {
        "startLine": 2,
        "startChar": 0,
        "endLine": 15,
        "endChar": 5
      },
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17d542e3_c97ec8f9",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 23,
      "author": {
        "id": 1510928
      },
      "writtenOn": "2022-09-06T08:28:04Z",
      "side": 1,
      "message": "Get confirmed from Shao-Chuan, we can remove this line, leave a comment here mention that we don\u0027t run the test since currently no ARC T devices running tast test.",
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e1574bc0_b14841c2",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 23,
      "author": {
        "id": 1553967
      },
      "writtenOn": "2022-09-08T04:56:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17d542e3_c97ec8f9",
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ff084ab_bef7252c",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 27,
      "author": {
        "id": 1510928
      },
      "writtenOn": "2022-09-06T08:28:04Z",
      "side": 1,
      "message": "30 Minutes seems too long, what about 5 min?",
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "840a0cd8_75e5aad3",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 27,
      "author": {
        "id": 1553967
      },
      "writtenOn": "2022-09-08T04:56:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ff084ab_bef7252c",
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee730f10_4ee3355b",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 27,
      "author": {
        "id": 1546145
      },
      "writtenOn": "2022-09-08T05:16:57Z",
      "side": 1,
      "message": "I think this is way too long, the command for perfetto is only 15 seconds (as of right now).",
      "parentUuid": "840a0cd8_75e5aad3",
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a33217ad_5be01e62",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 27,
      "author": {
        "id": 1510928
      },
      "writtenOn": "2022-09-08T05:50:42Z",
      "side": 1,
      "message": "It contains the time for prepare test. 5 min for overall timeout should be fine. Let\u0027s leave it to tast-owner review.",
      "parentUuid": "ee730f10_4ee3355b",
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5aa38c48_11a1fbe4",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 78,
      "author": {
        "id": 1546145
      },
      "writtenOn": "2022-09-06T02:53:16Z",
      "side": 1,
      "message": "Don\u0027t we need to wait until the trace/activity is complete to pull the trace?",
      "range": {
        "startLine": 78,
        "startChar": 0,
        "endLine": 78,
        "endChar": 2
      },
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec2bdf6e_84653944",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 78,
      "author": {
        "id": 1553967
      },
      "writtenOn": "2022-09-08T04:56:27Z",
      "side": 1,
      "message": "Thanks! ElementLayoutActivity does not seem to end, so trace is pulled while the activity is still going on. Is there a better way to deal with this?",
      "parentUuid": "5aa38c48_11a1fbe4",
      "range": {
        "startLine": 78,
        "startChar": 0,
        "endLine": 78,
        "endChar": 2
      },
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d876a215_29d848b9",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 78,
      "author": {
        "id": 1546145
      },
      "writtenOn": "2022-09-08T05:16:57Z",
      "side": 1,
      "message": "The activity shouldn\u0027t end, but our perfetto trace only lasts 15 seconds based on the configuration, so the perfetto process should die after that. \n\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/common/testexec/testexec.go;rcl\u003d59e30b7f166d421549f45202ec71e4756014daff;l\u003d235",
      "parentUuid": "ec2bdf6e_84653944",
      "range": {
        "startLine": 78,
        "startChar": 0,
        "endLine": 78,
        "endChar": 2
      },
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb4d97b5_031983f6",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 78,
      "author": {
        "id": 1510928
      },
      "writtenOn": "2022-09-08T05:50:42Z",
      "side": 1,
      "message": "I think we need use \"testing.Sleep(ctx, 30 * time.Seconds)\" here, or use Poll and ps check if perfetto still running.",
      "parentUuid": "d876a215_29d848b9",
      "range": {
        "startLine": 78,
        "startChar": 0,
        "endLine": 78,
        "endChar": 2
      },
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58fdfd62_fd8bf2cd",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 84,
      "author": {
        "id": 1546145
      },
      "writtenOn": "2022-09-06T02:53:16Z",
      "side": 1,
      "message": "Shouldn\u0027t the test analyze the trace and fail under some conditions?",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 84,
        "endChar": 1
      },
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5157fd0_fcd55c82",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/window_animation_jank.go",
        "patchSetId": 13
      },
      "lineNbr": 84,
      "author": {
        "id": 1510928
      },
      "writtenOn": "2022-09-08T05:50:42Z",
      "side": 1,
      "message": "Discussed offline, we need add a TODO(b/xxx) here for follow up analyze and metrics output.",
      "parentUuid": "58fdfd62_fd8bf2cd",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 84,
        "endChar": 1
      },
      "revId": "ffbdaeb0c15e84f4d5655bdf1bac32adad546f7d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}