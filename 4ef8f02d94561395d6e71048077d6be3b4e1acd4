{
  "comments": [
    {
      "key": {
        "uuid": "773d3b39_12f7e75e",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cache/cache.go",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2020-05-07T02:25:52Z",
      "side": 1,
      "message": "platform2/arc/scripts/android-sh-vm does \n\nowner_id\u003d\"$(dbus-send \\\n  --system \\\n  --dest\u003dorg.chromium.SessionManager \\\n  --print-reply \\\n  --type\u003dmethod_call \\\n  /org/chromium/SessionManager \\\n  org.chromium.SessionManagerInterface.RetrievePrimarySession \\\n  | awk \u0027NR\u003d\u003d3\u0027 \\\n  | cut -d \"\\\"\" -f2)\"\n\nto get the USER_HASH. Does this end up sending the same D-Bus message?",
      "revId": "4ef8f02d94561395d6e71048077d6be3b4e1acd4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aeeec448_c2255c90",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cache/cache.go",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1256179
      },
      "writtenOn": "2020-05-07T07:15:24Z",
      "side": 1,
      "message": "No, for this test we don\u0027t need to run a such command to get owner_id\nbecause we know the user is \"testuser@gmail.com\".\nWe just pass chrome.DefaultUser (testuser@gmail.com) to the hash function.",
      "parentUuid": "773d3b39_12f7e75e",
      "revId": "4ef8f02d94561395d6e71048077d6be3b4e1acd4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8adeb75d_1b5dba6e",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cache/cache.go",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2020-05-07T16:04:20Z",
      "side": 1,
      "message": "ok sg",
      "parentUuid": "aeeec448_c2255c90",
      "revId": "4ef8f02d94561395d6e71048077d6be3b4e1acd4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b42cee9c_eabff255",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cache/cache.go",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-05-07T17:58:04Z",
      "side": 1,
      "message": "This is not \"testuser@\". This is lib and user is passed to particular test.\nConsumers of this at least:\ntast.CacheValidation\ntast.DataCollector",
      "parentUuid": "8adeb75d_1b5dba6e",
      "revId": "4ef8f02d94561395d6e71048077d6be3b4e1acd4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ab679db_6bc86ff7",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cache/cache.go",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1256179
      },
      "writtenOn": "2020-05-08T03:54:59Z",
      "side": 1,
      "message": "For arc.DataCollector, while the initial part of the test (UreadaheadPack part) is correctly done by the account specified by UreadaheadService_username, it seems that the last part of the test (GmsCoreCache part) is always done by testuser@gmail.com [1]\n(So my current code for calculating hash from testuser@gmail.com works.)\n\nMaybe it is not an intended behavior?\n\n\n[1]\narc.DataCollector log : https://paste.googleplex.com/5670584769839104?raw\n\n2020/05/08 12:41:20 [12:41:20.049] Logging in as user \"testuser@gmail.com\"\n2020/05/08 12:41:20 [12:41:20.231] Waiting for cryptohome for user \"testuser@gmail.com\" with timeout 30s\n2020/05/08 12:41:27 [12:41:27.698] Waiting for OOBE to be dismissed\n2020/05/08 12:41:29 [12:41:29.117] Waiting for Android boot\n...\n2020/05/08 12:41:47 [12:41:47.244] Compressing GMS Core caches to \"/tmp/gms_core_caches925266357/gms_core_cache.tar\"",
      "parentUuid": "b42cee9c_eabff255",
      "revId": "4ef8f02d94561395d6e71048077d6be3b4e1acd4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb3f86bc_2666a740",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cache/cache.go",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-05-08T15:45:42Z",
      "side": 1,
      "message": "yes, you are right. OpenSession L94 uses default account. However this might be changed. Could you please at least add comment at L94 where Chrome is started that it is expected default test account? Ideally we should avoid using pre-generated hashes and I would go with Yusuke\u0027s suggestion above.\nLeaving this up to you.",
      "parentUuid": "1ab679db_6bc86ff7",
      "revId": "4ef8f02d94561395d6e71048077d6be3b4e1acd4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "478856af_12b87f43",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cache/cache.go",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1256179
      },
      "writtenOn": "2020-05-09T03:00:22Z",
      "side": 1,
      "message": "ok, added comments to L94 and here.\nLeaving this (chrome.DefaultUser) as is for now.",
      "parentUuid": "eb3f86bc_2666a740",
      "revId": "4ef8f02d94561395d6e71048077d6be3b4e1acd4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b368be8f_5c4b914a",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cache/cache.go",
        "patchSetId": 4
      },
      "lineNbr": 160,
      "author": {
        "id": 1256179
      },
      "writtenOn": "2020-04-29T11:09:31Z",
      "side": 1,
      "message": "@khmel\n\nIf you don\u0027t care much about stat results for symbolic link files (app_chimera/m/0000000?/*.apk ), we can remove this entire block.",
      "range": {
        "startLine": 160,
        "startChar": 1,
        "endLine": 160,
        "endChar": 25
      },
      "revId": "4ef8f02d94561395d6e71048077d6be3b4e1acd4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb653ae4_21e6ca26",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cache/cache.go",
        "patchSetId": 4
      },
      "lineNbr": 160,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-05-07T17:58:04Z",
      "side": 1,
      "message": "links are essential for GMS Core data",
      "parentUuid": "b368be8f_5c4b914a",
      "range": {
        "startLine": 160,
        "startChar": 1,
        "endLine": 160,
        "endChar": 25
      },
      "revId": "4ef8f02d94561395d6e71048077d6be3b4e1acd4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec8eebda_62215393",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cache/cache.go",
        "patchSetId": 4
      },
      "lineNbr": 160,
      "author": {
        "id": 1256179
      },
      "writtenOn": "2020-05-08T03:54:59Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bb653ae4_21e6ca26",
      "range": {
        "startLine": 160,
        "startChar": 1,
        "endLine": 160,
        "endChar": 25
      },
      "revId": "4ef8f02d94561395d6e71048077d6be3b4e1acd4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}