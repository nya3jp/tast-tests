{
  "comments": [
    {
      "key": {
        "uuid": "4019d739_14862093",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 24,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-07-27T21:36:44Z",
      "side": 1,
      "message": "This variable name is quite ambiguous. Can you please give it a name that more specifically describes its meaning?",
      "range": {
        "startLine": 24,
        "startChar": 1,
        "endLine": 24,
        "endChar": 9
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c9869cd_22cc5632",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 24,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-07-27T22:23:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4019d739_14862093",
      "range": {
        "startLine": 24,
        "startChar": 1,
        "endLine": 24,
        "endChar": 9
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c3a7c27_5fb437a7",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 51,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-07-27T21:36:44Z",
      "side": 1,
      "message": "Would it be possible to set this up as a SoftwareDep? (Or HardwareDep, as the case may be?) That would allow you to skip the test rather than failing it.",
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93ad7b94_34c60b11",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 51,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-07-27T22:23:57Z",
      "side": 1,
      "message": "In the meantime, there is no hw deps for WiFi chips. PTAL at this bug:\nhttps://bugs.chromium.org/p/chromium/issues/detail?id\u003d1070299",
      "parentUuid": "0c3a7c27_5fb437a7",
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "632864e4_8c04e1ba",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 51,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-07-27T23:06:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "93ad7b94_34c60b11",
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8cc0e1f1_70c8e3df",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 59,
      "author": {
        "id": 1305461
      },
      "writtenOn": "2020-07-27T20:11:12Z",
      "side": 1,
      "message": "The mock consent / real consent split only exists to help us debug issues with metrics consent. For this test, it\u0027s probably not relevant. Feel free to remove the \"real_consent\" variant of the test and just use mock_consent unconditionally.",
      "range": {
        "startLine": 55,
        "startChar": 1,
        "endLine": 59,
        "endChar": 2
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0aa42d6a_f7eade8d",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 59,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-07-27T21:33:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8cc0e1f1_70c8e3df",
      "range": {
        "startLine": 55,
        "startChar": 1,
        "endLine": 59,
        "endChar": 2
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63241759_2ece7c34",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 69,
      "author": {
        "id": 1305461
      },
      "writtenOn": "2020-07-27T20:11:12Z",
      "side": 1,
      "message": "This isn\u0027t actually necessary and the relevant parameter will soon be deleted; for now feel free to just pass \"nil\" instead to WaitForCrashFiles",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 69,
        "endChar": 0
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1ef169a_e54ca422",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 69,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-07-27T21:33:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "63241759_2ece7c34",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 69,
        "endChar": 0
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d92f6d51_1ee9aede",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 80,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-07-27T21:36:44Z",
      "side": 1,
      "message": "Consider setting this const up at the top with the other paths/regexes.",
      "range": {
        "startLine": 80,
        "startChar": 27,
        "endLine": 80,
        "endChar": 47
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61bc1493_f12e1f68",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 80,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-07-27T21:36:44Z",
      "side": 1,
      "message": "Why is this called \"pat\"?",
      "range": {
        "startLine": 80,
        "startChar": 1,
        "endLine": 80,
        "endChar": 4
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bcb6009e_407a99d0",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 80,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-07-27T22:23:57Z",
      "side": 1,
      "message": "I changed it to pciNameRegexp.",
      "parentUuid": "61bc1493_f12e1f68",
      "range": {
        "startLine": 80,
        "startChar": 1,
        "endLine": 80,
        "endChar": 4
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e8f57f02_d8d959d5",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 80,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-07-27T22:23:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d92f6d51_1ee9aede",
      "range": {
        "startLine": 80,
        "startChar": 27,
        "endLine": 80,
        "endChar": 47
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "46830523_e2e0cfc7",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 85,
      "author": {
        "id": 1305461
      },
      "writtenOn": "2020-07-27T20:11:12Z",
      "side": 1,
      "message": "I don\u0027t think this error message is accurate; this stage isn\u0027t inducing the error, right?",
      "range": {
        "startLine": 85,
        "startChar": 21,
        "endLine": 85,
        "endChar": 48
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8ca46d2_de4175fc",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 85,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-07-27T21:33:24Z",
      "side": 1,
      "message": "Thanks for catching this. I changed the error message.",
      "parentUuid": "46830523_e2e0cfc7",
      "range": {
        "startLine": 85,
        "startChar": 21,
        "endLine": 85,
        "endChar": 48
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5095ec95_66e79ff8",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 94,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-07-27T21:36:44Z",
      "side": 1,
      "message": "Consider setting each of these three strings up at the top of the file below baseName.",
      "range": {
        "startLine": 94,
        "startChar": 29,
        "endLine": 94,
        "endChar": 50
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08768eaa_26ed416c",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 94,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-07-27T22:23:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5095ec95_66e79ff8",
      "range": {
        "startLine": 94,
        "startChar": 29,
        "endLine": 94,
        "endChar": 50
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "043b9dea_4bd51737",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 97,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-07-27T21:36:44Z",
      "side": 1,
      "message": "Do you need to run any verification on these files, or is it sufficient to see that WaitForCrashFiles returns?",
      "range": {
        "startLine": 97,
        "startChar": 1,
        "endLine": 97,
        "endChar": 6
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "466fefa0_29c130a2",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 97,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-07-27T22:23:57Z",
      "side": 1,
      "message": "The WaitForCrashFiles would return an error if any of the regexps was not match, so no further verification is needed.",
      "parentUuid": "043b9dea_4bd51737",
      "range": {
        "startLine": 97,
        "startChar": 1,
        "endLine": 97,
        "endChar": 6
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "211ffd05_3622a109",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 97,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-07-27T23:06:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "466fefa0_29c130a2",
      "range": {
        "startLine": 97,
        "startChar": 1,
        "endLine": 97,
        "endChar": 6
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bc310b7_84b56ab9",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 102,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-07-27T21:36:44Z",
      "side": 1,
      "message": "Is there any chance that we\u0027ll need to remove these files, but fail fatally at L99? If so, then we should defer this cleanup step earlier, to ensure that it actually runs.",
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb9c914c_6a2d9e4c",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 102,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-07-27T22:23:57Z",
      "side": 1,
      "message": "If one of the regexp didn\u0027t match a file, then the test would fail without removing the other files. \n\nI added a check/delete for the files in the case of failure. Otherwise, I can change:\ns.Fatal(\"Couldn\u0027t find expected files: \", err)\nto\ns.Error(\"Couldn\u0027t find expected files: \", err)\n\nWDYT?",
      "parentUuid": "7bc310b7_84b56ab9",
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d406e36_02961c66",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 102,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-07-27T23:06:37Z",
      "side": 1,
      "message": "Gotcha. I think it would be cleaner to defer RemoveAllFiles outside the error block. This removes duplicated code, allows you to insert other Fatals later without breaking anything, and avoids having nested scopes of \"err\".\n\nGenerally speaking, it is good practice to defer cleanup immediately after the creation of whatever needs cleaning.\n\n    files, err :\u003d crash.WaitForCrashFile(ctx, []string{crash.SystemCrashDir}, nil, expectedRegexes)\n    defer func() {\n        if err :\u003d crash.RemoveAllFiles(ctx, files); err !\u003d nil {\n            s.Error(\"Couldn\u0027t clean up files: \", err)\n        }\n    }()\n    if err !\u003d nil {\n        s.Fatal(\"Couldn\u0027t find expected files: \", err)",
      "parentUuid": "fb9c914c_6a2d9e4c",
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3b7dfc5_cf271cae",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 103,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-07-27T21:36:44Z",
      "side": 1,
      "message": "Might want to make this an Error so that we don\u0027t ignore it later down the line.",
      "range": {
        "startLine": 103,
        "startChar": 4,
        "endLine": 103,
        "endChar": 7
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "440f0f4a_cc43ce71",
        "filename": "src/chromiumos/tast/local/bundles/cros/crash/kernel_iwlwifi_error.go",
        "patchSetId": 6
      },
      "lineNbr": 103,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-07-27T22:23:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c3b7dfc5_cf271cae",
      "range": {
        "startLine": 103,
        "startChar": 4,
        "endLine": 103,
        "endChar": 7
      },
      "revId": "3a463fd40444af527dacdd39d7d5429b5599a00a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}