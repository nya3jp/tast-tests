{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "57d3062b_adae65b3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-09-27T02:40:50Z",
      "side": 1,
      "message": "Remove a space here.",
      "range": {
        "startLine": 9,
        "startChar": 25,
        "endLine": 9,
        "endChar": 26
      },
      "revId": "a5b965cb82658cf3ef2d9f1e084ef61fe2447254",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ebdf390f_1383b668",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1446889
      },
      "writtenOn": "2021-09-29T04:25:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "57d3062b_adae65b3",
      "range": {
        "startLine": 9,
        "startChar": 25,
        "endLine": 9,
        "endChar": 26
      },
      "revId": "a5b965cb82658cf3ef2d9f1e084ef61fe2447254",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7bef8fd9_b41ac869",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-09-27T02:40:50Z",
      "side": 1,
      "message": "Should we use pdcontrol to simulate it? Can we use \"udevadm trigger -s usb -c ${action}\" to simulate it?",
      "range": {
        "startLine": 97,
        "startChar": 40,
        "endLine": 97,
        "endChar": 61
      },
      "revId": "a5b965cb82658cf3ef2d9f1e084ef61fe2447254",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "665b1140_d51a800e",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1446889
      },
      "writtenOn": "2021-09-28T09:19:07Z",
      "side": 1,
      "message": "Hi Yang,\n\nI have referred below patch and automated this test cases.\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/2923969\n\nI tried the udevadm trigger -s usb -c ${action} this solution too but tbt plug/unplug is not happening.\n\nused below commands. Please correct me if i am doing wrong.\nudevadm trigger -s usb -c add\nudevadm trigger -s usb -c remove\n\nThanks",
      "parentUuid": "7bef8fd9_b41ac869",
      "range": {
        "startLine": 97,
        "startChar": 40,
        "endLine": 97,
        "endChar": 61
      },
      "revId": "a5b965cb82658cf3ef2d9f1e084ef61fe2447254",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2b13bf5_85c96595",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-09-28T09:21:25Z",
      "side": 1,
      "message": "oh, err, it\u0027s an example. I think you need change the subsystem \"usb\" to others, maybe \"thunderbolt\" I guess?",
      "parentUuid": "665b1140_d51a800e",
      "range": {
        "startLine": 97,
        "startChar": 40,
        "endLine": 97,
        "endChar": 61
      },
      "revId": "a5b965cb82658cf3ef2d9f1e084ef61fe2447254",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65a5eb34_be439f41",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1446889
      },
      "writtenOn": "2021-09-28T09:27:47Z",
      "side": 1,
      "message": "used the below commands but no luck.\nudevadm trigger -s thunderbolt -c add\nudevadm trigger -s thunderbolt -c remove",
      "parentUuid": "e2b13bf5_85c96595",
      "range": {
        "startLine": 97,
        "startChar": 40,
        "endLine": 97,
        "endChar": 61
      },
      "revId": "a5b965cb82658cf3ef2d9f1e084ef61fe2447254",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "feb351e7_3d372758",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-09-29T01:16:34Z",
      "side": 1,
      "message": "hmmm, interesting. I\u0027m also fine with other command if it can simulate the event. But I\u0027m not sure if this command is acceptable in tast lab. This needs tast owner to approve.",
      "parentUuid": "65a5eb34_be439f41",
      "range": {
        "startLine": 97,
        "startChar": 40,
        "endLine": 97,
        "endChar": 61
      },
      "revId": "a5b965cb82658cf3ef2d9f1e084ef61fe2447254",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9be2efa9_16bfc171",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1413373
      },
      "writtenOn": "2021-09-29T05:35:51Z",
      "side": 1,
      "message": "I\u0027d suggest that if you are going to be doing it, ensure directly after this if block, you include a defer to the resume function. i.e. \n```\nif err :\u003d testexec.CommandContext(ctx, \"ectool\", \"pdcontrol\", \"suspend\", portStr).Run(); err !\u003d nil {\n\ts.Fatal(\"Failed to simulate unplug: \", err)\n}\ndefer func() {\n\tif err :\u003d testexec.CommandContext(ctxForCleanUp, \"ectool\", \"pdcontrol\", \"resume\", portStr).Run(); err !\u003d nil {\n\t\ts.Fatal(\"Failed to simulate replug: \", err)\n\t}\n}()\n```\nI\u0027m also assuming here that the resume function is idempotent and subsequent calls won\u0027t do funky stuff (seems to be the case [1])\n\n[1] https://source.chromium.org/chromiumos/_/chromium/chromiumos/platform/tast-tests/+/4570fa9e29a39fec4c2c99bcc693c2aa2fc8090c:src/chromiumos/tast/local/bundles/cros/typec/mode_hotplug.go;l\u003d108-115;drc\u003d15ea3ce239fe1c39d712a2f4246b8a75523154b1",
      "parentUuid": "feb351e7_3d372758",
      "range": {
        "startLine": 97,
        "startChar": 40,
        "endLine": 97,
        "endChar": 61
      },
      "revId": "a5b965cb82658cf3ef2d9f1e084ef61fe2447254",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d8527794_5c99a816",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1413373
      },
      "writtenOn": "2021-10-05T22:43:58Z",
      "side": 1,
      "message": "Thanks for implementing!",
      "parentUuid": "9be2efa9_16bfc171",
      "range": {
        "startLine": 97,
        "startChar": 40,
        "endLine": 97,
        "endChar": 61
      },
      "revId": "a5b965cb82658cf3ef2d9f1e084ef61fe2447254",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}