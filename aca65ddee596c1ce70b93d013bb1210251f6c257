{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e66174d4_49799cb5",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_glide_typing.go",
        "patchSetId": 7
      },
      "lineNbr": 126,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-11-19T02:03:32Z",
      "side": 1,
      "message": "There are too many levels of indents here, could you extract this func to a variable and use the variable here? like:\n\nglideTypingUserAction :\u003d ...\n\nuiauto.Combine(\n    ...\n    glideTypingUserAction.Run,\n)",
      "range": {
        "startLine": 126,
        "startChar": 3,
        "endLine": 126,
        "endChar": 36
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8574fe23_4e8eca8b",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_glide_typing.go",
        "patchSetId": 7
      },
      "lineNbr": 126,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-11-19T02:17:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e66174d4_49799cb5",
      "range": {
        "startLine": 126,
        "startChar": 3,
        "endLine": 126,
        "endChar": 36
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1812d554_23710dcb",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_glide_typing.go",
        "patchSetId": 7
      },
      "lineNbr": 126,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-11-19T04:01:24Z",
      "side": 1,
      "message": "This is not revised,",
      "parentUuid": "8574fe23_4e8eca8b",
      "range": {
        "startLine": 126,
        "startChar": 3,
        "endLine": 126,
        "endChar": 36
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9f544a1_b01d5880",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_glide_typing.go",
        "patchSetId": 7
      },
      "lineNbr": 126,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-11-19T04:28:07Z",
      "side": 1,
      "message": "sorry, I misunderstood it. How is it now?",
      "parentUuid": "1812d554_23710dcb",
      "range": {
        "startLine": 126,
        "startChar": 3,
        "endLine": 126,
        "endChar": 36
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48b4d439_aa44daf1",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/virtual_keyboard_glide_typing.go",
        "patchSetId": 7
      },
      "lineNbr": 126,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-11-19T04:33:23Z",
      "side": 1,
      "message": "LG, thanks",
      "parentUuid": "b9f544a1_b01d5880",
      "range": {
        "startLine": 126,
        "startChar": 3,
        "endLine": 126,
        "endChar": 36
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf92431a_1be42d49",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/imesettings/user_actions.go",
        "patchSetId": 7
      },
      "lineNbr": 16,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-11-19T02:03:32Z",
      "side": 1,
      "message": "a",
      "range": {
        "startLine": 16,
        "startChar": 26,
        "endLine": 16,
        "endChar": 28
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5263677_62899404",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/imesettings/user_actions.go",
        "patchSetId": 7
      },
      "lineNbr": 16,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-11-19T02:17:49Z",
      "side": 1,
      "message": "? It is not a grammar error.",
      "parentUuid": "bf92431a_1be42d49",
      "range": {
        "startLine": 16,
        "startChar": 26,
        "endLine": 16,
        "endChar": 28
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a366343c_8bb2d5a6",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/imesettings/user_actions.go",
        "patchSetId": 7
      },
      "lineNbr": 16,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-11-19T02:33:41Z",
      "side": 1,
      "message": "\"a user\" instead of \"an user\"",
      "parentUuid": "b5263677_62899404",
      "range": {
        "startLine": 16,
        "startChar": 26,
        "endLine": 16,
        "endChar": 28
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "06bb1e92_9831670c",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/imesettings/user_actions.go",
        "patchSetId": 7
      },
      "lineNbr": 16,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-11-19T03:29:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a366343c_8bb2d5a6",
      "range": {
        "startLine": 16,
        "startChar": 26,
        "endLine": 16,
        "endChar": 28
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91789199_674d2aea",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/vkb/vkb.go",
        "patchSetId": 7
      },
      "lineNbr": 624,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-11-19T02:03:32Z",
      "side": 1,
      "message": "a user action",
      "range": {
        "startLine": 624,
        "startChar": 23,
        "endLine": 624,
        "endChar": 32
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "03c1e374_9524cd0a",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/vkb/vkb.go",
        "patchSetId": 7
      },
      "lineNbr": 624,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-11-19T02:17:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91789199_674d2aea",
      "range": {
        "startLine": 624,
        "startChar": 23,
        "endLine": 624,
        "endChar": 32
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eab3c336_57b60d70",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/vkb/vkb.go",
        "patchSetId": 7
      },
      "lineNbr": 662,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-11-19T02:03:32Z",
      "side": 1,
      "message": "new line here",
      "range": {
        "startLine": 662,
        "startChar": 5,
        "endLine": 662,
        "endChar": 6
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "404121a1_e1496b39",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/vkb/vkb.go",
        "patchSetId": 7
      },
      "lineNbr": 662,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-11-19T02:17:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eab3c336_57b60d70",
      "range": {
        "startLine": 662,
        "startChar": 5,
        "endLine": 662,
        "endChar": 6
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc0f9693_d1e4250c",
        "filename": "src/chromiumos/tast/local/chrome/useractions/user_actions.go",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-11-19T02:03:32Z",
      "side": 1,
      "message": "why do you need validateResultFunc to be a separate field? An action may not need validation, also, even if it does, you always can add the validateAction to UserAction.action by uiauto.Combine",
      "range": {
        "startLine": 43,
        "startChar": 1,
        "endLine": 43,
        "endChar": 33
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57dd083a_0d33bde1",
        "filename": "src/chromiumos/tast/local/chrome/useractions/user_actions.go",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-11-19T02:17:49Z",
      "side": 1,
      "message": "Yes. That\u0027s exactly why I made the validation as optional of an user action.\n\nThe validation result needs to reflect the UserAction result, so it needs to be part of the user action definition. \n\nBasically each user action is expected to be self validated, but it can be ignored as well.",
      "parentUuid": "dc0f9693_d1e4250c",
      "range": {
        "startLine": 43,
        "startChar": 1,
        "endLine": 43,
        "endChar": 33
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fab1cea3_85fdfe97",
        "filename": "src/chromiumos/tast/local/chrome/useractions/user_actions.go",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-11-19T02:33:41Z",
      "side": 1,
      "message": "I think an action is validated by returning error\u003dnil. The validateResult might be commonly used in inputs testing, but not for all. \n\nI don\u0027t see a need of separating validation from the action itself as an optional field. That being said, if validation is part of a user action, it should always being included in UserAction.action",
      "parentUuid": "57dd083a_0d33bde1",
      "range": {
        "startLine": 43,
        "startChar": 1,
        "endLine": 43,
        "endChar": 33
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "029b73f2_c27b3d05",
        "filename": "src/chromiumos/tast/local/chrome/useractions/user_actions.go",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-11-19T02:59:09Z",
      "side": 1,
      "message": "It adds flexibility to user action. In different context, the result can be validated differently. \n\nFor example, you can see the current glidetyping UserAction is irrelevant of input field but purely operation on virtual keyboard. So this user action now works on ARC++ input field as well and the validation can related to input field or the context.",
      "parentUuid": "fab1cea3_85fdfe97",
      "range": {
        "startLine": 43,
        "startChar": 1,
        "endLine": 43,
        "endChar": 33
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "76c92cf2_7f8e076d",
        "filename": "src/chromiumos/tast/local/chrome/useractions/user_actions.go",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-11-19T03:08:03Z",
      "side": 1,
      "message": "In that case, maybe you can put the validation in ifSuccessFunc? It is also not clear to me what ifSuccessFunc means. Does it mean the action succeeds? or the validation succeeds?",
      "parentUuid": "029b73f2_c27b3d05",
      "range": {
        "startLine": 43,
        "startChar": 1,
        "endLine": 43,
        "endChar": 33
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d931d4d_5819fca4",
        "filename": "src/chromiumos/tast/local/chrome/useractions/user_actions.go",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-11-19T03:29:34Z",
      "side": 1,
      "message": "ifSuccessFunc \u0026 ifFailFunc \u0026 finalFunc only run after UserAction completed with a result.\n\nA good use case can be updating UserContext depending on the action result as below:\n\nfunc SwitchToInputMethodWithShortcut(uc *useractions.UserContext, kb *input.KeyboardEventWriter, im InputMethod) *useractions.UserAction {\n\treturn useractions.NewUserAction(\n\t\t\"Switch to input method with Ctrl+Shift+Space\",\n\t\tuiauto.Combine(\"switch to next input method and wait until it is activated\",\n\t\t\tkb.AccelAction(\"Ctrl+Shift+Space\"),\n\t\t\tim.WaitUntilActivated(uc.TestAPIConn()),\n\t\t),\n\t\tuc,\n\t\t\u0026useractions.UserActionCfg{\n\t\t\tActionTags: []useractions.ActionTag{useractions.ActionTagSwitchIME},\n\t\t\tIfSuccessFunc: func(ctx context.Context) error {\n\t\t\t\tuc.SetAttribute(useractions.AttributeInputMethod, im.Name)\n\t\t\t\treturn nil\n\t\t\t},\n\t\t})\n}",
      "parentUuid": "76c92cf2_7f8e076d",
      "range": {
        "startLine": 43,
        "startChar": 1,
        "endLine": 43,
        "endChar": 33
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab9c5924_838999ef",
        "filename": "src/chromiumos/tast/local/chrome/useractions/user_actions.go",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-11-19T04:01:24Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6d931d4d_5819fca4",
      "range": {
        "startLine": 43,
        "startChar": 1,
        "endLine": 43,
        "endChar": 33
      },
      "revId": "aca65ddee596c1ce70b93d013bb1210251f6c257",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}