{
  "comments": [
    {
      "key": {
        "uuid": "2f379569_c8976607",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 93,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "I don\u0027t think we need this function; we can call r.Read and inspect syslog.Entry as we get.",
      "range": {
        "startLine": 93,
        "startChar": 5,
        "endLine": 93,
        "endChar": 12
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "504bb8c2_bfae4b83",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 93,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "You can return string instead of *string. string is cheap to copy (it\u0027s a pointer).",
      "range": {
        "startLine": 93,
        "startChar": 32,
        "endLine": 93,
        "endChar": 39
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "177d3b41_e9bd3c0b",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 93,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2f379569_c8976607",
      "range": {
        "startLine": 93,
        "startChar": 5,
        "endLine": 93,
        "endChar": 12
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dea3eea1_7e3e2732",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 93,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "504bb8c2_bfae4b83",
      "range": {
        "startLine": 93,
        "startChar": 32,
        "endLine": 93,
        "endChar": 39
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbafcd35_6f047a51",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 102,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "This is a classic way to concatenate strings with O(n^2).\nhttps://stackoverflow.com/questions/1760757/how-to-efficiently-concatenate-strings",
      "range": {
        "startLine": 102,
        "startChar": 2,
        "endLine": 102,
        "endChar": 27
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "86b0a810_94c5fa41",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 102,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "cbafcd35_6f047a51",
      "range": {
        "startLine": 102,
        "startChar": 2,
        "endLine": 102,
        "endChar": 27
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4fc7f5d4_1423523a",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 106,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "expectPersist is always false, please remove.",
      "range": {
        "startLine": 106,
        "startChar": 69,
        "endLine": 106,
        "endChar": 82
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3c3192d_b646c28e",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 106,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Moved to the test main function as suggested.",
      "parentUuid": "4fc7f5d4_1423523a",
      "range": {
        "startLine": 106,
        "startChar": 69,
        "endLine": 106,
        "endChar": 82
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "746d5c49_fa6046dc",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 107,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "Specify syslog.Program to filter irrelevant syslogs.",
      "range": {
        "startLine": 107,
        "startChar": 29,
        "endLine": 107,
        "endChar": 34
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcd74266_5a1015c4",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 107,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "746d5c49_fa6046dc",
      "range": {
        "startLine": 107,
        "startChar": 29,
        "endLine": 107,
        "endChar": 34
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fdc99e87_9ce2e7cf",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 126,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "nit: crashDir is included in err returned from ioutil.ReadDir, so no need to include it here.",
      "range": {
        "startLine": 126,
        "startChar": 59,
        "endLine": 126,
        "endChar": 67
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3400c319_db8113d5",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 126,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fdc99e87_9ce2e7cf",
      "range": {
        "startLine": 126,
        "startChar": 59,
        "endLine": 126,
        "endChar": 67
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d32890a4_5e60810f",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 143,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "What\u0027s Newf?",
      "range": {
        "startLine": 143,
        "startChar": 17,
        "endLine": 143,
        "endChar": 21
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c4bafa1_bcdb9edc",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 143,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "It was nothing but a mistake.",
      "parentUuid": "d32890a4_5e60810f",
      "range": {
        "startLine": 143,
        "startChar": 17,
        "endLine": 143,
        "endChar": 21
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a4720db8_14de9678",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 155,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "coreFiles",
      "range": {
        "startLine": 155,
        "startChar": 3,
        "endLine": 155,
        "endChar": 11
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "924b637d_6036bdfb",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 155,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Changed to expect no files following the other change.",
      "parentUuid": "a4720db8_14de9678",
      "range": {
        "startLine": 155,
        "startChar": 3,
        "endLine": 155,
        "endChar": 11
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3464ec74_453362dd",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 169,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "Most of this function is setup/cleanup of /root, and actual check is in checkCoreFilePersisting. I would do in a reversed way, i.e. call setup/cleanup functions and do the actual checks within this function.\n\n func testCoreFileRemovedInProduction(...) {\n   if err :\u003d stashLeaveCore(ctx); err !\u003d nil { ... }\n   defer unstashLeaveCore(fullCtx)\n   // do actual checking here\n }",
      "range": {
        "startLine": 169,
        "startChar": 5,
        "endLine": 169,
        "endChar": 36
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cdbe06bc_556ed75a",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 169,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3464ec74_453362dd",
      "range": {
        "startLine": 169,
        "startChar": 5,
        "endLine": 169,
        "endChar": 36
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7816dd71_8ed28694",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 173,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "Can we remove -v option? It\u0027s noisy and actually not used anyway.",
      "range": {
        "startLine": 173,
        "startChar": 13,
        "endLine": 173,
        "endChar": 14
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f1eec96_60eae0a6",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 173,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7816dd71_8ed28694",
      "range": {
        "startLine": 173,
        "startChar": 13,
        "endLine": 173,
        "endChar": 14
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "520498dc_c67bca2d",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 181,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "Could you save some time so that the cleanup runs for sure?\n\n fullCtx :\u003d ctx\n ctx, cancel :\u003d ctxutil.Shorten(fullCtx, 10*time.Second)\n defer cancel()\n\n // use fullCtx for cleanup, ctx for everything else",
      "range": {
        "startLine": 181,
        "startChar": 12,
        "endLine": 181,
        "endChar": 40
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5410abb_4e52e7b5",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 181,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "520498dc_c67bca2d",
      "range": {
        "startLine": 181,
        "startChar": 12,
        "endLine": 181,
        "endChar": 40
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5dc44dc5_285e9278",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 185,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "Same here: remove -v",
      "range": {
        "startLine": 185,
        "startChar": 28,
        "endLine": 185,
        "endChar": 29
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a961190_5f7388f8",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 185,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5dc44dc5_285e9278",
      "range": {
        "startLine": 185,
        "startChar": 28,
        "endLine": 185,
        "endChar": 29
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f3259ad_af2ef9f2",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 189,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "Could you add a comment that /root/.leave_core always exist for test images?",
      "range": {
        "startLine": 189,
        "startChar": 11,
        "endLine": 189,
        "endChar": 34
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecd7aead_012ff86b",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 189,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9f3259ad_af2ef9f2",
      "range": {
        "startLine": 189,
        "startChar": 11,
        "endLine": 189,
        "endChar": 34
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "000729e4_4de2897e",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 193,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-07T03:37:37Z",
      "side": 1,
      "message": "This is very unlikely case, so I\u0027m not sure if we want to check it given that we already check the error of os.Remove. But if the error ever happens, I believe we don\u0027t want to proceed to actual checking.",
      "range": {
        "startLine": 193,
        "startChar": 4,
        "endLine": 193,
        "endChar": 9
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71692762_0ea0dde4",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/user_crash.go",
        "patchSetId": 10
      },
      "lineNbr": 193,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2020-01-08T12:53:49Z",
      "side": 1,
      "message": "I agree. Typical erros like not-found or permission-denied can be caught by the PathError.",
      "parentUuid": "000729e4_4de2897e",
      "range": {
        "startLine": 193,
        "startChar": 4,
        "endLine": 193,
        "endChar": 9
      },
      "revId": "3dcbf2e38e24a163ab3d9d46201ed168140484bb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}