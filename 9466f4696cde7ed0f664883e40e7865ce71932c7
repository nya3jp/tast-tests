{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3d8aa36b_4fac75d9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-08-04T02:20:39Z",
      "side": 1,
      "message": "Hello!\n\nHere is now ... finally.\n\nA bit odd is that in the end I need an explicit sleep waiting to make sure that the Lacros window gets closed between tests (see comment).\n\nAny ideas are welcome - and thanks for the review!\n\nStefan",
      "revId": "9466f4696cde7ed0f664883e40e7865ce71932c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "745c846e_d06470e9",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 3
      },
      "lineNbr": 325,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-08-04T02:20:39Z",
      "side": 1,
      "message": "This one here is odd. An explicit sleep fixes the thing - if not I see sometimes that there is a Lacros window still open and I get 2. However - it was said that an explicit wait via poll is required. I have seen this still failing once in a while.\n\nAny ideas are highly welcome!",
      "range": {
        "startLine": 316,
        "startChar": 0,
        "endLine": 325,
        "endChar": 1
      },
      "revId": "9466f4696cde7ed0f664883e40e7865ce71932c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6e3ff58_1718a21b",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 3
      },
      "lineNbr": 325,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-08-04T02:42:58Z",
      "side": 1,
      "message": "Actually - tried also to use \"defer lacrosBrowser.Close(...)\"\n\nwith the same result.\n\nThe problem: I get randomly 2 about:blank tabs when the test runs. The funny thing is that the second thing is YouTube - which none of my tests opens.\n\n2022-08-04T02:26:41.620192Z [02:26:41.469] 2 targets matched while unique match was expected. Existing matching targets:\n2022-08-04T02:26:41.620309Z [02:26:41.469]   \u0026{TargetID:B88054A1491F45F58115D3FC3A3EB3C8 Type:other Title:YouTube TV - Watch \u0026 DVR Live Sports, Shows \u0026 News URL:about:blank Attached:false OpenerID:\u003cnil\u003e CanAccessOpener:false OpenerFrameID:\u003cnil\u003e BrowserContextID:0xc000b0e130}\n2022-08-04T02:26:41.620376Z [02:26:41.469]   \u0026{TargetID:72E3AD150232967A22D93A259F72899C Type:page Title:about:blank URL:about:blank Attached:false OpenerID:\u003cnil\u003e CanAccessOpener:false OpenerFrameID:\u003cnil\u003e BrowserContextID:0xc000b0e140}",
      "parentUuid": "745c846e_d06470e9",
      "range": {
        "startLine": 316,
        "startChar": 0,
        "endLine": 325,
        "endChar": 1
      },
      "revId": "9466f4696cde7ed0f664883e40e7865ce71932c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1bad420c_a11d4c34",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 3
      },
      "lineNbr": 325,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-08-04T02:47:33Z",
      "side": 1,
      "message": "And again - adding here a sleep (even with the deferred close) works. Removing it does fail sometimes randomly.",
      "parentUuid": "e6e3ff58_1718a21b",
      "range": {
        "startLine": 316,
        "startChar": 0,
        "endLine": 325,
        "endChar": 1
      },
      "revId": "9466f4696cde7ed0f664883e40e7865ce71932c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "281bbbe2_8c7b3f35",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 3
      },
      "lineNbr": 325,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-08-04T05:46:56Z",
      "side": 1,
      "message": "Found it. It was the loading of settings which must have been running before the breaking test every time and which was loading other stuff as well. Removed that particular test and now it works.",
      "parentUuid": "1bad420c_a11d4c34",
      "range": {
        "startLine": 316,
        "startChar": 0,
        "endLine": 325,
        "endChar": 1
      },
      "revId": "9466f4696cde7ed0f664883e40e7865ce71932c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}