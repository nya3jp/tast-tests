{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "cb95ec19_58f9c116",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1477974
      },
      "writtenOn": "2022-03-24T11:01:26Z",
      "side": 1,
      "message": "Hello reviewers, \n\nSorry for the delay, the major change of latest PS is applying fixture: `driveFsStarted`, and therefore, some unnecessary UI operations were replaced with drive_api.\n\nPlease review, thanks.",
      "revId": "456700ff0aeda7e6001c746887c1b08d0f6f57fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "193daa8f_ee3e4657",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_web_and_drive.go",
        "patchSetId": 3
      },
      "lineNbr": 54,
      "author": {
        "id": 1413373
      },
      "writtenOn": "2022-03-30T03:55:13Z",
      "side": 1,
      "message": "FYI we are still experiencing issues with the driveFsStarted fixture RE tokens are getting revoked periodically. We\u0027re investigating a fix now but we can\u0027t guarantee that your tests will pass when they are running on `mainline`.\n\nIf this is still blocking you, I\u0027d suggest finding another alternative until we\u0027ve stabilized the drive api. Alternatively you could land this without running as mainline and follow up once the fixture has stabilized.",
      "range": {
        "startLine": 54,
        "startChar": 25,
        "endLine": 54,
        "endChar": 58
      },
      "revId": "456700ff0aeda7e6001c746887c1b08d0f6f57fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9cc4706d_d2e26786",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_web_and_drive.go",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 1000232
      },
      "writtenOn": "2022-03-29T21:05:43Z",
      "side": 1,
      "message": "Ideally, we;d have versions that cover the same use cases as for example https://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/launcher/search_built_in_apps.go;drc\u003d56d0f5dec83cdb4685295ad14dd4bf52c302c245;l\u003d34\n\nBut, I can also parameterize tests after they land.",
      "revId": "456700ff0aeda7e6001c746887c1b08d0f6f57fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e866e6cc_72210fea",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_web_and_drive.go",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 1413373
      },
      "writtenOn": "2022-03-30T03:55:13Z",
      "side": 1,
      "message": "Add a random string / int or something identifier to this file name. During any run you could have 100+ boards all running this test and are likely to have 2 accounts vying for the same file. This might lead to conflicts that are hard to track down.",
      "range": {
        "startLine": 71,
        "startChar": 17,
        "endLine": 71,
        "endChar": 60
      },
      "revId": "456700ff0aeda7e6001c746887c1b08d0f6f57fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "210fcbad_dce4081c",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_web_and_drive.go",
        "patchSetId": 3
      },
      "lineNbr": 113,
      "author": {
        "id": 1413373
      },
      "writtenOn": "2022-03-30T03:55:13Z",
      "side": 1,
      "message": "Typically you don\u0027t verify the result of `s.Run`. You simply kick off s.Run and treat each subtest as if it was it\u0027s own. If any of the subtests fail, the overall verdict will be failure, implicitly what you are doing here. So instead do:\n```\ns.Run(ctx, search.searchKeyWord, func(ctx context.Context, s *testing.State) {\n  if err :\u003d waitForSearchResult(ctx, tconn, kb, \u0026search); err !\u003d nil {\n    s.Fatal(\"Failed to search by launcher: \", err)\n  }\n}\n```\nThis has the same effect (with less code) as what you are doing.",
      "range": {
        "startLine": 106,
        "startChar": 2,
        "endLine": 113,
        "endChar": 2
      },
      "revId": "456700ff0aeda7e6001c746887c1b08d0f6f57fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0cc02c61_df388fb5",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_web_and_drive.go",
        "patchSetId": 3
      },
      "lineNbr": 131,
      "author": {
        "id": 1413373
      },
      "writtenOn": "2022-03-30T03:55:13Z",
      "side": 1,
      "message": "I\u0027ve mentioned it above, but let\u0027s get rid of this function.",
      "range": {
        "startLine": 116,
        "startChar": 0,
        "endLine": 131,
        "endChar": 0
      },
      "revId": "456700ff0aeda7e6001c746887c1b08d0f6f57fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}