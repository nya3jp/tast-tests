{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "286ba4b6_f429669c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-06-07T11:22:50Z",
      "side": 1,
      "message": "Made the entering ns code more robust and tested with the follow-up patches. PTAL, thanks!",
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dbeba5bf_97b72e5f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1238096
      },
      "writtenOn": "2022-06-07T13:40:41Z",
      "side": 1,
      "message": "This still appears correct to me, but we are getting to a level of nested defer funcs which might be a bit tricky for maintenance.",
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ae26c52_d4dd8ff2",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/virtualnet/env/env.go",
        "patchSetId": 3
      },
      "lineNbr": 183,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2022-06-08T21:09:09Z",
      "side": 1,
      "message": "For my understanding, why don\u0027t we have a single IPv6Addr like we do for IPv4Addr?",
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "43d89233_c536d4b5",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/virtualnet/env/env.go",
        "patchSetId": 3
      },
      "lineNbr": 183,
      "author": {
        "id": 1238096
      },
      "writtenOn": "2022-06-08T21:30:53Z",
      "side": 1,
      "message": "This is in the specs, a single interface will have at least a link local address. Then the interface can have as many global addresses as necessary. Typically we have 2 + the link local.",
      "parentUuid": "2ae26c52_d4dd8ff2",
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "349638b6_0080c2af",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/virtualnet/env/env.go",
        "patchSetId": 3
      },
      "lineNbr": 199,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2022-06-08T21:09:09Z",
      "side": 1,
      "message": "For my understanding, is it better if the caller caches the results because changing the netns (and changing it back) is a slow operation?",
      "range": {
        "startLine": 198,
        "startChar": 24,
        "endLine": 199,
        "endChar": 67
      },
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c64a84a6_fc7fd302",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/virtualnet/env/env.go",
        "patchSetId": 3
      },
      "lineNbr": 211,
      "author": {
        "id": 1238096
      },
      "writtenOn": "2022-06-07T13:40:41Z",
      "side": 1,
      "message": "Couldn\u0027t we move this directly to the cleanup function ? Here we would always want to any other cleanup in this defer block regardless of the outcome of cleanup() right ? (probably before going back to the original NS even).",
      "range": {
        "startLine": 209,
        "startChar": 1,
        "endLine": 211,
        "endChar": 3
      },
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "567a078e_5e33d557",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/virtualnet/env/env.go",
        "patchSetId": 3
      },
      "lineNbr": 211,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-06-08T01:59:49Z",
      "side": 1,
      "message": "\u003e Here we would always want to any other cleanup in this defer block regardless of the outcome of cleanup() right ?\nYes, this defer func does not block other defer funcs, and this one will be executed at last since it\u0027s the first defer.\n\nBut there is another problem with this code, if we failed to return to the original netns, the following execution may fail and thus we should treat this as an error.",
      "parentUuid": "c64a84a6_fc7fd302",
      "range": {
        "startLine": 209,
        "startChar": 1,
        "endLine": 211,
        "endChar": 3
      },
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9e10654b_7603e201",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/virtualnet/env/env.go",
        "patchSetId": 3
      },
      "lineNbr": 211,
      "author": {
        "id": 1238096
      },
      "writtenOn": "2022-06-08T21:30:53Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "567a078e_5e33d557",
      "range": {
        "startLine": 209,
        "startChar": 1,
        "endLine": 211,
        "endChar": 3
      },
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71e40c40_cfcfe158",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/virtualnet/env/env.go",
        "patchSetId": 3
      },
      "lineNbr": 224,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2022-06-08T21:09:09Z",
      "side": 1,
      "message": "s/convert/converts",
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb871959_c0fbd8e6",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/virtualnet/env/env.go",
        "patchSetId": 3
      },
      "lineNbr": 233,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2022-06-08T21:09:09Z",
      "side": 1,
      "message": "Do we need to add an error check to ensure that ret.IPv4Addr is only written to once in the for loop?",
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c790e5dd_0f24dab6",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/virtualnet/env/env.go",
        "patchSetId": 3
      },
      "lineNbr": 314,
      "author": {
        "id": 1238096
      },
      "writtenOn": "2022-06-07T13:40:41Z",
      "side": 1,
      "message": "go back",
      "range": {
        "startLine": 314,
        "startChar": 38,
        "endLine": 314,
        "endChar": 42
      },
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4725620f_134b1a4a",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/virtualnet/env/env.go",
        "patchSetId": 3
      },
      "lineNbr": 314,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-06-08T01:59:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c790e5dd_0f24dab6",
      "range": {
        "startLine": 314,
        "startChar": 38,
        "endLine": 314,
        "endChar": 42
      },
      "revId": "4d98e2e50fca1a3289b8a3596a850e593b0d3365",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}