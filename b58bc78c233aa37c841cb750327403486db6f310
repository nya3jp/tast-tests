{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "40334a16_258c86e7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2021-03-10T23:25:30Z",
      "side": 1,
      "message": "Also ran nearbyshare.CrosToCros* since I changed the service. I\u0027ll update the commit message along with any comments",
      "range": {
        "startLine": 16,
        "startChar": 12,
        "endLine": 16,
        "endChar": 30
      },
      "revId": "b58bc78c233aa37c841cb750327403486db6f310",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa14c7a0_e21cda92",
        "filename": "src/chromiumos/tast/local/bundles/cros/nearbyshare/nearby_share_service.go",
        "patchSetId": 3
      },
      "lineNbr": 243,
      "author": {
        "id": 1118689
      },
      "writtenOn": "2021-03-11T00:58:01Z",
      "side": 1,
      "message": "Bit confused by this addition. I guess it is to make something in the online test work?\n\nWaitForSenderAndAcceptShare() is currently only called by the cb-\u003ecb high vis test.\nBut WaitForReceivingCompleteNotification() is used by phone-\u003ecb in-contact test\n\nHow does this affect the existing high vis test?",
      "range": {
        "startLine": 243,
        "startChar": 23,
        "endLine": 243,
        "endChar": 59
      },
      "revId": "b58bc78c233aa37c841cb750327403486db6f310",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3a79fbb_dced767e",
        "filename": "src/chromiumos/tast/local/bundles/cros/nearbyshare/nearby_share_service.go",
        "patchSetId": 3
      },
      "lineNbr": 243,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2021-03-11T01:34:05Z",
      "side": 1,
      "message": "The existing high-vis tests do not wait for the transfer to complete on either sender or receiver side. For small file tests, the share usually finishes within the short time where we poll the file hash comparison:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/remote/bundles/cros/nearbyshare/cros_to_cros_high_vis.go;l\u003d97\n\nIt doesn\u0027t work in the larger online file transfer here, since it takes longer than that.\n\nThe polling was taken from the Phone-\u003eCB test, where we have an indication on the Android side that the transfer is complete, but the file hasn\u0027t completely finished being written on the CrOS side:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/nearbyshare/phone_to_cros_high_vis.go\n\nIn that we knew by checking on the Android side that the transfer was finished. In CB-\u003eCB though we\u0027re not checking at all, and just kind of getting lucky that the small transfers finish within 5 seconds.",
      "parentUuid": "aa14c7a0_e21cda92",
      "range": {
        "startLine": 243,
        "startChar": 23,
        "endLine": 243,
        "endChar": 59
      },
      "revId": "b58bc78c233aa37c841cb750327403486db6f310",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd0b8cdc_bd764ad6",
        "filename": "src/chromiumos/tast/local/bundles/cros/nearbyshare/nearby_share_service.go",
        "patchSetId": 3
      },
      "lineNbr": 243,
      "author": {
        "id": 1118689
      },
      "writtenOn": "2021-03-11T19:54:34Z",
      "side": 1,
      "message": "Got it! Thanks for the explanation",
      "parentUuid": "a3a79fbb_dced767e",
      "range": {
        "startLine": 243,
        "startChar": 23,
        "endLine": 243,
        "endChar": 59
      },
      "revId": "b58bc78c233aa37c841cb750327403486db6f310",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}