{
  "comments": [
    {
      "key": {
        "uuid": "45fd1731_66a6bc0a",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-10-01T21:42:23Z",
      "side": 1,
      "message": "How about using \"Named return values\" instead of adding adding \"theURL\" for each return statement?",
      "range": {
        "startLine": 98,
        "startChar": 83,
        "endLine": 98,
        "endChar": 96
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d771dca_89cefc72",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2019-10-01T21:48:16Z",
      "side": 1,
      "message": "IIRC named return is not encouraged in go.\n\nhttps://github.com/golang/go/wiki/CodeReviewComments#named-result-parameters",
      "parentUuid": "45fd1731_66a6bc0a",
      "range": {
        "startLine": 98,
        "startChar": 83,
        "endLine": 98,
        "endChar": 96
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bcf4407b_de78fea2",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-10-02T16:03:48Z",
      "side": 1,
      "message": "Good to know. Thanks!",
      "parentUuid": "6d771dca_89cefc72",
      "range": {
        "startLine": 98,
        "startChar": 83,
        "endLine": 98,
        "endChar": 96
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5b89e734_f85ea8f0",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 267,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-10-02T00:15:20Z",
      "side": 1,
      "message": "Maybe in a separate CL: the function that checks if HW decoder/encoder is used is also used on other tests as well. Consider placing this in tast/local/media\n\nhttps://cs.corp.google.com/search/?q\u003dWasHWAccelUsed+file:%5Esrc/platform/tast-tests/src/chromiumos/tast/local/+package:%5Echromeos_public$\u0026type\u003dcs\n\nAnd we can discard the flaky histogram.WasHWAccelUsed().",
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69fc834b_88c38d76",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 281,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-10-01T21:42:23Z",
      "side": 1,
      "message": "How about using for-of statement to iterate listOfItems?\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\nhttps://google.github.io/styleguide/jsguide.html#features-for-loops\n\nEven without for-of, \u0027let\u0027 should be added for declaration of \u0027i\u0027.",
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "038e0b24_81c9d4f1",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 281,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2019-10-03T14:54:05Z",
      "side": 1,
      "message": "Ah I thought I had tried that and saw that the element was not iterable,\nbut now it works, fo taken in, thanks!",
      "parentUuid": "69fc834b_88c38d76",
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "179634cb_b24395c1",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 289,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-10-02T00:15:20Z",
      "side": 1,
      "message": "open the log for the player item.",
      "range": {
        "startLine": 289,
        "startChar": 27,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "acf9876a_75cef496",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 289,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2019-10-03T14:54:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "179634cb_b24395c1",
      "range": {
        "startLine": 289,
        "startChar": 27,
        "endLine": 289,
        "endChar": 45
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "261ad856_d28d055c",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 296,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-10-02T00:15:20Z",
      "side": 1,
      "message": "chrome://media-internals",
      "range": {
        "startLine": 296,
        "startChar": 52,
        "endLine": 296,
        "endChar": 74
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8c96e96_bd5e6fba",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 296,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2019-10-03T14:54:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "261ad856_d28d055c",
      "range": {
        "startLine": 296,
        "startChar": 52,
        "endLine": 296,
        "endChar": 74
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eb5d4f1d_08a10179",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 299,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-10-02T00:15:20Z",
      "side": 1,
      "message": "Just curious, are there any difference getting \"is_platform_video_decoder\" from player properties table and from log table?",
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d039dfc_f39616ce",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 299,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2019-10-03T14:54:05Z",
      "side": 1,
      "message": "Should be the same value.",
      "parentUuid": "eb5d4f1d_08a10179",
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a4dd925_70ef4c9c",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 315,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-10-01T21:42:23Z",
      "side": 1,
      "message": "Could you have this JS code in a separate file in /bundles/cros/video/data/?\nThen, it\u0027d be easier to maintain the code.\n\nWe already have some JS files under /bundles/cros/camera/data/ for the same reason.",
      "range": {
        "startLine": 269,
        "startChar": 46,
        "endLine": 315,
        "endChar": 3
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9bb2dfbc_d3833db7",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 315,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-10-02T16:03:48Z",
      "side": 1,
      "message": "A Tast owner is supportive of having a separate JS file.\ncf. https://groups.google.com/a/chromium.org/d/msg/tast-users/EgY-2I9PBes/qpxDl-HNCgAJ",
      "parentUuid": "3a4dd925_70ef4c9c",
      "range": {
        "startLine": 269,
        "startChar": 46,
        "endLine": 315,
        "endChar": 3
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd89449f_e1fbe6c2",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 315,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2019-10-03T14:54:05Z",
      "side": 1,
      "message": "Hmm I tried taking a look at extracting this, and is not evident:\nmost of the html+js pairs I found basically bundle functionality \nwith exposing controls to the go (or autotest in the past) logic;\nin this case, we want to connect to chrome:media-internals and \nthen run a JS. I\u0027m not sure how/if I can do that from here, unless\nI\u0027d just have a .js that I would load as a string to the run in\nthe EvalPromise in l.318. Would that be better/enough?",
      "parentUuid": "9bb2dfbc_d3833db7",
      "range": {
        "startLine": 269,
        "startChar": 46,
        "endLine": 315,
        "endChar": 3
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "73be2db7_6cecca6d",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 315,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-10-03T16:16:27Z",
      "side": 1,
      "message": "Having an isolated JS file is easier to read/review/maintain.\nPlease see the example CL:\n1. Placing the js file in data/ and add filename in Data: field of test config:\nhttps://crrev.com/c/1573298/16/src/chromiumos/tast/local/bundles/cros/video/webrtc_encode_accel_used_vp8.go\n2. Read the file as string:\nhttps://crrev.com/c/1573298/16/src/chromiumos/tast/local/bundles/cros/video/webrtc_decode_perf.go#31\n3. Injects the JS string after page load:\nhttps://crrev.com/c/1573298/16/src/chromiumos/tast/local/bundles/cros/video/webrtc/webrtc_decode_perf.go#31",
      "parentUuid": "dd89449f_e1fbe6c2",
      "range": {
        "startLine": 269,
        "startChar": 46,
        "endLine": 315,
        "endChar": 3
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e63efd0_5eed7d2c",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 315,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-10-03T20:18:32Z",
      "side": 1,
      "message": "\u003e I would load as a string to the run in the EvalPromise in l.318\n\nSGTM. camera.CCAAPI does the same thing.\nhttps://cs.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/camera/cca_api.go?rcl\u003db35cc6794514694aa50f292b4e309d1386831c42\u0026l\u003d60",
      "parentUuid": "73be2db7_6cecca6d",
      "range": {
        "startLine": 269,
        "startChar": 46,
        "endLine": 315,
        "endChar": 3
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52693d82_4255f3d5",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 315,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2019-10-03T20:44:14Z",
      "side": 1,
      "message": "Thanks folks, the pointers were helpful and I managed to splinter the JS\noff, please see PS4.",
      "parentUuid": "6e63efd0_5eed7d2c",
      "range": {
        "startLine": 269,
        "startChar": 46,
        "endLine": 315,
        "endChar": 3
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "adb932c6_66396459",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/play/play.go",
        "patchSetId": 2
      },
      "lineNbr": 316,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-10-02T00:15:20Z",
      "side": 1,
      "message": "We may consider wrapping the above JS code into a function so that the caller only needs to pass an argument.",
      "range": {
        "startLine": 316,
        "startChar": 2,
        "endLine": 316,
        "endChar": 24
      },
      "revId": "ba64dddb555779f64daf3173c3bfa79d4f8d8617",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}