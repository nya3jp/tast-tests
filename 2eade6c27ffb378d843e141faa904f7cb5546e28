{
  "comments": [
    {
      "key": {
        "uuid": "137518ac_da0ce2b2",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 206,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2019-11-05T18:52:36Z",
      "side": 1,
      "message": "nit, optional: \nwhile inside a Poll, and you get an unexpected value, you might want to return testing.PollBreak()\n\nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#contexts-and-timeouts",
      "range": {
        "startLine": 206,
        "startChar": 3,
        "endLine": 206,
        "endChar": 21
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cff3a797_8430b5d2",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 206,
      "author": {
        "id": 1370589
      },
      "writtenOn": "2019-11-06T06:57:21Z",
      "side": 1,
      "message": "Done. Thanks.",
      "parentUuid": "137518ac_da0ce2b2",
      "range": {
        "startLine": 206,
        "startChar": 3,
        "endLine": 206,
        "endChar": 21
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "994cec6c_c1c0437d",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 209,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2019-11-05T18:52:36Z",
      "side": 1,
      "message": "nit, optional: ditto above",
      "range": {
        "startLine": 209,
        "startChar": 3,
        "endLine": 209,
        "endChar": 13
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8952099_67f842ee",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 209,
      "author": {
        "id": 1370589
      },
      "writtenOn": "2019-11-06T06:57:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "994cec6c_c1c0437d",
      "range": {
        "startLine": 209,
        "startChar": 3,
        "endLine": 209,
        "endChar": 13
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9e04a4db_e4d8bc29",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 252,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2019-11-05T18:52:36Z",
      "side": 1,
      "message": "huge nit: ARC",
      "range": {
        "startLine": 252,
        "startChar": 4,
        "endLine": 252,
        "endChar": 7
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f31c08c7_329c56f4",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 252,
      "author": {
        "id": 1370589
      },
      "writtenOn": "2019-11-06T06:57:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9e04a4db_e4d8bc29",
      "range": {
        "startLine": 252,
        "startChar": 4,
        "endLine": 252,
        "endChar": 7
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b022d95d_9e9e4d7a",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 254,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2019-11-05T18:52:36Z",
      "side": 1,
      "message": "thanks for the clarification. what about something like this? (minor improvement)\n\n// Resizing from the inner hit-boxes is handled by the Companion Library, and not Chrome.\n// In order for Companion Library to recognize the touch events, and sleep is needed to ... (... add needed info...)",
      "range": {
        "startLine": 254,
        "startChar": 4,
        "endLine": 254,
        "endChar": 136
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5862c087_7ece210e",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 254,
      "author": {
        "id": 1370589
      },
      "writtenOn": "2019-11-06T06:57:21Z",
      "side": 1,
      "message": "I\u0027m going to move this comment to test-function level comment.",
      "parentUuid": "b022d95d_9e9e4d7a",
      "range": {
        "startLine": 254,
        "startChar": 4,
        "endLine": 254,
        "endChar": 136
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c95350c5_3465228c",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 286,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2019-11-05T18:52:36Z",
      "side": 1,
      "message": "is it possible to replace this sleep with something else? perhaps \"ui.WaitForIdle() ?\"",
      "range": {
        "startLine": 284,
        "startChar": 2,
        "endLine": 286,
        "endChar": 3
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0118a525_2dce3bb4",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 286,
      "author": {
        "id": 1370589
      },
      "writtenOn": "2019-11-06T06:57:21Z",
      "side": 1,
      "message": "This is the problem that there isn\u0027t any internal-state can indicate the resize finish. So this sleep is waiting for the resize finished, it really need a long time.\n\nAnd the above sleep is waiting for hit-boxes ready and the swipe component click the inner hit-boxes. The sleep on above can be replaced by ui.WaitForResume() but this line\u0027s sleep cannot because I tried some Waitxxx functions and all of them didn\u0027t actually work.",
      "parentUuid": "c95350c5_3465228c",
      "range": {
        "startLine": 284,
        "startChar": 2,
        "endLine": 286,
        "endChar": 3
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b71f0902_fcd47941",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 286,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2019-11-06T18:32:39Z",
      "side": 1,
      "message": "thanks. (I was referring to arc/ui.WaitForIdle() and not act.WaitForResumed(), but if that works, fine for me).\nhttp://cs/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/arc/ui/device.go?l\u003d238\n\nI\u0027m somewhat uneasy with \"sleeps\" in the code since they tend to be flaky. 5 seconds might work for some devices, but might fail on others.\n\nWhat about a \"Poll\" that verifies that the window\u0027s bounds has the expected bounds?",
      "parentUuid": "0118a525_2dce3bb4",
      "range": {
        "startLine": 284,
        "startChar": 2,
        "endLine": 286,
        "endChar": 3
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bba596de_add12f05",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 286,
      "author": {
        "id": 1370589
      },
      "writtenOn": "2019-11-07T00:46:47Z",
      "side": 1,
      "message": "I see, thank you for your advice. This position is a little tricky because the window\u0027s bounds changing is quickly, but the UI will re-render after swipe finish. That means this \"wait\" is waiting \"inner hit-box\" resize to correct position...\n\nFurther, I mentioned that there is a function called WaitForWindowUpdate(). Dose it satisfy this situation?",
      "parentUuid": "b71f0902_fcd47941",
      "range": {
        "startLine": 284,
        "startChar": 2,
        "endLine": 286,
        "endChar": 3
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63633683_dd503d1e",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 286,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2019-11-07T17:12:05Z",
      "side": 1,
      "message": "WaitForWindowUpdate() might work. I think you have to use it in a Poll.\nIf it returns true, you have to keep calling it.\nIf it returns false, no updates were received... and you can assume that the resize stopped, I guess (?). I\u0027m not sure whether CompanionLibrary, while doing the resize, sends onConfigurationChange events... if so, this might work.",
      "parentUuid": "bba596de_add12f05",
      "range": {
        "startLine": 284,
        "startChar": 2,
        "endLine": 286,
        "endChar": 3
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca0d183f_3248a072",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 286,
      "author": {
        "id": 1370589
      },
      "writtenOn": "2019-11-08T03:39:49Z",
      "side": 1,
      "message": "Thanks for your explanation. It work. Done.",
      "parentUuid": "63633683_dd503d1e",
      "range": {
        "startLine": 284,
        "startChar": 2,
        "endLine": 286,
        "endChar": 3
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33f49a06_7cd04e34",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 566,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2019-11-05T18:52:36Z",
      "side": 1,
      "message": "(sorry missed it in the first pass): could you add comment to this func (and the rest ones)?",
      "range": {
        "startLine": 566,
        "startChar": 0,
        "endLine": 566,
        "endChar": 20
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c76b33a3_d8506f0b",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/companion_library.go",
        "patchSetId": 4
      },
      "lineNbr": 566,
      "author": {
        "id": 1370589
      },
      "writtenOn": "2019-11-06T06:57:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "33f49a06_7cd04e34",
      "range": {
        "startLine": 566,
        "startChar": 0,
        "endLine": 566,
        "endChar": 20
      },
      "revId": "2eade6c27ffb378d843e141faa904f7cb5546e28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}