{
  "comments": [
    {
      "key": {
        "uuid": "f10f8b7e_2fda14ed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1223189
      },
      "writtenOn": "2020-08-31T17:26:05Z",
      "side": 1,
      "message": "BTW, the executable file name will be longer then before with this change, do we have any hard limitation for it somewhere ?\n\n",
      "revId": "173d0e28fd4b44d84ae6cccfa505dfca69bc2343",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a124d37_3af8c3d1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1305461
      },
      "writtenOn": "2020-08-31T19:16:08Z",
      "side": 1,
      "message": "Yes, we do have limits. The kernel limits to 128 characters; per man(5) core[0]:\n\nThe maximum size of the resulting core filename is 128 bytes\n\nI believe that applies both to core filenames as well as piping to programs.\n\n[0] https://man7.org/linux/man-pages/man5/core.5.html",
      "parentUuid": "f10f8b7e_2fda14ed",
      "revId": "173d0e28fd4b44d84ae6cccfa505dfca69bc2343",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25c918ee_51621657",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1223189
      },
      "writtenOn": "2020-09-02T20:18:02Z",
      "side": 1,
      "message": "I checked kernel code and also do a testing, there is no such limitation for expanded core name. I create a file with 250 chars with file name and it crashed, crash reporter correctly handled it and I don\u0027t see any filename truncating. It seems kernel will just dynamically expand to a longer name.\n\nMy main question is: do we have any thing in infra side to expect that this string has a length limitation?  As far as I know, the limitation for filename is 255 bytes. So it could be 240 bytes longer than before.",
      "parentUuid": "6a124d37_3af8c3d1",
      "revId": "173d0e28fd4b44d84ae6cccfa505dfca69bc2343",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d1c0eab9_46ff01fa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1305461
      },
      "writtenOn": "2020-09-02T21:02:47Z",
      "side": 1,
      "message": "Really? that\u0027s strange -- i\u0027ve definitely seen truncation. I had to abandon https://crrev.com/c/1621745/ because the kernel was truncating after expansion. (I later edited documentation to clarify that it truncates after expansion: https://crrev.com/c/1628019)\n\nthe kernel documentation (https://osscs.corp.google.com/chromiumos/chromiumos/codesearch/+/master:src/third_party/kernel/v5.4/fs/coredump.c;l\u003d192?q\u003df:kernel%2Fv5.4%2F%20core_pattern\u0026ss\u003dchromiumos) states that the expansion buffer is limited to CORENAME_MAX_SIZE--aka 128 bytes",
      "parentUuid": "25c918ee_51621657",
      "revId": "173d0e28fd4b44d84ae6cccfa505dfca69bc2343",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e909bd82_90a438b8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1305461
      },
      "writtenOn": "2020-09-02T21:03:09Z",
      "side": 1,
      "message": "Otherwise there isn\u0027t any truncation as far as I\u0027m aware",
      "parentUuid": "d1c0eab9_46ff01fa",
      "revId": "173d0e28fd4b44d84ae6cccfa505dfca69bc2343",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac960142_cd0a7b73",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1223189
      },
      "writtenOn": "2020-09-02T21:25:42Z",
      "side": 1,
      "message": "It\u0027s expended here:\n\nhttps://osscs.corp.google.com/chromiumos/chromiumos/codesearch/+/master:src/third_party/kernel/v5.4/fs/coredump.c;l\u003d75?q\u003df:kernel%2Fv5.4%2F%20core_pattern\u0026ss\u003dchromiumos\n\nBTW, that comments just say \"which must have space for at least\n * CORENAME_MAX_SIZE bytes\", so it doesn\u0027t sound like a threshold\nfor truncating. It\u0027s just saying that string should have at least CORENAME_MAX_SIZE space.\n\nBTW, the core_pattern still have the 128 bytes limitation.",
      "parentUuid": "e909bd82_90a438b8",
      "revId": "173d0e28fd4b44d84ae6cccfa505dfca69bc2343",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c3846e1_65dd5e6a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1305461
      },
      "writtenOn": "2020-09-02T21:39:11Z",
      "side": 1,
      "message": "Weird. I wonder why I ran into trouble before. Can you update the comment along with the pattern?",
      "parentUuid": "ac960142_cd0a7b73",
      "revId": "173d0e28fd4b44d84ae6cccfa505dfca69bc2343",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6fd91a6_58312ac8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1223189
      },
      "writtenOn": "2020-09-02T21:42:36Z",
      "side": 1,
      "message": "Do you have a broken test or some instruction for me to reproduce the trouble so\nI can understand what\u0027s happening? Just want to make sure I don\u0027t miss anything",
      "parentUuid": "9c3846e1_65dd5e6a",
      "revId": "173d0e28fd4b44d84ae6cccfa505dfca69bc2343",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}