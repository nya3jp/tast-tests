{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "81341ff1_9903ceeb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1404997
      },
      "writtenOn": "2022-06-20T06:14:32Z",
      "side": 1,
      "message": "also add the fixture to other n_to_m tests in the directory (vault_copmpat and login)",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c5a988b5_719fcbb9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2022-06-20T06:56:59Z",
      "side": 1,
      "message": "LGTM % nits + question",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ac7f4181_2fb404b7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1529818
      },
      "writtenOn": "2022-06-20T07:31:31Z",
      "side": 1,
      "message": "Thank you so much for creating the fixture! :) I left have a few comments",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab48327c_d68aa22d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T08:51:49Z",
      "side": 1,
      "message": "These tests have multiple software dependencies, and I cannot run these tests on my setup. So I will leave it to the test authors to change the tests.",
      "parentUuid": "81341ff1_9903ceeb",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08557ee1_8348d60e",
        "filename": "src/chromiumos/tast/common/fixture/autoupdate.go",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2022-06-20T06:56:59Z",
      "side": 1,
      "message": "nit: which version?",
      "range": {
        "startLine": 9,
        "startChar": 74,
        "endLine": 9,
        "endChar": 89
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea009439_3edfa8f3",
        "filename": "src/chromiumos/tast/remote/bundles/cros/autoupdate/basic_n_to_m.go",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2022-06-20T06:56:59Z",
      "side": 1,
      "message": "nit: add a group here as a contact.",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "676eeed9_7411ece5",
        "filename": "src/chromiumos/tast/remote/bundles/cros/autoupdate/basic_n_to_m.go",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T13:29:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ea009439_3edfa8f3",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "968dc11d_f1feacfb",
        "filename": "src/chromiumos/tast/remote/bundles/cros/autoupdate/enterprise_rollback_previous_version.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1529818
      },
      "writtenOn": "2022-06-20T07:31:31Z",
      "side": 1,
      "message": "just wondering if it would make sense to get the lsbContent information from the fixture instead, so it is available to all this kind of tests, WDYT?",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 81,
        "endChar": 2
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "121f5679_9f2db1ac",
        "filename": "src/chromiumos/tast/remote/bundles/cros/autoupdate/enterprise_rollback_previous_version.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T08:51:49Z",
      "side": 1,
      "message": "I was thinking about it as well. But as the content can change (e.g. relese channel), and it is hard to decide when to invalidate the cached values, I decided against it.",
      "parentUuid": "968dc11d_f1feacfb",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 81,
        "endChar": 2
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73585f8f_230b1040",
        "filename": "src/chromiumos/tast/remote/bundles/cros/autoupdate/enterprise_rollback_previous_version.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1529818
      },
      "writtenOn": "2022-06-20T10:25:15Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "121f5679_9f2db1ac",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 81,
        "endChar": 2
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2d25636_c41a74f6",
        "filename": "src/chromiumos/tast/remote/bundles/cros/autoupdate/enterprise_rollback_previous_version.go",
        "patchSetId": 2
      },
      "lineNbr": 158,
      "author": {
        "id": 1529818
      },
      "writtenOn": "2022-06-20T07:31:31Z",
      "side": 1,
      "message": "As this is now covered by the fixture, maybe we should remove it from the test to avoid having duplicated code with similar functionality?",
      "range": {
        "startLine": 131,
        "startChar": 2,
        "endLine": 158,
        "endChar": 3
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20c67a9d_8c023fe4",
        "filename": "src/chromiumos/tast/remote/bundles/cros/autoupdate/enterprise_rollback_previous_version.go",
        "patchSetId": 2
      },
      "lineNbr": 158,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T08:51:49Z",
      "side": 1,
      "message": "I leave this decision to you whether you want to rely on only the fixture for version restoration.\nIf you decide to do so, you can delete this part from the test in a follow up CL.",
      "parentUuid": "c2d25636_c41a74f6",
      "range": {
        "startLine": 131,
        "startChar": 2,
        "endLine": 158,
        "endChar": 3
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56ecc0c8_442eecb7",
        "filename": "src/chromiumos/tast/remote/bundles/cros/autoupdate/enterprise_rollback_previous_version.go",
        "patchSetId": 2
      },
      "lineNbr": 158,
      "author": {
        "id": 1404997
      },
      "writtenOn": "2022-06-20T09:14:54Z",
      "side": 1,
      "message": "I would say we should not - at least for vault compat roll forward is the exact part we want to test and rollback is just a \"setup\" for the test",
      "parentUuid": "20c67a9d_8c023fe4",
      "range": {
        "startLine": 131,
        "startChar": 2,
        "endLine": 158,
        "endChar": 3
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42389b10_1580bd38",
        "filename": "src/chromiumos/tast/remote/bundles/cros/autoupdate/enterprise_rollback_previous_version.go",
        "patchSetId": 2
      },
      "lineNbr": 158,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T09:55:00Z",
      "side": 1,
      "message": "If the only reason is to avoid code duplication, we can create a helper funcion that does a rollback, waits for reboot, and returns with the new image version (which can be checked from the test).",
      "parentUuid": "56ecc0c8_442eecb7",
      "range": {
        "startLine": 131,
        "startChar": 2,
        "endLine": 158,
        "endChar": 3
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5b11eda_ffda1746",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2022-06-20T06:56:59Z",
      "side": 1,
      "message": "nit: which version?",
      "range": {
        "startLine": 20,
        "startChar": 90,
        "endLine": 20,
        "endChar": 105
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03314f4a_56fd13f3",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T08:51:49Z",
      "side": 1,
      "message": "Do you have a suggestion for a short description?\nI only have longer descriptions on what happens exactly.",
      "parentUuid": "a5b11eda_ffda1746",
      "range": {
        "startLine": 20,
        "startChar": 90,
        "endLine": 20,
        "endChar": 105
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a38afc91_c0feee42",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1529818
      },
      "writtenOn": "2022-06-20T07:31:31Z",
      "side": 1,
      "message": "maybe use the if initializer instead?",
      "range": {
        "startLine": 56,
        "startChar": 1,
        "endLine": 56,
        "endChar": 14
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f62bfb6e_9bb09c5a",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T13:29:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a38afc91_c0feee42",
      "range": {
        "startLine": 56,
        "startChar": 1,
        "endLine": 56,
        "endChar": 14
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6128293_c2710b90",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2022-06-20T06:56:59Z",
      "side": 1,
      "message": "nit: remove line",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae37cdbc_bc717171",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T13:29:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e6128293_c2710b90",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "790200e5_3a170980",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1529818
      },
      "writtenOn": "2022-06-20T07:31:31Z",
      "side": 1,
      "message": "maybe it would be more easy to read by checking if the version is the original one instead, to leave in that case and then continue with the rest of the code, logging the reason why we need to continue.\n\nAlso, please do not add the \"else if\" after the err fatal condition, as by the guidelines, the rest of the \"normal code\" after a condition then ends in a terminal condition should not be indented (see go/go-style/decisions#indent-error-flow)\n\n```\nif version \u003d\u003d au.originalVersion {\n    s.Log(\"No change in the OS image version after the test\")\n    return // There is no need to restore the image version.\n}\ns.Logf(\"Image version was not restored to %s after the test, it remained %s\", au.originalVersion, version)\n```",
      "range": {
        "startLine": 94,
        "startChar": 3,
        "endLine": 99,
        "endChar": 2
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5608f04_dc94215c",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T08:51:49Z",
      "side": 1,
      "message": "The guideline suggests against adding a lot of code with extra indentation. Here it is only one line.",
      "parentUuid": "790200e5_3a170980",
      "range": {
        "startLine": 94,
        "startChar": 3,
        "endLine": 99,
        "endChar": 2
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "afbfc9c4_be5012cb",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T13:29:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d5608f04_dc94215c",
      "range": {
        "startLine": 94,
        "startChar": 3,
        "endLine": 99,
        "endChar": 2
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4a216ba_7a07a8c7",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 102,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2022-06-20T06:56:59Z",
      "side": 1,
      "message": "nit: file a bug and link it from here.",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f7ced696_ccd45d06",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 102,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T13:29:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4a216ba_7a07a8c7",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eebe7cb7_117a6d22",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 1529818
      },
      "writtenOn": "2022-06-20T07:31:31Z",
      "side": 1,
      "message": "Same suggestion as above\n\n```\nif version \u003d\u003d au.originalVersion {\n    s.Log(\"The image restoration was successful\")\n    return\n}\ns.Logf(\"Image version was not restored to %s after the rollback, it is %s\", au.originalVersion, version)\n```",
      "range": {
        "startLine": 117,
        "startChar": 3,
        "endLine": 121,
        "endChar": 2
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1d0d5da1_15900236",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T13:29:29Z",
      "side": 1,
      "message": "I put it in an else branch, so it has access to `version`.",
      "parentUuid": "eebe7cb7_117a6d22",
      "range": {
        "startLine": 117,
        "startChar": 3,
        "endLine": 121,
        "endChar": 2
      },
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aeae65b8_f3ec6019",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 144,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2022-06-20T06:56:59Z",
      "side": 1,
      "message": "Does it make sense to check the version again and try to restore?",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f6fa6d96_963560d8",
        "filename": "src/chromiumos/tast/remote/updateutil/autoupdate_fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 144,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-06-20T13:29:29Z",
      "side": 1,
      "message": "I made a modification, and with this the TLS will do a forced provisioning if there is a version mismatch.",
      "parentUuid": "aeae65b8_f3ec6019",
      "revId": "fa9024ac179a62c370a6cb76deef0d88c99f7d4d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}