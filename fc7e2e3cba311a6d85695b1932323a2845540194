{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "abe5cacb_5483a85b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T01:50:16Z",
      "side": 1,
      "message": "I\u0027ll read left part later.",
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eaaf820e_9495c1e9",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T01:50:16Z",
      "side": 1,
      "message": "Please insert a black line between each struct definition.",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 38,
        "endChar": 1
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8bf981dd_78b15d14",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1537107
      },
      "writtenOn": "2022-04-20T03:37:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eaaf820e_9495c1e9",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 38,
        "endChar": 1
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69473484_0987e407",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T01:50:16Z",
      "side": 1,
      "message": "This is optional in mojo interface. Do we guarantee that it\u0027ll be filled with value (at least empty instead of null) for all models?",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 69,
        "endChar": 49
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7cc3432_f3f095d5",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1537107
      },
      "writtenOn": "2022-04-20T03:37:57Z",
      "side": 1,
      "message": "It seems like older kernel version (\u003c\u003d4.4) may miss both vulnerabilities and smt control.\n\nThe current tast will pass if given an empty vulnerability map (case when kernel doesn\u0027t support). Is there some way to mark the map optional?",
      "parentUuid": "69473484_0987e407",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 69,
        "endChar": 49
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aaf4c42d_d0ae81ec",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1240396
      },
      "writtenOn": "2022-04-20T04:25:58Z",
      "side": 1,
      "message": "Why you need to make map optional? cros_healthd always return a valid map even it is empty.",
      "parentUuid": "a7cc3432_f3f095d5",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 69,
        "endChar": 49
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e8f091c_45f7e5c4",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T08:14:18Z",
      "side": 1,
      "message": "The whole block is similar to \"SVM\", is it possible to create a function to reduce the code size?",
      "range": {
        "startLine": 133,
        "startChar": 2,
        "endLine": 133,
        "endChar": 50
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84ad8354_c3c01051",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1537107
      },
      "writtenOn": "2022-04-20T03:37:57Z",
      "side": 1,
      "message": "I feel like its a little hard to reduce it more, since vmx uses two separate flags for enabled, whereas svm only uses one. \n\nI\u0027ve changed it a little bit to reuse the final comparison check. I don\u0027t think the code can be reduced much more.",
      "parentUuid": "5e8f091c_45f7e5c4",
      "range": {
        "startLine": 133,
        "startChar": 2,
        "endLine": 133,
        "endChar": 50
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c537510_40ee16df",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1240396
      },
      "writtenOn": "2022-04-20T04:25:58Z",
      "side": 1,
      "message": "I think you should at least create a function for CPUVirtualization or it is too long for verifyPhysicalCPU",
      "parentUuid": "84ad8354_c3c01051",
      "range": {
        "startLine": 133,
        "startChar": 2,
        "endLine": 133,
        "endChar": 50
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f43ef62_8e66fef9",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 137,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T08:14:18Z",
      "side": 1,
      "message": "ditto.",
      "range": {
        "startLine": 137,
        "startChar": 3,
        "endLine": 137,
        "endChar": 20
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "06100bb7_6bc06571",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 137,
      "author": {
        "id": 1537107
      },
      "writtenOn": "2022-04-20T03:37:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3f43ef62_8e66fef9",
      "range": {
        "startLine": 137,
        "startChar": 3,
        "endLine": 137,
        "endChar": 20
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd021f5c_6546d885",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 142,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T08:14:18Z",
      "side": 1,
      "message": "Please add more parentheses. Otherwise I have to look up the priority order for `\u0026` and `\u003c\u003c`.",
      "range": {
        "startLine": 142,
        "startChar": 20,
        "endLine": 142,
        "endChar": 33
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "906bb4c9_bc2417f2",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 142,
      "author": {
        "id": 1537107
      },
      "writtenOn": "2022-04-20T03:37:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dd021f5c_6546d885",
      "range": {
        "startLine": 142,
        "startChar": 20,
        "endLine": 142,
        "endChar": 33
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57651c06_3bb2a1ed",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 156,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T08:14:18Z",
      "side": 1,
      "message": "Add a reference for this.",
      "range": {
        "startLine": 156,
        "startChar": 3,
        "endLine": 156,
        "endChar": 36
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8ce18560_90d75c87",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 156,
      "author": {
        "id": 1537107
      },
      "writtenOn": "2022-04-20T03:37:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "57651c06_3bb2a1ed",
      "range": {
        "startLine": 156,
        "startChar": 3,
        "endLine": 156,
        "endChar": 36
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23b9fa64_5a42859e",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 222,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T08:14:18Z",
      "side": 1,
      "message": "It can be nil according to [1], you may need to check if the device support this info or not first.\n\n[1]: https://chromium-review.googlesource.com/c/chromiumos/platform2/+/3552141/23/diagnostics/cros_health_tool/telem/telem.cc#648",
      "range": {
        "startLine": 222,
        "startChar": 28,
        "endLine": 222,
        "endChar": 42
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5e43ccf7_a4989aa5",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 222,
      "author": {
        "id": 1537107
      },
      "writtenOn": "2022-04-20T03:37:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "23b9fa64_5a42859e",
      "range": {
        "startLine": 222,
        "startChar": 28,
        "endLine": 222,
        "endChar": 42
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19cad3a3_f59751f5",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 222,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-20T04:53:09Z",
      "side": 1,
      "message": "We have to check this by other method, if it doesn\u0027t support, then make sure cros_healthd reports nil.\n\nOtherwise, if cros_healthd has bug and report nil, then you won\u0027t catch it.",
      "parentUuid": "5e43ccf7_a4989aa5",
      "range": {
        "startLine": 222,
        "startChar": 28,
        "endLine": 222,
        "endChar": 42
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "55878792_9ecaa39f",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 243,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T08:14:18Z",
      "side": 1,
      "message": "Maybe printing what we get in the log is better. Like:\n```\ngot %v, want: %v\n```",
      "range": {
        "startLine": 243,
        "startChar": 11,
        "endLine": 243,
        "endChar": 63
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "186582b5_5b72de7d",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 243,
      "author": {
        "id": 1537107
      },
      "writtenOn": "2022-04-20T03:37:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "55878792_9ecaa39f",
      "range": {
        "startLine": 243,
        "startChar": 11,
        "endLine": 243,
        "endChar": 63
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ab13bc1_8c359ade",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 262,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T08:14:18Z",
      "side": 1,
      "message": "Usually we use a `map` for mapping table. You can check other code for example.",
      "range": {
        "startLine": 255,
        "startChar": 1,
        "endLine": 262,
        "endChar": 2
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a188e19_747c5c12",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 262,
      "author": {
        "id": 1537107
      },
      "writtenOn": "2022-04-20T03:37:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3ab13bc1_8c359ade",
      "range": {
        "startLine": 255,
        "startChar": 1,
        "endLine": 262,
        "endChar": 2
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0eb4dfdc_365ddaef",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 271,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T08:14:18Z",
      "side": 1,
      "message": "I think this can be combined with the following part. Like:\n\n```\nif smtControlContent, err :\u003d ioutil.ReadFile(...); err !\u003d nil {\n    return error\n} else {\n    // Use map mapTmp.\n    if mapped_value, ok :\u003d mapTmp(smtControlContent); ok !\u003d nil {\n        return error\n    } else {\n        // check virtualization.SmtControl.\n    }\n}\n```",
      "range": {
        "startLine": 267,
        "startChar": 1,
        "endLine": 271,
        "endChar": 22
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e7e57728_9d8ba1b1",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 271,
      "author": {
        "id": 1537107
      },
      "writtenOn": "2022-04-20T03:37:57Z",
      "side": 1,
      "message": "I think this will violate the presubmit hook with the error:\n`if block ends with a return statement, so drop this else and outdent its block (move short variable declaration to its own line if necessary)`\n\nThe presubmit hook prefers this coding style:\n\n```\nsmtControlContent, err :\u003d ioutil.ReadFile(\"/sys/devices/system/cpu/smt/control\")\nif err !\u003d nil {\n\treturn error\n}\nmapstuff\n```",
      "parentUuid": "0eb4dfdc_365ddaef",
      "range": {
        "startLine": 267,
        "startChar": 1,
        "endLine": 271,
        "endChar": 22
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe4213d9_4d367548",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 285,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2022-04-19T08:14:18Z",
      "side": 1,
      "message": "Use `map` as well.",
      "range": {
        "startLine": 272,
        "startChar": 1,
        "endLine": 285,
        "endChar": 2
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a7b6d2d_f3eae8fb",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/probe_cpu_info.go",
        "patchSetId": 1
      },
      "lineNbr": 285,
      "author": {
        "id": 1537107
      },
      "writtenOn": "2022-04-20T03:37:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fe4213d9_4d367548",
      "range": {
        "startLine": 272,
        "startChar": 1,
        "endLine": 285,
        "endChar": 2
      },
      "revId": "fc7e2e3cba311a6d85695b1932323a2845540194",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}