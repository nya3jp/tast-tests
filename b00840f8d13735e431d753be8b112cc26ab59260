{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c16120ce_cda2e5ae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-04-16T09:27:10Z",
      "side": 1,
      "message": "According to the history, the flag is originated from crrev.com/c/1524612.\n\nhiroh@, do you know the background?",
      "revId": "b00840f8d13735e431d753be8b112cc26ab59260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9fc3a3f0_92060f98",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1196199
      },
      "writtenOn": "2021-04-19T03:26:56Z",
      "side": 1,
      "message": "The commit message described the reason. \nThe flag is required to play a video on a page automatically in opening the page.\nWithout the flag, since a play button is needed to push, no video plays in a tests.",
      "parentUuid": "c16120ce_cda2e5ae",
      "revId": "b00840f8d13735e431d753be8b112cc26ab59260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "63037da2_39668880",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-04-19T04:37:04Z",
      "side": 1,
      "message": "Thanks for confirmation. I think it makes sense to remove the flag from the default flag list since its behavior is different from the default behavior users see, but then we have to enable the flag for those video tests. Do you know which tests will be affected?",
      "parentUuid": "9fc3a3f0_92060f98",
      "revId": "b00840f8d13735e431d753be8b112cc26ab59260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d452741_7065ee42",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1196199
      },
      "writtenOn": "2021-04-19T05:15:19Z",
      "side": 1,
      "message": "I think tests that plays a video with a HTML5 video tag \u003cvideo\u003e will be affected, for example, video.Play and video.PlaybackPerf.",
      "parentUuid": "63037da2_39668880",
      "revId": "b00840f8d13735e431d753be8b112cc26ab59260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "220e04c8_04ebe085",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-04-21T01:06:08Z",
      "side": 1,
      "message": "Alexander, can you try these tests, and if they do not work, can you set the flag for those tests?",
      "parentUuid": "6d452741_7065ee42",
      "revId": "b00840f8d13735e431d753be8b112cc26ab59260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9000fd7a_991fbc00",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2021-04-21T15:59:40Z",
      "side": 1,
      "message": "The tests fail to download the external video files, for example gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4\n\nDo I need to configure something to enable the test to download these external files?",
      "parentUuid": "220e04c8_04ebe085",
      "revId": "b00840f8d13735e431d753be8b112cc26ab59260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "437d23b8_74d289e8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-04-22T08:55:57Z",
      "side": 1,
      "message": "Hmm? I believe it\u0027s public.\n\n % gsutil acl get gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4\n [\n  {\n    \"email\": \"hiroh@google.com\",\n    \"entity\": \"user-hiroh@google.com\",\n    \"role\": \"OWNER\"\n  },\n  {\n    \"entity\": \"allUsers\",\n    \"role\": \"READER\"\n  }\n ]\n\nWould you mind sharing the error message?",
      "parentUuid": "9000fd7a_991fbc00",
      "revId": "b00840f8d13735e431d753be8b112cc26ab59260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59629206_334b67e7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2021-04-22T12:00:26Z",
      "side": 1,
      "message": "Unfortunately it\u0027s quite generic. I get this error message:\n```\n2021-04-22T11:56:41.962645Z [13:56:41.363] Failed to download gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4: failed to stage on http://127.0.0.1:37949: got status 500: gsutil -m cp gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4 /tmp/tast/devserver/static/.download.328985206 failed: exit status 1\n2021-04-22T11:56:41.966637Z [13:56:41.364] Failed to download some external data files, but continuing anyway; corresponding tests will fail\n```\n\nAnd here the full log:\n```\n2021-04-22T11:56:20.949022Z Command line: tast --verbose run 127.0.0.1:12222 video.Play.av1\n2021-04-22T11:56:20.949069Z Using SSH key /home/alexanderhartl/trunk/chromite/ssh_keys/testing_rsa\n2021-04-22T11:56:20.949076Z Using SSH dir /home/alexanderhartl/.ssh\n2021-04-22T11:56:20.949081Z Writing results to /tmp/tast/results/20210422-115620\n2021-04-22T11:56:20.949423Z Connecting to 127.0.0.1:12222\n2021-04-22T11:56:20.949769Z Failed to connect to ssh-agent at /tmp/ssh-auth-sock: dial unix /tmp/ssh-auth-sock: connect: connection refused\n2021-04-22T11:56:21.850081Z Starting ephemeral devserver at http://127.0.0.1:39773 for remote tests\n2021-04-22T11:56:21.850143Z Getting architecture from target\n2021-04-22T11:56:21.976073Z Building local_test_runner, cros, remote_test_runner, cros\n2021-04-22T11:56:22.833056Z Built in 857ms\n2021-04-22T11:56:22.833153Z Pushing executables to target\n2021-04-22T11:56:23.079920Z Pushed executables in 247ms (sent 0 B)\n2021-04-22T11:56:23.079983Z Getting data file list from target\n2021-04-22T11:56:23.511213Z Got data file list with 2 file(s)\n2021-04-22T11:56:23.511278Z Pushing data files to target\n2021-04-22T11:56:23.793917Z Pushed data files in 283ms (sent 0 B)\n2021-04-22T11:56:23.991259Z Getting DUT info\n2021-04-22T11:56:24.249970Z Software features supported by DUT: alt_syscall amd64 android_vm android_vm_r arc arc64 arc_camera3 arc_pstore aslr audio_play audio_record autotest-capability:builtin_camera autotest-capability:builtin_or_vivid_camera autotest-capability:builtin_usb_camera autotest-capability:hw_dec_h264_1080_30 autotest-capability:hw_dec_h264_1080_60 autotest-capability:hw_dec_h264_2160_30 autotest-capability:hw_dec_h264_2160_60 autotest-capability:hw_dec_jpeg autotest-capability:hw_dec_vp8_1080_30 autotest-capability:hw_dec_vp8_1080_60 autotest-capability:hw_dec_vp8_2160_30 autotest-capability:hw_dec_vp8_2160_60 autotest-capability:hw_dec_vp9-2_1080_30 autotest-capability:hw_dec_vp9_1080_30 autotest-capability:hw_dec_vp9_1080_60 autotest-capability:hw_dec_vp9_2160_30 autotest-capability:hw_dec_vp9_2160_60 autotest-capability:hw_enc_h264_1080_30 autotest-capability:hw_enc_h264_2160_30 autotest-capability:hw_enc_jpeg autotest-capability:hw_enc_vp8_odd_dimension camera_720p chrome chrome_internal coresched cpu_vuln_sysfs crashpad cros_config cros_internal crossystem crosvm_gpu cups device_crash diagnostics display_backlight dlc dmverity_unstable dptf drivefs drm_atomic encrypted_reboot_vault endorsement firewall flashrom google_virtual_keyboard gpu_sandboxing graphics_debugfs gsc houdini houdini64 lacros lacros_stable memd memfd_create metrics_consent microcode ml_service mosys nacl no_arm no_asan no_borealis_host no_elm_hana_3_18 no_eth_loss_on_reboot no_iioservice no_kernel_upstream no_msan no_qemu no_symlink_mount no_ubsan nvme oci play_store plugin_vm proprietary_codecs pstore racc reboot rrm_support screenshot selinux selinux_current shill-wifi smartctl smartdim storage_wearout_detect tablet_mode tpm tpm2 transparent_hugepage untrusted_vm usbguard use_fscrypt_v1 vaapi video_decoder_direct video_decoder_legacy_supported video_overlays virtual_usb_printer vm_host vp9_smoke vulkan wifi wilco wired_8021x\n2021-04-22T11:56:24.250045Z Got DUT device.Config data; dumping to device-config.txt\n2021-04-22T11:56:24.250291Z Target version: drallion-release/R91-13883.0.0\n2021-04-22T11:56:24.250309Z Getting initial system state\n2021-04-22T11:56:25.240978Z Running tests in bundle cros\n2021-04-22T11:56:26.170863Z [13:56:25.567] Devserver status: [[http://127.0.0.1:37949 UP]]\n2021-04-22T11:56:26.213066Z [13:56:25.570] Found 1 external linked data file(s), need to download 1\n2021-04-22T11:56:26.358558Z [13:56:25.758] Downloading gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4 via http://127.0.0.1:37949 (newly staging)\n2021-04-22T11:56:28.123197Z [13:56:27.523] Retry stage in 236ms: got status 500: gsutil -m cp gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4 /tmp/tast/devserver/static/.download.763746073 failed: exit status 1\n2021-04-22T11:56:30.067930Z [13:56:29.469] Retry stage in 2.289s: got status 500: gsutil -m cp gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4 /tmp/tast/devserver/static/.download.320687524 failed: exit status 1\n2021-04-22T11:56:34.097041Z [13:56:33.500] Retry stage in 6.259s: got status 500: gsutil -m cp gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4 /tmp/tast/devserver/static/.download.828842163 failed: exit status 1\n2021-04-22T11:56:41.962645Z [13:56:41.363] Failed to download gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4: failed to stage on http://127.0.0.1:37949: got status 500: gsutil -m cp gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4 /tmp/tast/devserver/static/.download.328985206 failed: exit status 1\n2021-04-22T11:56:41.966637Z [13:56:41.364] Failed to download some external data files, but continuing anyway; corresponding tests will fail\n2021-04-22T11:56:41.966867Z Started fixture gpuWatchHangs\n2021-04-22T11:56:41.966917Z [13:56:41.365] Setup regex to detect GPU hang: drm:i915_hangcheck_elapsed|drm:i915_hangcheck_hung|Hangcheck timer elapsed...|drm/i915: Resetting chip after gpu hang|GPU HANG:.+\\b[H|h]ang on (rcs0|vcs0|vecs0)|hangcheck recover!\n2021-04-22T11:56:41.967101Z Started fixture gpuWatchDog\n2021-04-22T11:56:41.971829Z Started fixture chromeVideoWithHWAV1Decoding\n2021-04-22T11:56:41.971906Z [13:56:41.375] Restarting ui job\n2021-04-22T11:56:42.428074Z [13:56:41.829] Clearing device owner info\n2021-04-22T11:56:42.501716Z [13:56:41.907] Asking session_manager to enable Chrome testing\n2021-04-22T11:56:42.684853Z [13:56:42.090] Waiting for Chrome to write its debugging port to /home/chronos/DevToolsActivePort\n2021-04-22T11:56:42.973294Z [13:56:42.379] Connecting to browser at ws://127.0.0.1:32977/devtools/browser/94fd5ec7-40d8-4ff2-a15b-1d2e22d5fdf1\n2021-04-22T11:56:43.016295Z [13:56:42.384] Removing cryptohome for testuser@gmail.com\n2021-04-22T11:56:43.016388Z [13:56:42.406] Log file name: /var/log/chrome/chrome_20210422-135642\n2021-04-22T11:56:43.016474Z [13:56:42.406] Finding OOBE DevTools target\n2021-04-22T11:56:43.016558Z [13:56:42.415] Connecting to Chrome target 21526BA4BE90B91104FCD590786E66F0\n2021-04-22T11:56:43.030318Z [13:56:42.432] Waiting for OOBE\n2021-04-22T11:56:43.975117Z [13:56:43.359] Logging in as user \"testuser@gmail.com\"\n2021-04-22T11:56:44.123033Z [13:56:43.443] Waiting for cryptohome for user \"testuser@gmail.com\" with timeout 1m0s\n2021-04-22T11:56:48.162341Z [13:56:47.569] Waiting for OOBE to be dismissed\n2021-04-22T11:56:48.440585Z [13:56:47.818] Waiting for test API extension at chrome-extension://behllobkkfkfnphdnhnkndlbkcpglgmj/_generated_background_page.html\n2021-04-22T11:56:48.490412Z [13:56:47.904] Connecting to Chrome target C5D04397E6D9193C13301A1BD1C95975\n2021-04-22T11:56:48.704400Z [13:56:48.044] Test API extension is ready\n2021-04-22T11:56:48.704863Z Started test video.Play.av1\n2021-04-22T11:56:48.704923Z [13:56:48.047] Error at run.go:723: Required data file bear-320x240.av1.mp4 missing: failed to download gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4: failed to stage on http://127.0.0.1:37949: got status 500: gsutil -m cp gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4 /tmp/tast/devserver/static/.download.328985206 failed: exit status 1\n2021-04-22T11:56:48.704969Z [13:56:48.047] Stack trace:\nRequired data file bear-320x240.av1.mp4 missing: failed to download gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4: failed to stage on http://127.0.0.1:37949: got status 500: gsutil -m cp gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4 /tmp/tast/devserver/static/.download.328985206 failed: exit status 1\n\tat chromiumos/tast/internal/planner.runTestWithRoot.func1 (run.go:723)\n\tat chromiumos/tast/internal/planner.safeCall.func2 (safe.go:92)\n\tat runtime.goexit (asm_amd64.s:1374)\n2021-04-22T11:56:48.705115Z Completed test video.Play.av1 in 0s with 1 error(s)\n2021-04-22T11:56:48.705295Z Completed fixture chromeVideoWithHWAV1Decoding in 6.686s with 0 error(s)\n2021-04-22T11:56:48.705408Z Completed fixture gpuWatchDog in 6.686s with 0 error(s)\n2021-04-22T11:56:48.705477Z Completed fixture gpuWatchHangs in 6.687s with 0 error(s)\n2021-04-22T11:56:49.501368Z Ran 1 local test(s) in 24.26s\n2021-04-22T11:56:49.504619Z Starting /tmp/tast/build/host/remote_test_runner locally\n2021-04-22T11:56:49.544096Z Ran 0 remote test(s) in 40ms\n2021-04-22T11:56:50.770999Z Collecting system information\n2021-04-22T11:56:50.771055Z Connecting to 127.0.0.1:12222\n2021-04-22T11:56:50.771397Z Failed to connect to ssh-agent at /tmp/ssh-auth-sock: dial unix /tmp/ssh-auth-sock: connect: connection refused\n2021-04-22T11:56:54.749823Z --------------------------------------------------------------------------------\n2021-04-22T11:56:54.749874Z video.Play.av1  [ FAIL ] Required data file bear-320x240.av1.mp4 missing: failed to download gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4: failed to stage on http://127.0.0.1:37949: got status 500: gsutil -m cp gs://chromiumos-test-assets-public/tast/cros/video/bear-320x240_20200925.av1.mp4 /tmp/tast/devserver/static/.download.328985206 failed: exit status 1\n2021-04-22T11:56:54.751312Z --------------------------------------------------------------------------------\n2021-04-22T11:56:54.751341Z Results saved to /tmp/tast/results/20210422-115620\n\n```",
      "parentUuid": "437d23b8_74d289e8",
      "revId": "b00840f8d13735e431d753be8b112cc26ab59260",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}