{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "711e0dfd_ecc30765",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1445297
      },
      "writtenOn": "2021-05-26T20:35:47Z",
      "side": 1,
      "message": "The test is now moved to a separate file.\nPlease review.",
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8ad485ba_484dfa37",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_cont_netperf.go",
        "patchSetId": 2
      },
      "lineNbr": 62,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2021-06-05T00:26:26Z",
      "side": 1,
      "message": "My concern with this is kind of in the same vein as the ping test: this threshold doesn\u0027t really mean anything and depends on the duration of the netperf stream. Is there some kind of absolute value we can use instead (similar to ping packet loss)? Maybe TransactionErrors?",
      "range": {
        "startLine": 62,
        "startChar": 77,
        "endLine": 62,
        "endChar": 80
      },
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f006ee1_2557aaae",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_cont_netperf.go",
        "patchSetId": 2
      },
      "lineNbr": 62,
      "author": {
        "id": 1445297
      },
      "writtenOn": "2021-06-09T22:23:37Z",
      "side": 1,
      "message": "Unfortunately, for TCP Stream/Maerts test, neperf shows only throughput metric. I also can\u0027t find any errors in interface counters.\n\nThis is not as bad, because now that we got rid of scanning we\u0027re doing only roaming in the loop. For 50 roaming rounds, we have ~10 iterations of netperf, thus the impact of measurement\u0027s tail (when we\u0027re running netperf and not roaming) would be minimal.\n\nWell, for 10 iterations, we could actually cut off the last iteration and still have enough of meaningful data.\n\nWhat worries me, is the general performance drop, which is even higher in download(maerts) case, than in the stream case.",
      "parentUuid": "8ad485ba_484dfa37",
      "range": {
        "startLine": 62,
        "startChar": 77,
        "endLine": 62,
        "endChar": 80
      },
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81d2c0e8_b02dafeb",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_cont_netperf.go",
        "patchSetId": 2
      },
      "lineNbr": 62,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2021-06-10T00:27:40Z",
      "side": 1,
      "message": "I suppose if there\u0027s no alternative, this is fine as is.\n\n\u003e What worries me, is the general performance drop, which is even higher in download(maerts) case, than in the stream case.\n\nCan you paste some numbers here? Are you saying that the percentage throughput drop is more for the rx case than the tx case?",
      "parentUuid": "5f006ee1_2557aaae",
      "range": {
        "startLine": 62,
        "startChar": 77,
        "endLine": 62,
        "endChar": 80
      },
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "24382d38_c4d65dcf",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_cont_netperf.go",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2021-06-05T00:26:26Z",
      "side": 1,
      "message": "EAP/none tests?",
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b303f8b2_08f60f5d",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_cont_netperf.go",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 1445297
      },
      "writtenOn": "2021-06-09T22:23:37Z",
      "side": 1,
      "message": "OK, but combined with stream/maerts tests it grows suite to 10 testcases.",
      "parentUuid": "24382d38_c4d65dcf",
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b2ce734_53b7a5e9",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_cont_netperf.go",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2021-06-05T00:26:26Z",
      "side": 1,
      "message": "same comment as previous change (use second return value)",
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e30fb374_ae18bd0f",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_cont_netperf.go",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1445297
      },
      "writtenOn": "2021-06-09T22:23:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5b2ce734_53b7a5e9",
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2b45315_4aba89f6",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_cont_netperf.go",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2021-06-05T00:26:26Z",
      "side": 1,
      "message": "nit: Throughput",
      "range": {
        "startLine": 122,
        "startChar": 1,
        "endLine": 122,
        "endChar": 17
      },
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb5005dc_91346323",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_cont_netperf.go",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 1445297
      },
      "writtenOn": "2021-06-09T22:23:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a2b45315_4aba89f6",
      "range": {
        "startLine": 122,
        "startChar": 1,
        "endLine": 122,
        "endChar": 17
      },
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38b938a0_72343b8d",
        "filename": "src/chromiumos/tast/remote/network/netperf/continuous_session.go",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2021-06-05T00:26:26Z",
      "side": 1,
      "message": "I\u0027m not too familiar with the normal session code, but could we possibly just add an option to reuse the runner? Again, I don\u0027t know the code too well so if you say it makes more sense to add a new session type I\u0027ll take your word for it.",
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e04b35e_2efee647",
        "filename": "src/chromiumos/tast/remote/network/netperf/continuous_session.go",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1445297
      },
      "writtenOn": "2021-06-09T22:23:37Z",
      "side": 1,
      "message": "The original netperf session (as ported from autotest) assumes different configs can be run, thus it created runner for each run (because some configs could require swaping server with client). Each runner creation wasted time on restarting netserver (which took ~5s so it was rather a no-go for us).\n\nHere I pass only one config during session creation, so I can reuse the runner.",
      "parentUuid": "38b938a0_72343b8d",
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23af1d60_f74fe402",
        "filename": "src/chromiumos/tast/remote/network/netperf/continuous_session.go",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2021-06-10T00:27:40Z",
      "side": 1,
      "message": "Sorry, should have been more clear. I meant that it would be nice to reuse the original code and just add an option to reuse the runner as opposed to creating an entirely new session type and c\u0026p-ing code (in the warmup functions, for example). It\u0027s entirely possible that it\u0027s easier to do it the way you already did it, but I figure it\u0027s worth looking into.",
      "parentUuid": "2e04b35e_2efee647",
      "revId": "b75747f1fb3b6d11077a30ddbe37b4355e4d6e36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}