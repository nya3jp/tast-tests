{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "612e0997_d04cde5b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1529242
      },
      "writtenOn": "2022-07-29T15:53:31Z",
      "side": 1,
      "message": "I\u0027m still not very familiar with Go but overall this LGTM. I had one minor suggestion and a question about whether 30 seconds was long enough to guarantee reboot is complete but neither is a blocking issue.",
      "revId": "e9b9bdfcece60034dae692f9b7324ab1506bbab5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9c17cd3_54aeaf7d",
        "filename": "src/chromiumos/tast/remote/firmware/fingerprint/rpcdut/rpcdut.go",
        "patchSetId": 2
      },
      "lineNbr": 130,
      "author": {
        "id": 1529242
      },
      "writtenOn": "2022-07-29T15:53:31Z",
      "side": 1,
      "message": "It might be nice to move this logic into a separate function (maybe named `ConnectAfterReboot`? `WaitUntilRebootComplete`?) to keep the `Reboot` function simple and easy to read.",
      "revId": "e9b9bdfcece60034dae692f9b7324ab1506bbab5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6bea0524_1af59b45",
        "filename": "src/chromiumos/tast/remote/firmware/fingerprint/rpcdut/rpcdut.go",
        "patchSetId": 2
      },
      "lineNbr": 130,
      "author": {
        "id": 1441652
      },
      "writtenOn": "2022-08-01T11:00:55Z",
      "side": 1,
      "message": "Done! Thanks for the suggestion.",
      "parentUuid": "a9c17cd3_54aeaf7d",
      "revId": "e9b9bdfcece60034dae692f9b7324ab1506bbab5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "094f0390_5e4f829d",
        "filename": "src/chromiumos/tast/remote/firmware/fingerprint/rpcdut/rpcdut.go",
        "patchSetId": 2
      },
      "lineNbr": 160,
      "author": {
        "id": 1529242
      },
      "writtenOn": "2022-07-29T15:53:31Z",
      "side": 1,
      "message": "I assume that 30 seconds is always be long enough, right?",
      "range": {
        "startLine": 160,
        "startChar": 61,
        "endLine": 160,
        "endChar": 77
      },
      "revId": "e9b9bdfcece60034dae692f9b7324ab1506bbab5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ad52fcf_53464625",
        "filename": "src/chromiumos/tast/remote/firmware/fingerprint/rpcdut/rpcdut.go",
        "patchSetId": 2
      },
      "lineNbr": 160,
      "author": {
        "id": 1441652
      },
      "writtenOn": "2022-08-01T07:57:57Z",
      "side": 1,
      "message": "I think so. I tested that on all boards I have.",
      "parentUuid": "094f0390_5e4f829d",
      "range": {
        "startLine": 160,
        "startChar": 61,
        "endLine": 160,
        "endChar": 77
      },
      "revId": "e9b9bdfcece60034dae692f9b7324ab1506bbab5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "817d6830_36940e27",
        "filename": "src/chromiumos/tast/remote/firmware/fingerprint/rpcdut/rpcdut.go",
        "patchSetId": 2
      },
      "lineNbr": 160,
      "author": {
        "id": 1334530
      },
      "writtenOn": "2022-08-04T05:51:12Z",
      "side": 1,
      "message": "I believe update \"can\" take about a minute in certain situations, like when updating RO and RW on dartmonkey for dogfooders.\n\nUMA shows that more than 22% of users (mainly non-stable users) take about 38s for update. A few outliers take up to 76sec.",
      "parentUuid": "1ad52fcf_53464625",
      "range": {
        "startLine": 160,
        "startChar": 61,
        "endLine": 160,
        "endChar": 77
      },
      "revId": "e9b9bdfcece60034dae692f9b7324ab1506bbab5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "191ac6ae_11e7b66d",
        "filename": "src/chromiumos/tast/remote/firmware/fingerprint/rpcdut/rpcdut.go",
        "patchSetId": 2
      },
      "lineNbr": 160,
      "author": {
        "id": 1529242
      },
      "writtenOn": "2022-08-04T17:24:07Z",
      "side": 1,
      "message": "Interesting. I feel like we should extend the timeout to something longer than 76 seconds though, but I would also hate to artificially extend the time it takes to execute tests. Does it make sense to attempt to establish an SSH connection every 10 seconds or so and then fail after 120 seconds? This could be part of a follow up CL to avoid gating this one.",
      "parentUuid": "817d6830_36940e27",
      "range": {
        "startLine": 160,
        "startChar": 61,
        "endLine": 160,
        "endChar": 77
      },
      "revId": "e9b9bdfcece60034dae692f9b7324ab1506bbab5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1277a218_2568acdf",
        "filename": "src/chromiumos/tast/remote/firmware/fingerprint/rpcdut/rpcdut.go",
        "patchSetId": 2
      },
      "lineNbr": 160,
      "author": {
        "id": 1441652
      },
      "writtenOn": "2022-08-22T12:37:08Z",
      "side": 1,
      "message": "Increased timeout to 90 seconds.\n\n\u003e I would also hate to artificially extend the time it takes to execute tests.\n\nMe too. That\u0027s why I used `testing.Poll()`. This is similar to a loop with a configurable interval and timeout. The function provided is called until it returns `nil`, so in most cases it will exit after a few seconds.\n\nI\u0027m also creating a new context with 3 seconds timeout in the lambda, so I\u0027m sure that each attempt won\u0027t take more than 3 seconds (SSH connection issues, DUT disconnected while connecting, etc.).",
      "parentUuid": "191ac6ae_11e7b66d",
      "range": {
        "startLine": 160,
        "startChar": 61,
        "endLine": 160,
        "endChar": 77
      },
      "revId": "e9b9bdfcece60034dae692f9b7324ab1506bbab5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}