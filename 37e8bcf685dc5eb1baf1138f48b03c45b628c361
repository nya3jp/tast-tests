{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e8c29ff7_87502816",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2021-11-02T16:57:55Z",
      "side": 1,
      "message": "PTAL",
      "revId": "37e8bcf685dc5eb1baf1138f48b03c45b628c361",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fde32c8b_63dc84a4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2021-11-03T09:52:44Z",
      "side": 1,
      "message": "LGTM",
      "revId": "37e8bcf685dc5eb1baf1138f48b03c45b628c361",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "affd3fdb_24f4a5bf",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/device_target_version_selector.go",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2021-11-03T09:29:02Z",
      "side": 1,
      "message": "Would it make sense to poll with a different command, and separate the check if update_engine is ready, and triggering the update check?\nAt first I thought you only wanted to ensure that the update_engine is ready.",
      "revId": "37e8bcf685dc5eb1baf1138f48b03c45b628c361",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "219e2da6_ebd75451",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/device_target_version_selector.go",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2021-11-03T09:29:02Z",
      "side": 1,
      "message": "If you use the --follow flag here (and it works for this command), you can skip the polling and waiting before checking the content of the log.",
      "revId": "37e8bcf685dc5eb1baf1138f48b03c45b628c361",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28018443_e75872e2",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/device_target_version_selector.go",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2021-11-03T09:48:19Z",
      "side": 1,
      "message": "The second poll waits for stuff to show up in the log.",
      "parentUuid": "affd3fdb_24f4a5bf",
      "revId": "37e8bcf685dc5eb1baf1138f48b03c45b628c361",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57fa1854_19822e8e",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/device_target_version_selector.go",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2021-11-03T09:48:19Z",
      "side": 1,
      "message": "--follow will never complete on test images (there is no working update server).\n\nThe first poll is needed because it errors out for ~1 second after update-engine starts. DBUS is not yet ready.",
      "parentUuid": "219e2da6_ebd75451",
      "revId": "37e8bcf685dc5eb1baf1138f48b03c45b628c361",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8c0378a_ebe33324",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/device_target_version_selector.go",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2021-11-03T09:52:44Z",
      "side": 1,
      "message": "I was thinking about moving this line out of the poll. So you use a different command to ensure that the DBUS is ready. And trigger the update from outside of the poll, after you are sure that DBUS is ready now.",
      "parentUuid": "28018443_e75872e2",
      "revId": "37e8bcf685dc5eb1baf1138f48b03c45b628c361",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e93be1e_c0ec1c9d",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/device_target_version_selector.go",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2021-11-03T09:52:44Z",
      "side": 1,
      "message": "I meant to write \"and if works for this command\".",
      "parentUuid": "57fa1854_19822e8e",
      "revId": "37e8bcf685dc5eb1baf1138f48b03c45b628c361",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41404df1_4767fd92",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/device_target_version_selector.go",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2021-11-03T10:00:04Z",
      "side": 1,
      "message": "I considered doing that, but I had the command be stuck after DBUS was registered, but it hanged. That\u0027s why the timeout is also there.",
      "parentUuid": "e8c0378a_ebe33324",
      "revId": "37e8bcf685dc5eb1baf1138f48b03c45b628c361",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "60acd3ab_4fc92830",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/device_target_version_selector.go",
        "patchSetId": 1
      },
      "lineNbr": 100,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2021-11-03T10:00:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0e93be1e_c0ec1c9d",
      "revId": "37e8bcf685dc5eb1baf1138f48b03c45b628c361",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}