{
  "comments": [
    {
      "key": {
        "uuid": "e1b9684f_459243b9",
        "filename": "src/chromiumos/tast/local/shill/wifi.go",
        "patchSetId": 18
      },
      "lineNbr": 29,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2019-10-29T21:14:13Z",
      "side": 1,
      "message": "In what case should we ignore GetDevicesByTechnology() failures? We already have a Manager object, and GetProperties() should not be failing -- it will just give you an empty result. I don\u0027t think you need this, or any of the \u0027ignoreGetDevError\u0027 logic.",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 29,
        "endChar": 4
      },
      "revId": "34b4f2b1a1be35d99bb1abdb7481630934a2aa88",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8fefdfc8_812bb3f4",
        "filename": "src/chromiumos/tast/local/shill/wifi.go",
        "patchSetId": 18
      },
      "lineNbr": 29,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-10-29T23:37:28Z",
      "side": 1,
      "message": "If it calls getIface() just right after shill restarts, it may encounter the error:\nError at iw_scan.go:43: Could not get a WiFi interface: failed getting properties: Method \"GetProperties\" with signature \"\" on interface \"org.chromium.flimflam.Device\" doesn\u0027t exist\n\nBut if it waits for Device property change before getIface(), for shill already running case, device property does not change so the WaitAll() is blocked until timeout. So it has to call getIface() with ignoreGetDevError \u003d true first. If it fails to get device, it then waits for device property change.",
      "parentUuid": "e1b9684f_459243b9",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 29,
        "endChar": 4
      },
      "revId": "34b4f2b1a1be35d99bb1abdb7481630934a2aa88",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57e720a6_4e04bcc0",
        "filename": "src/chromiumos/tast/local/shill/wifi.go",
        "patchSetId": 18
      },
      "lineNbr": 29,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2019-10-30T00:15:25Z",
      "side": 1,
      "message": "\u003e Error at iw_scan.go:43: Could not get a WiFi interface: failed getting properties: Method \"GetProperties\" with signature \"\" on interface \"org.chromium.flimflam.Device\" doesn\u0027t exist\n\nIs that to say that Manager has the device in its Devices list, but that Device object isn\u0027t yet fully registered with D-Bus? Then how is that race only present on the first-time call? That seems like a race that happens every time a device is added to the Manager\u0027s Devices list.\n\nThis sounds like something that should be fixed on the Shill side instead.",
      "parentUuid": "8fefdfc8_812bb3f4",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 29,
        "endChar": 4
      },
      "revId": "34b4f2b1a1be35d99bb1abdb7481630934a2aa88",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9d755b1_3d516de9",
        "filename": "src/chromiumos/tast/local/shill/wifi.go",
        "patchSetId": 18
      },
      "lineNbr": 29,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-10-30T03:27:48Z",
      "side": 1,
      "message": "Ah, you are right. It can happen on right after Devices list is updated. Shill should not put a  device in Devices list until it is fully registered.\n\nSo before the shill issue is fixed, we shall always ignore error getting device object, right?",
      "parentUuid": "57e720a6_4e04bcc0",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 29,
        "endChar": 4
      },
      "revId": "34b4f2b1a1be35d99bb1abdb7481630934a2aa88",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbafdeba_27b34b3b",
        "filename": "src/chromiumos/tast/local/shill/wifi.go",
        "patchSetId": 18
      },
      "lineNbr": 29,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2019-10-30T05:06:02Z",
      "side": 1,
      "message": "\u003e So before the shill issue is fixed, we shall always ignore error getting device object, right?\n\nHmm, I suppose so. That should probably just go into GetDevicesByTechnology() though I think, with a TODO.",
      "parentUuid": "c9d755b1_3d516de9",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 29,
        "endChar": 4
      },
      "revId": "34b4f2b1a1be35d99bb1abdb7481630934a2aa88",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}