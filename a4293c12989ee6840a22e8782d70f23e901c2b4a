{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "71d9d041_877571c1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2021-02-19T22:00:50Z",
      "side": 1,
      "message": "Unfortunately enough changed that we don\u0027t get a diff from pre -\u003e pre_logging.go, but none of the logic in Logging.Start or Logging.Stop has been changed (just converted s.Fatal -\u003e return nil, errors.Wrap).\n\nNote: This will need to be rebased once https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/2683519 lands.\n",
      "revId": "a4293c12989ee6840a22e8782d70f23e901c2b4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "225b333c_02a3eba5",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/pre/pre_logging.go",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2021-02-19T23:50:07Z",
      "side": 1,
      "message": "While working on a follow-up for this, I learned that Prepare() is called for every test, and Close() is only called for the last test. Each test however creates its own instance of Precondition.\n\nThat has the unfortunate consequence that when multiple tests are run, this will return defaultLogLevel and Close() will \"restore\" the debug level to the defaultLogLevel.\n\n@nya - Any thoughts / suggestions?",
      "revId": "a4293c12989ee6840a22e8782d70f23e901c2b4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f791d1f_39a04cd3",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/pre/pre_logging.go",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2021-02-20T00:19:39Z",
      "side": 1,
      "message": "This will be even more problematic for the next change I need to make:\n\nPre: stop modemfwd *if it is running* (it does not run on all devices)\nPost: start modemfwd if it was stopped",
      "parentUuid": "225b333c_02a3eba5",
      "revId": "a4293c12989ee6840a22e8782d70f23e901c2b4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a08d1cd8_0cf25ba3",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/pre/pre_logging.go",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1487074
      },
      "writtenOn": "2021-02-20T06:40:45Z",
      "side": 1,
      "message": "IMO, Prepare should not always \"Start\" logging. (Sorry that I missed this in previous review)\n\nIt also doesn\u0027t sound right to call the Start of an object again without Stop.\n\nMy guess to solve this might be: put *Logging in preImpl and only Start it once when constructing. And also Stop once in Close when it is non-nil.\n\nStill one alternative is to start using Fixture (ref: https://groups.google.com/a/chromium.org/g/tast-users/c/-vC6RR8fYlQ/m/JhiULM82BAAJ) which has a more fine-grained steps. Setup and Teardown of the Fixture will only be called once.",
      "parentUuid": "6f791d1f_39a04cd3",
      "revId": "a4293c12989ee6840a22e8782d70f23e901c2b4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cbcda67c_0740644d",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/pre/pre_logging.go",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-02-22T05:34:34Z",
      "side": 1,
      "message": "Yen-lin said all comments I\u0027d have :)",
      "parentUuid": "a08d1cd8_0cf25ba3",
      "revId": "a4293c12989ee6840a22e8782d70f23e901c2b4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ee21f7cc_26e9251d",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/pre/pre_logging.go",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2021-02-22T22:14:49Z",
      "side": 1,
      "message": "Ah, Fixture is exactly what I was looking for. I will abandon this and put up a CL using Fixture. (We should probably replace network/pre/ with a logging fixture as well, but that is lower priority to me).",
      "parentUuid": "cbcda67c_0740644d",
      "revId": "a4293c12989ee6840a22e8782d70f23e901c2b4a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}