{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c007ac0f_4cbe6919",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1527467
      },
      "writtenOn": "2022-09-27T07:10:06Z",
      "side": 1,
      "message": "For reference, this solution to the tast test failure was also discussed:\nhttps://chromium-review.googlesource.com/c/chromiumos/platform2/+/3917635",
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72dac6f1_add28e40",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2022-09-27T13:55:04Z",
      "side": 1,
      "message": "tast side lgtm, but has this been looked at by any security folk? adding test owners",
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8cc6912d_8a513b89",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-10-03T07:29:46Z",
      "side": 1,
      "message": "jorgelo@, friendly ping?",
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a346e207_9d81b1b8",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/mtab.go",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2022-10-07T22:04:55Z",
      "side": 1,
      "message": "Should at least have nodev,nosuid",
      "range": {
        "startLine": 113,
        "startChar": 53,
        "endLine": 113,
        "endChar": 73
      },
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "172301a5_e66e3d42",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/mtab.go",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1527467
      },
      "writtenOn": "2022-10-24T05:29:58Z",
      "side": 1,
      "message": "Added. We need to merge this http://crrev.com/c/3974309 first.",
      "parentUuid": "a346e207_9d81b1b8",
      "range": {
        "startLine": 113,
        "startChar": 53,
        "endLine": 113,
        "endChar": 73
      },
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1425b82b_584eb03e",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/mtab.go",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2022-10-24T22:59:03Z",
      "side": 1,
      "message": "And now that I think about it, was /run picked for a specific reason? Other squashfs mounts live in /usr/share.",
      "parentUuid": "172301a5_e66e3d42",
      "range": {
        "startLine": 113,
        "startChar": 53,
        "endLine": 113,
        "endChar": 73
      },
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "691614f0_4005d1d1",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/mtab.go",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1527467
      },
      "writtenOn": "2022-10-25T06:34:19Z",
      "side": 1,
      "message": "I do not know the precise answer to this, but I found this discussion:\n\nhttps://chromium-review.googlesource.com/c/chromiumos/overlays/chromiumos-overlay/+/2895291/comments/1d537874_a3a7addb\n\nIs it a blocker for this CL?",
      "parentUuid": "1425b82b_584eb03e",
      "range": {
        "startLine": 113,
        "startChar": 53,
        "endLine": 113,
        "endChar": 73
      },
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90526569_7a1d6a92",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/mtab.go",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2022-10-26T00:56:15Z",
      "side": 1,
      "message": "Just always mounted DLC/rootfs lacros squashfs\u0027 under `/run` tmpfs.\n\nIf this mount path is changed, chrome/platform side code that uses it must be change along with it.\n\njorgelo@ to help decided if we can keep it under `/run` for rootfs lacros?\n\nAlso this test will still flake, until it\u0027s moved to tmpfiles.d as jorgelo@ recommended in the other CL to add `nodev,nosuid`.\n\nFlakes will happen even when other lacros tasts run which leave rootfs lacros mounted, etc.",
      "parentUuid": "691614f0_4005d1d1",
      "range": {
        "startLine": 113,
        "startChar": 53,
        "endLine": 113,
        "endChar": 73
      },
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13aeeb98_065ab0c0",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/mtab.go",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1527467
      },
      "writtenOn": "2022-10-26T01:00:56Z",
      "side": 1,
      "message": "Why would it still flake? If `/run/lacros` is left mounted now, this test won\u0027t fail anymore. Am I missing something?",
      "parentUuid": "90526569_7a1d6a92",
      "range": {
        "startLine": 113,
        "startChar": 53,
        "endLine": 113,
        "endChar": 73
      },
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5b85e24_990588d6",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/mtab.go",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2022-10-26T01:09:11Z",
      "side": 1,
      "message": "\u003e It remains mounted after ui restart\n\nIf you/another test runs: `start lacros-unmounter` then this test run.\nOr codepath to trigger rootfs lacros mount changes/delays.\n\nEither/others could lead to flakes.",
      "parentUuid": "13aeeb98_065ab0c0",
      "range": {
        "startLine": 113,
        "startChar": 53,
        "endLine": 113,
        "endChar": 73
      },
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "edb35f12_0c1e1488",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/mtab.go",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1527467
      },
      "writtenOn": "2022-10-26T01:22:49Z",
      "side": 1,
      "message": "I see. Thanks for your feedback.\n\nShould we still merge these two CLs as mitigation, and open a bug about `tmpfiles.d`?",
      "parentUuid": "b5b85e24_990588d6",
      "range": {
        "startLine": 113,
        "startChar": 53,
        "endLine": 113,
        "endChar": 73
      },
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1511ac4_1ebd184a",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/mtab.go",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2022-10-26T01:32:41Z",
      "side": 1,
      "message": "\u003e Also this test will still flake, until it\u0027s moved to tmpfiles.d\n\nThis test checked for squashfs to be mounted, so tmpfiles.d (even though required) wouldn\u0027t fix the flakes.\n\nBoth `nodev,nosuid` + tmpfiles.d are needed.\n\nBut they wouldn\u0027t fix the flakes.\n\nAn example testing fix for the flake could be to always mount rootfs lacros on starting ui/chrome, but is definitely a waste of resource when stateful lacros is used instead.\nThere are probably better ways.",
      "parentUuid": "edb35f12_0c1e1488",
      "range": {
        "startLine": 113,
        "startChar": 53,
        "endLine": 113,
        "endChar": 73
      },
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "210d1781_ae21af85",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/mtab.go",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2022-10-26T22:37:34Z",
      "side": 1,
      "message": "I\u0027m not opposed to the usage of /run, was just wondering what the rationale was.\n\nIt\u0027s pretty clear at least in this test that no other squashfs uses /run since this is the only line that has a squashfs fs type and a mountpoint of /run on this test.",
      "parentUuid": "a1511ac4_1ebd184a",
      "range": {
        "startLine": 113,
        "startChar": 53,
        "endLine": 113,
        "endChar": 73
      },
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69636d28_a5c07da2",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/mtab.go",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1527467
      },
      "writtenOn": "2022-10-27T03:20:53Z",
      "side": 1,
      "message": "I still think this CL is an improvement as it does reduce the number of flakes, so seeking a +1 here. :)",
      "parentUuid": "210d1781_ae21af85",
      "range": {
        "startLine": 113,
        "startChar": 53,
        "endLine": 113,
        "endChar": 73
      },
      "revId": "894fd85725aa1d3eef87e3d389e99c1347b41bf2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}