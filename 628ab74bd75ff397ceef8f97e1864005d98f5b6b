{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8012855d_0822cf3f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-12-03T03:24:59Z",
      "side": 1,
      "message": "As the behavior changed a little bit, might be nice to mention the reason in commit msg. The main difference I see: After WiFi enabled, we verify the functionality with connection + ping to a brand new AP instead of expecting reconnect.\n\nVerification with ping is more thorough and the reconnection behavior is somehow covered by wifi.DisableEnable already so I guess the change is OK.",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "42db9afc_cd11a99d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8012855d_0822cf3f",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b6844b02_1e1f8b5d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-12-03T03:24:59Z",
      "side": 1,
      "message": "generally looks good, only some minor comments.",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9881dfdd_eb67bc83",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-12-03T07:40:48Z",
      "side": 1,
      "message": "The function tests XOR behavior (either Wifi or Bluetooth enabled). Is \"Coex\" a correct name?",
      "range": {
        "startLine": 24,
        "startChar": 32,
        "endLine": 24,
        "endChar": 36
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "796b5b8a_38688e07",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "I agree that this isn\u0027t really a coexistence test (it really tests that each phy can function without the other). I renamed it BluetoothSinglePhy so that the tast test would be wifi.BluetoothSinglePhy. Do you think this name is better?",
      "parentUuid": "9881dfdd_eb67bc83",
      "range": {
        "startLine": 24,
        "startChar": 32,
        "endLine": 24,
        "endChar": 36
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd53094a_260ec802",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-12-03T03:24:59Z",
      "side": 1,
      "message": "I think we don\u0027t reboot in this test?",
      "range": {
        "startLine": 28,
        "startChar": 33,
        "endLine": 28,
        "endChar": 43
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7388e06b_fae635db",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dd53094a_260ec802",
      "range": {
        "startLine": 28,
        "startChar": 33,
        "endLine": 28,
        "endChar": 43
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94d7c5d3_97aa5c94",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-12-03T07:40:48Z",
      "side": 1,
      "message": "Shorten ctx a bit after the defer line.",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b647320b_1e352340",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "94d7c5d3_97aa5c94",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c27a876_2deeb0d6",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-12-03T03:24:59Z",
      "side": 1,
      "message": "small nit: As we don\u0027t reboot in this test, perhaps can share the btClient in line87. But this one will be even safer (e.g. we might unexpectedly break the gRPC in the test for some reason) so either way is good to me.",
      "range": {
        "startLine": 44,
        "startChar": 2,
        "endLine": 48,
        "endChar": 3
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4467ddc0_8a4b702d",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "I\u0027d rather spawn a new btClient during this cleanup step such that if something did happen to the gRPC, the DUT can get  one more shot at repairing its bluetooth status so that the DUT is less likely to be in an inconsistent state.",
      "parentUuid": "2c27a876_2deeb0d6",
      "range": {
        "startLine": 44,
        "startChar": 2,
        "endLine": 48,
        "endChar": 3
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61bcc31a_69edc2ef",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-12-03T03:24:59Z",
      "side": 1,
      "message": "As there\u0027s no more logic after this function, this function scope might not be necessary?",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a2e7f7ad_36514811",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "61bcc31a_69edc2ef",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06bb6bdf_6af2b9ed",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 123,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-12-03T07:40:48Z",
      "side": 1,
      "message": "We may put restore/enable WiFi in defer and use a flag wifiEnabled to shortcut the defer function if it is enabled in the normal flow. If not, we can still use defer to enable it.\n\nSame for Bluetooth.",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98cfdaf1_61de3978",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 123,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "My main issue with using a defer function is that I do care about the returned error from the function. For instance, if an error occurs before the defer, the deferred function will still execute and may overwrite the initial error that would be returned if my understanding is correct. I think it\u0027s better to stop execution entirely, return the error, and repair with Bluetooth/WiFi enable on line 37.\n\nI have condensed the function with a flag that reorders which phy is enabled first so that I can just use 1 function with a flag instead of 2 nearly identical functions.",
      "parentUuid": "06bb6bdf_6af2b9ed",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d3c67a0_6b850269",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 132,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-12-03T03:24:59Z",
      "side": 1,
      "message": "nit: Maybe we can PollBreak in this case.",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fe174ed4_a55475c1",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 132,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "I ended up making the set function poll on the adapter\u0027s state to make sure that the adapter\u0027s state has been updated. I still kept the getter method in the proto even though it is no longer used in this test.",
      "parentUuid": "6d3c67a0_6b850269",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a47aa182_97b2cd3b",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 142,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-12-03T03:24:59Z",
      "side": 1,
      "message": "This set + poll combination repeats a few times, I guess it worths to extract an utility function for it? Or, including the waiting in SetBluetoothPoweredFast is also an option.",
      "range": {
        "startLine": 125,
        "startChar": 1,
        "endLine": 142,
        "endChar": 2
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54b7d2a2_ddcc3e8a",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 142,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "I ended up including the waiting in SetBluetoothPoweredFast",
      "parentUuid": "a47aa182_97b2cd3b",
      "range": {
        "startLine": 125,
        "startChar": 1,
        "endLine": 142,
        "endChar": 2
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e16c9647_0f92b939",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 162,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-12-03T03:24:59Z",
      "side": 1,
      "message": "I\u0027m not very sure if we need to poll on this. i.e. can this fail after bluez already get the adapter powered on?",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10cc1a4a_26329f8c",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/bluetooth_antenna_coex.go",
        "patchSetId": 2
      },
      "lineNbr": 162,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "You\u0027re correct, I moved the validate function as a 1 time check after the adapter state has been updated.",
      "parentUuid": "e16c9647_0f92b939",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "45bbf9aa_1b1f515d",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/wifiutil/ping_util.go",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-12-03T03:24:59Z",
      "side": 1,
      "message": "nit: maybe remove this line?",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "340929e4_f78ae2bc",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/wifiutil/ping_util.go",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "45bbf9aa_1b1f515d",
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2201b388_f0212cf0",
        "filename": "src/chromiumos/tast/services/cros/network/bluetooth_service.proto",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-12-03T03:24:59Z",
      "side": 1,
      "message": "nit: might be nice to also mention that this one is persistent setting and the other one is not? (I think the comments in bluetooth_service.go has this part, you can just sync them.)",
      "range": {
        "startLine": 14,
        "startChar": 86,
        "endLine": 14,
        "endChar": 87
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d051af50_d8d922be",
        "filename": "src/chromiumos/tast/services/cros/network/bluetooth_service.proto",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2201b388_f0212cf0",
      "range": {
        "startLine": 14,
        "startChar": 86,
        "endLine": 14,
        "endChar": 87
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64dc83ec_d5a1e0de",
        "filename": "src/chromiumos/tast/services/cros/network/bluetooth_service.proto",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-12-03T03:24:59Z",
      "side": 1,
      "message": "Not sure if {Get,Set}BluetoothPoweredDBus might be more straight forward?",
      "range": {
        "startLine": 16,
        "startChar": 24,
        "endLine": 16,
        "endChar": 27
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98c14740_bb0ba3bf",
        "filename": "src/chromiumos/tast/services/cros/network/bluetooth_service.proto",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-12-03T07:40:48Z",
      "side": 1,
      "message": "D-Bus",
      "range": {
        "startLine": 16,
        "startChar": 75,
        "endLine": 16,
        "endChar": 79
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9f8afc20_54eb627b",
        "filename": "src/chromiumos/tast/services/cros/network/bluetooth_service.proto",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "98c14740_bb0ba3bf",
      "range": {
        "startLine": 16,
        "startChar": 75,
        "endLine": 16,
        "endChar": 79
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33e722eb_db204aa6",
        "filename": "src/chromiumos/tast/services/cros/network/bluetooth_service.proto",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "The normal GetBluetoothPowered routine also uses dbus to check the powered status, it just also returns the persistence setting. Because both the fast and normal versions both use D-Bus, I think renaming may make things more confusing.",
      "parentUuid": "64dc83ec_d5a1e0de",
      "range": {
        "startLine": 16,
        "startChar": 24,
        "endLine": 16,
        "endChar": 27
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc3a1665_e15749a8",
        "filename": "src/chromiumos/tast/services/cros/network/bluetooth_service.proto",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-12-03T07:40:48Z",
      "side": 1,
      "message": "Bluetooth",
      "range": {
        "startLine": 21,
        "startChar": 55,
        "endLine": 21,
        "endChar": 64
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2724995_20eac2c3",
        "filename": "src/chromiumos/tast/services/cros/network/bluetooth_service.proto",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1432127
      },
      "writtenOn": "2020-12-04T00:18:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bc3a1665_e15749a8",
      "range": {
        "startLine": 21,
        "startChar": 55,
        "endLine": 21,
        "endChar": 64
      },
      "revId": "628ab74bd75ff397ceef8f97e1864005d98f5b6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}