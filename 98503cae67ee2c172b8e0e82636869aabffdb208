{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e7cdf597_3792d982",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1117055
      },
      "writtenOn": "2022-11-01T18:51:47Z",
      "side": 1,
      "message": "Which devices did you test this on? How does this interact with non-USB devices (i.e. FM350 and the QC SoC-based ones)?",
      "revId": "98503cae67ee2c172b8e0e82636869aabffdb208",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8631093_fef602f2",
        "filename": "src/chromiumos/tast/local/bundles/cros/cellular/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 124,
      "author": {
        "id": 1541462
      },
      "writtenOn": "2022-11-01T00:50:04Z",
      "side": 1,
      "message": "@aleksandermj@google.com this is only a 1 minute poll to check that a modem is exposed rather than the 3 that you mentioned, but at this point the DUT has to be alive for over 2 minutes due to the fixtures `SetUp`. I can extend it though if you think it\u0027s too short.",
      "revId": "98503cae67ee2c172b8e0e82636869aabffdb208",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ac745af_377d5fa0",
        "filename": "src/chromiumos/tast/local/bundles/cros/cellular/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 124,
      "author": {
        "id": 1441092
      },
      "writtenOn": "2022-11-02T23:04:18Z",
      "side": 1,
      "message": "Should we change this to NewModemWithSIM(), otherwise on dual-sim devices we might accidentally try the non-active SIM",
      "revId": "98503cae67ee2c172b8e0e82636869aabffdb208",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a6b4bc58_6d085915",
        "filename": "src/chromiumos/tast/local/cellular/modem_manifests_helper.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1117055
      },
      "writtenOn": "2022-11-01T18:51:47Z",
      "side": 1,
      "message": "You can move this after the bit where you parse the manifest.",
      "range": {
        "startLine": 80,
        "startChar": 0,
        "endLine": 81,
        "endChar": 39
      },
      "revId": "98503cae67ee2c172b8e0e82636869aabffdb208",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35fc0889_098980c6",
        "filename": "src/chromiumos/tast/local/cellular/modem_manifests_helper.go",
        "patchSetId": 2
      },
      "lineNbr": 94,
      "author": {
        "id": 1117055
      },
      "writtenOn": "2022-11-01T18:51:47Z",
      "side": 1,
      "message": "this error might look funny for the blank-variant case. Should we special case that where it just returns manifest.Device[0] and errors out with something else if the device list is empty?",
      "revId": "98503cae67ee2c172b8e0e82636869aabffdb208",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70c4c911_b8264609",
        "filename": "src/chromiumos/tast/local/cellular/modem_manifests_helper.go",
        "patchSetId": 2
      },
      "lineNbr": 174,
      "author": {
        "id": 1117055
      },
      "writtenOn": "2022-11-01T18:51:47Z",
      "side": 1,
      "message": "Kind of surprised we wouldn\u0027t just pass in the original device.DeviceId and have the modemfwd package handle it? Surely we might need to do something similar for PCI devices?",
      "revId": "98503cae67ee2c172b8e0e82636869aabffdb208",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "44f17c5a_c5ba8c9c",
        "filename": "src/chromiumos/tast/local/cellular/modem_manifests_helper.go",
        "patchSetId": 2
      },
      "lineNbr": 174,
      "author": {
        "id": 1541462
      },
      "writtenOn": "2022-11-01T21:13:41Z",
      "side": 1,
      "message": "I\u0027ll update the modemfwd package to handle parsing the device-type prefix. PCI devices should be straightforward, is there a good way to check if the modem exists for SoC devices?",
      "parentUuid": "70c4c911_b8264609",
      "revId": "98503cae67ee2c172b8e0e82636869aabffdb208",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3fdb6888_2052c3b8",
        "filename": "src/chromiumos/tast/local/cellular/modem_manifests_helper.go",
        "patchSetId": 2
      },
      "lineNbr": 174,
      "author": {
        "id": 1117055
      },
      "writtenOn": "2022-11-02T13:30:51Z",
      "side": 1,
      "message": "For QC SoC there are a few ways. In Shill we check for the kernel driver qcom-q6v5-mss (see https://chromium.googlesource.com/chromiumos/platform2/+/17ecf0d80e26b130f90433b34cc765f00af63053/shill/cellular/cellular.cc#1648 for more about that or ask Madhav). \n\nYou can also open a QRTR socket and check if QMI services for cellular show up in the ADD_SERVER messages you get from there. (Instead of doing all of that yourself, you should be able to use the `qrtr-lookup` command to list available services on the QRTR bus.)",
      "parentUuid": "44f17c5a_c5ba8c9c",
      "revId": "98503cae67ee2c172b8e0e82636869aabffdb208",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "95312bf4_16796829",
        "filename": "src/chromiumos/tast/local/cellular/modem_manifests_helper.go",
        "patchSetId": 2
      },
      "lineNbr": 187,
      "author": {
        "id": 1441092
      },
      "writtenOn": "2022-11-02T23:04:18Z",
      "side": 1,
      "message": "We should change this to NewModemWithSIM()",
      "revId": "98503cae67ee2c172b8e0e82636869aabffdb208",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}