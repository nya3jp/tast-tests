{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c9ab673f_4b5d9ee5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-08-31T02:43:18Z",
      "side": 1,
      "message": "Hi Shuhei, can you review the proposed change to add retry to gaia login? Thanks!",
      "revId": "aa6d47728ee19d39d888684d3ff75acdae95019f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ddbab962_676e24e0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-08-31T03:16:28Z",
      "side": 1,
      "message": "Thanks, retrying sounds useful.\n",
      "revId": "aa6d47728ee19d39d888684d3ff75acdae95019f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83de4e7f_6a23973a",
        "filename": "src/chromiumos/tast/local/chrome/internal/login/gaia.go",
        "patchSetId": 2
      },
      "lineNbr": 183,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-08-31T03:16:28Z",
      "side": 1,
      "message": "This class name is not stable over time. Also, the html structure can change at any time. So it\u0027s fragile to assume there are exactly two elements for example.\n\nMaybe we can broadly match to \"try again\" messages, just like:\n\n if (document.body.textContent.toLowerCase().includes(\u0027try again\u0027)) { ... }\n\nI used document.body here, but it\u0027s nicer if you could choose a smaller dom element with a stable selector.",
      "range": {
        "startLine": 183,
        "startChar": 47,
        "endLine": 183,
        "endChar": 53
      },
      "revId": "aa6d47728ee19d39d888684d3ff75acdae95019f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c6134a62_32fd41c1",
        "filename": "src/chromiumos/tast/local/chrome/internal/login/gaia.go",
        "patchSetId": 2
      },
      "lineNbr": 183,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-08-31T21:27:58Z",
      "side": 1,
      "message": "Thanks for your review and comments. Yes using CSS class is fragile. We now changed to find the \"Try again\" button using the\n```\ndiv[data-primary-action-label\u003d\"Try again\"]\n```\nselector. I think this should be pretty stable. Also, only when we see the \"Try again\" button we are ensured to call the Oobe.clickGaiaPrimaryButtonForTesting script to go back to sign page.",
      "parentUuid": "83de4e7f_6a23973a",
      "range": {
        "startLine": 183,
        "startChar": 47,
        "endLine": 183,
        "endChar": 53
      },
      "revId": "aa6d47728ee19d39d888684d3ff75acdae95019f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b302193_c35c030b",
        "filename": "src/chromiumos/tast/local/chrome/internal/login/gaia.go",
        "patchSetId": 2
      },
      "lineNbr": 183,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-09-02T08:38:02Z",
      "side": 1,
      "message": "Thanks, the new matcher looks nice. :)",
      "parentUuid": "c6134a62_32fd41c1",
      "range": {
        "startLine": 183,
        "startChar": 47,
        "endLine": 183,
        "endChar": 53
      },
      "revId": "aa6d47728ee19d39d888684d3ff75acdae95019f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89cf648f_199f9254",
        "filename": "src/chromiumos/tast/local/chrome/internal/login/gaia.go",
        "patchSetId": 2
      },
      "lineNbr": 195,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-08-31T03:16:28Z",
      "side": 1,
      "message": "Retry is not really an Authentication type, so it\u0027s odd to introduce this constant.\n\nCan we instead return a certain error when we see a retry screen? Just like:\n\n authType, err \u003d getAuthType(ctx, gaiaConn)\n if err \u003d\u003d errNeedRetry {\n   return err\n }\n if err !\u003d nil {\n   return testing.PollBreak(...)\n }",
      "range": {
        "startLine": 195,
        "startChar": 72,
        "endLine": 195,
        "endChar": 81
      },
      "revId": "aa6d47728ee19d39d888684d3ff75acdae95019f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "068b6c9d_86b605c5",
        "filename": "src/chromiumos/tast/local/chrome/internal/login/gaia.go",
        "patchSetId": 2
      },
      "lineNbr": 195,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-08-31T21:27:58Z",
      "side": 1,
      "message": "error errLoginRetry is defined based on your comments.",
      "parentUuid": "89cf648f_199f9254",
      "range": {
        "startLine": 195,
        "startChar": 72,
        "endLine": 195,
        "endChar": 81
      },
      "revId": "aa6d47728ee19d39d888684d3ff75acdae95019f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}