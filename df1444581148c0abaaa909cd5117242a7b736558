{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "97483cd1_514ec492",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1182889
      },
      "writtenOn": "2021-12-03T04:23:55Z",
      "side": 1,
      "message": "There are two ways to think about this test.\n\n1. \"It\u0027s an ml_service test\":\ni. We need a real on-device test that exercises this part of our daemon\u0027s Mojo API. \nii. Real on-device is needed because expected kinds of regressions (that we have already grappled in the past!) include execution_context_verification that cannot be properly tested in a unit test environment by definition.\niii. The Live Caption feature is a convenient way to do this test.\n\n2. \"It\u0027s a live caption test\":\ni. We need a regression test so the live caption feature doesn\u0027t stop working for users.\n\nI lean towards 2. and I think 2. is also more in the Tast spirit (though I think we have a good reason to use 1. if we wish, i.e. point 1.ii. above.\n\nIn summary, WDYT about putting this test in this directory instead?\nhttps://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast-tests/src/chromiumos/tast/local/a11y/\n\n+akihiroota who wrote some tests of other accessibility features in there.",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 9
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7c170f2_6d1417c9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1310429
      },
      "writtenOn": "2021-12-03T21:43:20Z",
      "side": 1,
      "message": "Thanks Andrew. I agree that this seems more like a live captions test in its current form. With that said, it feels appropriate to put this in an accessibility directory. I\u0027d probably rename the test to something like \u0027live_caption.go\u0027 and move it here [1], which is where all other accessibility tast tests live. \n\nAdditionally, you might be able to remove the audio file, since we already have one uploaded here [2]\n\n[1] https://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/a11y/\n\n[2] https://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/a11y/data/\n\nThanks and hope this helps!",
      "parentUuid": "97483cd1_514ec492",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 9
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d0b5274b_e3622249",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1308804
      },
      "writtenOn": "2021-12-05T23:58:59Z",
      "side": 1,
      "message": "Thanks both! I\u0027ll move it to a11y path.",
      "parentUuid": "e7c170f2_6d1417c9",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 9
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5849fc28_28ec1a38",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1308804
      },
      "writtenOn": "2021-12-02T22:23:10Z",
      "side": 1,
      "message": "Hi Judy, \nPTAL the new tast test for ondevice_speech.",
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8bae92c5_470dd304",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2021-12-02T22:35:43Z",
      "side": 1,
      "message": "Hi Xinglong, please get a +2 from your team member before assigning tast owners. Thanks!",
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4337a680_1518b881",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1308804
      },
      "writtenOn": "2021-12-02T22:41:24Z",
      "side": 1,
      "message": "Hi Andrew, PTAL",
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf2cd98e_220c7ad1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1182889
      },
      "writtenOn": "2021-12-03T04:23:55Z",
      "side": 1,
      "message": "+aki CC and for comment below on test location\n",
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff3d0529_9486072d",
        "filename": "src/chromiumos/tast/local/bundles/cros/mlservice/data/ondevice_speech.html",
        "patchSetId": 2
      },
      "lineNbr": 3,
      "author": {
        "id": 1182889
      },
      "writtenOn": "2021-12-03T04:23:55Z",
      "side": 1,
      "message": "Looped Audio ...",
      "range": {
        "startLine": 3,
        "startChar": 7,
        "endLine": 3,
        "endChar": 12
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "310645c2_e09553d7",
        "filename": "src/chromiumos/tast/local/bundles/cros/mlservice/data/ondevice_speech.html",
        "patchSetId": 2
      },
      "lineNbr": 3,
      "author": {
        "id": 1182889
      },
      "writtenOn": "2021-12-03T04:23:55Z",
      "side": 1,
      "message": "\"Live Caption\", if we go with option 2. above",
      "range": {
        "startLine": 3,
        "startChar": 26,
        "endLine": 3,
        "endChar": 41
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae1c1f54_2564132b",
        "filename": "src/chromiumos/tast/local/bundles/cros/mlservice/data/ondevice_speech.html",
        "patchSetId": 2
      },
      "lineNbr": 3,
      "author": {
        "id": 1308804
      },
      "writtenOn": "2021-12-05T23:58:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "310645c2_e09553d7",
      "range": {
        "startLine": 3,
        "startChar": 26,
        "endLine": 3,
        "endChar": 41
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3aae57e5_4cce4c3e",
        "filename": "src/chromiumos/tast/local/bundles/cros/mlservice/data/ondevice_speech.html",
        "patchSetId": 2
      },
      "lineNbr": 3,
      "author": {
        "id": 1308804
      },
      "writtenOn": "2021-12-05T23:58:59Z",
      "side": 1,
      "message": "It\u0027s no loop anymore.",
      "parentUuid": "ff3d0529_9486072d",
      "range": {
        "startLine": 3,
        "startChar": 7,
        "endLine": 3,
        "endChar": 12
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a480992_c0b18778",
        "filename": "src/chromiumos/tast/local/bundles/cros/mlservice/ondevice_speech.go",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 1182889
      },
      "writtenOn": "2021-12-03T04:23:55Z",
      "side": 1,
      "message": "suggest: \"the looped audio\"",
      "range": {
        "startLine": 79,
        "startChar": 32,
        "endLine": 79,
        "endChar": 35
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b15c96c4_493ef783",
        "filename": "src/chromiumos/tast/local/bundles/cros/mlservice/ondevice_speech.go",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 1308804
      },
      "writtenOn": "2021-12-05T23:58:59Z",
      "side": 1,
      "message": "it\u0027s no loop anymore.",
      "parentUuid": "7a480992_c0b18778",
      "range": {
        "startLine": 79,
        "startChar": 32,
        "endLine": 79,
        "endChar": 35
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0f2895b_5ce99c56",
        "filename": "src/chromiumos/tast/local/bundles/cros/mlservice/ondevice_speech.go",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1182889
      },
      "writtenOn": "2021-12-03T04:23:55Z",
      "side": 1,
      "message": "I *think* we need to do more than just check it exists. We need to check that it transcribes the correct text.\nThe reason is, if execution context is invalid, the library emits empty strings.\n\nAlthough mayyyyybe we can get away with this, since in case of empty string I think Live Caption may never bring up the bubble ....",
      "range": {
        "startLine": 87,
        "startChar": 43,
        "endLine": 87,
        "endChar": 104
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc530ebd_80f2931e",
        "filename": "src/chromiumos/tast/local/bundles/cros/mlservice/ondevice_speech.go",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1182889
      },
      "writtenOn": "2021-12-03T04:23:55Z",
      "side": 1,
      "message": "Seems pretty short, wouldn\u0027t be surprised if it could take longer than this for the DLC to be ready even though it\u0027s preloaded?",
      "range": {
        "startLine": 87,
        "startChar": 26,
        "endLine": 87,
        "endChar": 41
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4f1ba3d_306afe82",
        "filename": "src/chromiumos/tast/local/bundles/cros/mlservice/ondevice_speech.go",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1308804
      },
      "writtenOn": "2021-12-05T23:58:59Z",
      "side": 1,
      "message": "Remove the explicit timeout and use the default 15s.",
      "parentUuid": "fc530ebd_80f2931e",
      "range": {
        "startLine": 87,
        "startChar": 26,
        "endLine": 87,
        "endChar": 41
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9032e258_b847a644",
        "filename": "src/chromiumos/tast/local/bundles/cros/mlservice/ondevice_speech.go",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1308804
      },
      "writtenOn": "2021-12-05T23:58:59Z",
      "side": 1,
      "message": "Also check the content.\nJust it\u0027s a little bit fragile here. The only way to verify the text is \"nodewith.Name(\"Hello\").Role(role.StaticText)\", which passes with exact \"Hello\", not \"Hello.\", not \"hello\", not \"Hello, Hello\" (that\u0027s way I stop loop)...\n\nBut for now it works fine. Let\u0027s go with it, WDYT?\n\nIt now also waits for the bubble to disappear given the audio only plays once.",
      "parentUuid": "d0f2895b_5ce99c56",
      "range": {
        "startLine": 87,
        "startChar": 43,
        "endLine": 87,
        "endChar": 104
      },
      "revId": "df1444581148c0abaaa909cd5117242a7b736558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}