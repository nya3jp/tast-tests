{
  "comments": [
    {
      "key": {
        "uuid": "12d95b58_44e1a0d5",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1118689
      },
      "writtenOn": "2020-04-03T10:10:22Z",
      "side": 1,
      "message": "Drive by comment: Is there a better name we can use for this? I think we already have a shelf test that is even more basic than this. Why is this the sanity?",
      "range": {
        "startLine": 20,
        "startChar": 8,
        "endLine": 20,
        "endChar": 19
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af7b07e4_cb37e89b",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-04-05T19:25:15Z",
      "side": 1,
      "message": "This one exercises the basic shelf functionality (open/switch/close apps) so I just called it \u0027sanity\u0027, but I\u0027ll switch it to \"ShelfOpenCloseSwitchApps\" to be more descriptive.",
      "parentUuid": "12d95b58_44e1a0d5",
      "range": {
        "startLine": 20,
        "startChar": 8,
        "endLine": 20,
        "endChar": 19
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "593e08db_17bf3dc6",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1118689
      },
      "writtenOn": "2020-04-03T10:10:22Z",
      "side": 1,
      "message": "Could some/all of this be put in apps.go: type App Struct?",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 40,
        "endChar": 0
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03930261_7b3aa66a",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-04-05T19:25:15Z",
      "side": 1,
      "message": "Maybe we could put the window title in the App struct, renamed to something like \"InitialWindowTitle\". Would having the ShelfBtn field be useful though? It seems like the one one in apps.go is mostly used for static information about the apps. I just added this struct here since it helped me clean up the test structure into a few loops.",
      "parentUuid": "593e08db_17bf3dc6",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 40,
        "endChar": 0
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25af41b1_f28b9175",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-03-31T19:48:55Z",
      "side": 1,
      "message": "You can probably poll ash.ShelfItems to see if the Files app is pinned yet.",
      "range": {
        "startLine": 66,
        "startChar": 1,
        "endLine": 66,
        "endChar": 32
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6b073a1_36af46ed",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-04-02T01:54:11Z",
      "side": 1,
      "message": "I tried this out but with no luck. I waited for ShelfItem\u0027s with Type: \"PinnedApp\" and Title field corresponding to the app names, but it wasn\u0027t a better readiness indicator. I also tried checking the \"IsAnimating\" property of the ScrollableShelfInfoClass as another possibility, but that didn\u0027t work either.\n\nI could possibly poll for the coordinates of the shelf icons until they\u0027re all non-overlapping, or at least until Chrome is to the left of its initial position. That seems a bit like overkill, though. Not sure what else to try though, any other thoughts?",
      "parentUuid": "25af41b1_f28b9175",
      "range": {
        "startLine": 66,
        "startChar": 1,
        "endLine": 66,
        "endChar": 32
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ddee35a2_741aefc9",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-04-02T23:43:35Z",
      "side": 1,
      "message": "Instead of putting a TODO with your ldap, can you create a bug for both of these comments(1 bug is good for both)",
      "parentUuid": "b6b073a1_36af46ed",
      "range": {
        "startLine": 66,
        "startChar": 1,
        "endLine": 66,
        "endChar": 32
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1f237bd_db2f1e61",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1118689
      },
      "writtenOn": "2020-04-03T10:10:22Z",
      "side": 1,
      "message": "Why was it not a better readiness indicator? Can you give a bit more detail?",
      "parentUuid": "ddee35a2_741aefc9",
      "range": {
        "startLine": 66,
        "startChar": 1,
        "endLine": 66,
        "endChar": 32
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1d71d7a_a5c13fb0",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-04-05T19:25:15Z",
      "side": 1,
      "message": "With both checks above, the test was still flaky. The shelf can still be animating even when Files appears as a \"PinnedApp\" in ash.ShelfItems, and likewise for the \"IsAnimating\" property. The test will fail when trying to click the Chrome shelf button. You\u0027ll see the cursor in the middle of the shelf between the two app icons, since the next line gets the Chrome button AutomationNode before the animation finishes, and it\u0027s still in its initial position.\n\nI emailed one of the devs from the UI team and he had some ideas for this, and there might be a function that landed in a later version that we could possibly use for checking the shelf animation. I\u0027ll try that out and see if it works. If not, we\u0027ll need to come up with a different solution (and one for the context menu).",
      "parentUuid": "a1f237bd_db2f1e61",
      "range": {
        "startLine": 66,
        "startChar": 1,
        "endLine": 66,
        "endChar": 32
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d53159c4_3c413683",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-03-31T19:48:55Z",
      "side": 1,
      "message": "Might be good to look at the state when you call FindFithTimeout. Make sure it isn\u0027t invisible and that it is onscreen. That may fix this.",
      "range": {
        "startLine": 124,
        "startChar": 5,
        "endLine": 124,
        "endChar": 76
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "525a014a_7f692d8d",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-04-02T01:54:11Z",
      "side": 1,
      "message": "Also no luck here. The \u0027Close\u0027 button seems to never have a state. I tried adding a check for state in FindParams but then it won\u0027t find anything, and its state is always {} when dumping the tree at various points.\n\nThe only other non-sleep alternative I came up with that worked is to poll clicking the close button, but that basically just seems like the Sleep option with extra steps",
      "parentUuid": "d53159c4_3c413683",
      "range": {
        "startLine": 124,
        "startChar": 5,
        "endLine": 124,
        "endChar": 76
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dadd753f_d112ade4",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/shelf_sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-04-05T19:25:15Z",
      "side": 1,
      "message": "I asked andrewxu@ about this one, and there\u0027s no API available now for checking the context menu animation state, so we\u0027ll need to add something later for this. I\u0027ll make a bug for this task.",
      "parentUuid": "525a014a_7f692d8d",
      "range": {
        "startLine": 124,
        "startChar": 5,
        "endLine": 124,
        "endChar": 76
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c885623f_e8d3bc9f",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 1
      },
      "lineNbr": 348,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-03-31T01:48:00Z",
      "side": 1,
      "message": "\u003e \"specifed\" is a possible misspelling of \"specified\".\n\nPlease fix.",
      "parentUuid": "91104e42_dcf0b901",
      "range": {
        "startLine": 348,
        "startChar": 38,
        "endLine": 348,
        "endChar": 46
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f77ecec3_21543927",
        "filename": "src/chromiumos/tast/local/chrome/ash/shelf.go",
        "patchSetId": 1
      },
      "lineNbr": 348,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-04-02T01:54:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c885623f_e8d3bc9f",
      "range": {
        "startLine": 348,
        "startChar": 38,
        "endLine": 348,
        "endChar": 46
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "66efd3a1_605c0dc0",
        "filename": "src/chromiumos/tast/local/chrome/ash/wm.go",
        "patchSetId": 1
      },
      "lineNbr": 371,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-03-31T19:48:55Z",
      "side": 1,
      "message": "This is the same as WaitForCondition?",
      "range": {
        "startLine": 371,
        "startChar": 5,
        "endLine": 371,
        "endChar": 18
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23238af9_bdeeb550",
        "filename": "src/chromiumos/tast/local/chrome/ash/wm.go",
        "patchSetId": 1
      },
      "lineNbr": 371,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-04-02T01:54:11Z",
      "side": 1,
      "message": "Indeed...somehow missed that other function haha. Will be removed in next patch set.",
      "parentUuid": "66efd3a1_605c0dc0",
      "range": {
        "startLine": 371,
        "startChar": 5,
        "endLine": 371,
        "endChar": 18
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dabfbb6f_e3b6930b",
        "filename": "src/chromiumos/tast/local/chrome/ash/wm.go",
        "patchSetId": 1
      },
      "lineNbr": 374,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-03-31T19:48:55Z",
      "side": 1,
      "message": "This should be based on the err not the window:\nif err !\u003d nil {",
      "range": {
        "startLine": 374,
        "startChar": 4,
        "endLine": 374,
        "endChar": 18
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "072aface_1ada4e02",
        "filename": "src/chromiumos/tast/local/chrome/ash/wm.go",
        "patchSetId": 1
      },
      "lineNbr": 374,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-04-02T01:54:11Z",
      "side": 1,
      "message": "Okay, will keep that in mind. Will be removing this function in the next patch as I can just use WaitForCondition",
      "parentUuid": "dabfbb6f_e3b6930b",
      "range": {
        "startLine": 374,
        "startChar": 4,
        "endLine": 374,
        "endChar": 18
      },
      "revId": "5bf51e0792ce748f01cc6e24f9a133559333e8af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}