{
  "comments": [
    {
      "key": {
        "uuid": "f00d31c6_d480792d",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 42,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-02-20T22:59:48Z",
      "side": 1,
      "message": "do you really get much value out of the separated \"config\" representation? It has only 1 option, but then the only way to use it (NewServer) has many more.\n\nRelated: I wonder about the Server type: it has NewServer(), start() (non-public) and Stop() -- I\u0027m thinking it might be clearer to have Start() be public, so the caller can do the \"create\" separate from the \"start\" -- this might get more complex depending on how we want to bridging.",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 42,
        "endChar": 1
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ffb057ba_61412bae",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 42,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-02-25T03:06:55Z",
      "side": 1,
      "message": "Config is removed now. the IP range is passed directly into constructor.\nAlso, I change start to be public which does not increase much complexity on the caller side (as New does not have error). It can slightly reduce the long input.\n\nI\u0027m wondering if iface can also be moved to Start...",
      "parentUuid": "f00d31c6_d480792d",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 42,
        "endChar": 1
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7114d3ff_76448839",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 122,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-02-20T22:59:48Z",
      "side": 1,
      "message": "random thought: is there any benefit to writing out this file, rather than using \"--conf-file\u003d-\" (i.e., stdin)? One fewer thing to clean up that way.",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 122,
        "endChar": 2
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37ea0128_eb04ad43",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 122,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-02-21T11:15:20Z",
      "side": 1,
      "message": "Thanks for the suggestion. Let me put a TODO here at least for now.",
      "parentUuid": "7114d3ff_76448839",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 122,
        "endChar": 2
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b335b5de_0798c2ab",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 160,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-02-20T22:59:48Z",
      "side": 1,
      "message": "It\u0027d be nice to kill this pattern of pkill usage. (Among the reasons: it requires us to stick an otherwise-not-really-needed identifier in the command line. See my thoughts at line 120.) Is there no way to get the PID of the process we launched instead?\n\nIf it\u0027s that hard...well, I guess we can stick with this \"temporarily\" (until the TODO at line 159 is resolved).",
      "range": {
        "startLine": 160,
        "startChar": 0,
        "endLine": 160,
        "endChar": 90
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a4a3eb5_047c3025",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 160,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-02-21T11:15:20Z",
      "side": 1,
      "message": "Hmm..., I tried a little bit when I first met crbug.com/1030635, but I didn\u0027t find an easy way to obtain the command\u0027s pid.",
      "parentUuid": "b335b5de_0798c2ab",
      "range": {
        "startLine": 160,
        "startChar": 0,
        "endLine": 160,
        "endChar": 90
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9105b1ae_e3bdb297",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 164,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-02-20T22:59:48Z",
      "side": 1,
      "message": "is this sort of nil-ification pattern typical of \"destruction\" operations like this? I\u0027m genuinely curious.\n\nI see it helps with the cleanup in start().",
      "range": {
        "startLine": 164,
        "startChar": 0,
        "endLine": 164,
        "endChar": 13
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e959121_41ba2b79",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 164,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-02-21T11:15:20Z",
      "side": 1,
      "message": "I think I didn\u0027t see a written guideline on this. I checked some related code and they have different styles:\n- built-in net.conn.Close does not nullify its member.\n- built-in \n- tast/host/DUT.Close does nullify its member.\n- tast/host/SSH.Close does not nullify. (reasonable for its async handling)\n\nI did the assign here partly because \"d.cmd ?\u003d nil\" is used as simplified \"state\" indication, and I want to update it after Wait (to \"not started\").",
      "parentUuid": "9105b1ae_e3bdb297",
      "range": {
        "startLine": 164,
        "startChar": 0,
        "endLine": 164,
        "endChar": 13
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c429c6f_38a2097e",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 187,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-02-20T22:59:48Z",
      "side": 1,
      "message": "It\u0027s a little unclear to me who should \"own\" this piece -- this isn\u0027t really just the DHCP server IP, it\u0027s the IP of the interface, which is used for plenty others (as your Router CL shows: you wrap it in HostAPHandle too).\n\nMaybe this should just be an input config parameter, and not exposed publicly at all?\n\nAlong that line: maybe there\u0027s room to expand the \"HostAPHandle\" (next CL) to do more interface management? It\u0027s not clear that the local IP configuration + flushing really belong in the \"DHCP server\" object -- the DHCP server doesn\u0027t really care what IP address it has, as long as it has one on the right subnet.\n\n(Then, if you move the local IP mgmt out of this object...you don\u0027t need ServerIP() at all.)",
      "range": {
        "startLine": 184,
        "startChar": 0,
        "endLine": 187,
        "endChar": 1
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cfb04282_2e13897e",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 187,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-02-21T11:15:20Z",
      "side": 1,
      "message": "Sounds nice. I\u0027ll try to move them to HostAPHandle.",
      "parentUuid": "0c429c6f_38a2097e",
      "range": {
        "startLine": 184,
        "startChar": 0,
        "endLine": 187,
        "endChar": 1
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a925cfa1_1cf63802",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 187,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-02-25T03:06:55Z",
      "side": 1,
      "message": "After moving the interface configuration to HostAPHandle. This object now only focus on running dnsmasq daemon.",
      "parentUuid": "cfb04282_2e13897e",
      "range": {
        "startLine": 184,
        "startChar": 0,
        "endLine": 187,
        "endChar": 1
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c5775d6_825e0557",
        "filename": "src/chromiumos/tast/remote/wifi/dhcp/server.go",
        "patchSetId": 7
      },
      "lineNbr": 187,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-02-27T06:00:05Z",
      "side": 1,
      "message": "Yeah, that was my intention (to focus on dnsmasq) -- that makes this packages about the DHCP server, and not about any of the rest of the interface configuration.",
      "parentUuid": "a925cfa1_1cf63802",
      "range": {
        "startLine": 184,
        "startChar": 0,
        "endLine": 187,
        "endChar": 1
      },
      "revId": "93a5f124d7e66ab5b4428c7140b84f3e6aff424c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}