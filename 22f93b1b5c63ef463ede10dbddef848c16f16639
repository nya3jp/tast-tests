{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a4b98cff_94a9a7dc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1405522
      },
      "writtenOn": "2022-07-20T00:38:31Z",
      "side": 1,
      "message": "LGTM. Thanks!",
      "revId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "25dadc04_eed7835f",
        "filename": "src/chromiumos/tast/remote/wificell/router/openwrt/router.go",
        "patchSetId": 4
      },
      "lineNbr": 273,
      "author": {
        "id": 1405522
      },
      "writtenOn": "2022-07-19T22:34:39Z",
      "side": 1,
      "message": "Nit: Dup comments. Maybe only leave the first line here?",
      "range": {
        "startLine": 266,
        "startChar": 0,
        "endLine": 273,
        "endChar": 18
      },
      "revId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68c34157_2eb2ce87",
        "filename": "src/chromiumos/tast/remote/wificell/router/openwrt/router.go",
        "patchSetId": 4
      },
      "lineNbr": 273,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2022-07-19T22:57:54Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "25dadc04_eed7835f",
      "range": {
        "startLine": 266,
        "startChar": 0,
        "endLine": 273,
        "endChar": 18
      },
      "revId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d011d4e3_45b4cd4c",
        "filename": "src/chromiumos/tast/remote/wificell/router/openwrt/router.go",
        "patchSetId": 4
      },
      "lineNbr": 273,
      "author": {
        "id": 1530777
      },
      "writtenOn": "2022-07-20T00:02:29Z",
      "side": 1,
      "message": "It is my understanding that if you don\u0027t copy the whole comment then users of the function implementation do not see it. I\u0027d want this information both present in the interface as well as this implementation since it is important.",
      "parentUuid": "68c34157_2eb2ce87",
      "range": {
        "startLine": 266,
        "startChar": 0,
        "endLine": 273,
        "endChar": 18
      },
      "revId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68bd6378_31478f7f",
        "filename": "src/chromiumos/tast/remote/wificell/router/openwrt/router.go",
        "patchSetId": 4
      },
      "lineNbr": 274,
      "author": {
        "id": 1405522
      },
      "writtenOn": "2022-07-19T22:34:39Z",
      "side": 1,
      "message": "How can test controller determine if the router has been booted up? Do you need a wait check here and return when router is up or time out?",
      "revId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bad61094_619cdccf",
        "filename": "src/chromiumos/tast/remote/wificell/router/openwrt/router.go",
        "patchSetId": 4
      },
      "lineNbr": 274,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2022-07-19T22:57:54Z",
      "side": 1,
      "message": "IIUC, I think @Jared is only starting the reboot process here and in the next CL the function `rebootRouter` should wait for the router to start again.\n\nI am curious, why do we need to reboot the router between tests? Is there an existing issue? I think having a fixed sleep time then trying to reconnect will be flaky. Also, this will increase the runtime of the tests significantly.",
      "parentUuid": "68bd6378_31478f7f",
      "revId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1daf4d28_933749ec",
        "filename": "src/chromiumos/tast/remote/wificell/router/openwrt/router.go",
        "patchSetId": 4
      },
      "lineNbr": 274,
      "author": {
        "id": 1530777
      },
      "writtenOn": "2022-07-20T00:02:29Z",
      "side": 1,
      "message": "Currently I have not found a reliable way determine if a reboot has completed, so a wait is used. This is handled in the [next CL](https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/3771027/4?usp\u003drelated-change) outside of the Router implementation because only the test fixture has the ability to recreate the ssh connection. Also, I\u0027ve created b:239583375 to look into optimizing this.\n\nWe wanted to avoid having to reboot the router between tests but these OpenWrt routers\u0027 drivers just did not prove to be stable enough when we make a bunch of changes to their wireless configs like we do in our tests. We already ran into one driver issue that was really hard to figure out and likely there are and will be others. Instead of fixing every random router bug with OpenWrt routers, we opted for the tried and true way of ensuring a router is in a good, fresh state: rebooting. It works, and works consistently, after a reboot, which is not something we\u0027ve been able to accomplish reliably by other reset/reinit process. At the end of the day, we aren\u0027t trying to test routers but just use them for testing duts, so a reboot allows us to lessen the impact of router bugs and stay focused on the dut.",
      "parentUuid": "bad61094_619cdccf",
      "revId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d987e519_32ba7e99",
        "filename": "src/chromiumos/tast/remote/wificell/router/openwrt/router.go",
        "patchSetId": 4
      },
      "lineNbr": 274,
      "author": {
        "id": 1405522
      },
      "writtenOn": "2022-07-20T00:38:31Z",
      "side": 1,
      "message": "Thanks for the explanation.",
      "parentUuid": "1daf4d28_933749ec",
      "revId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Owners",
        "description": {
          "value": "User with the code owner override approved the change"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "has:enabled_code-owners"
          }
        },
        "submittabilityExpression": {
          "expressionString": "has:approval_code-owners"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Owners-Override\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:enabled_code-owners"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:enabled_code-owners"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:approval_code-owners"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:approval_code-owners"],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Owners-Override=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Owners-Override=+1"]}
      },
      "patchSetCommitId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "Submit requirement for the \u0027Code-Review\u0027 label"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["is:review-enforced_gerrit"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforcement-satisfied_gerrit"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {
        "value": true
      }
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "CI or human verified the change"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Verified=MAX"],"failingAtoms":["label:Verified=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "22f93b1b5c63ef463ede10dbddef848c16f16639",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}