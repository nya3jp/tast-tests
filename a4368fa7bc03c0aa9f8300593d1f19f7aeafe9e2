{
  "comments": [
    {
      "key": {
        "uuid": "62402943_075a69ce",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/drivefs.go",
        "patchSetId": 5
      },
      "lineNbr": 31,
      "author": {
        "id": 1413373
      },
      "writtenOn": "2020-06-17T23:22:31Z",
      "side": 1,
      "message": "Need to add drivefs as a SoftwareDeps\nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/refs/heads/master/docs/test_dependencies.md",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3f4c6ea_ae16b021",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/drivefs.go",
        "patchSetId": 5
      },
      "lineNbr": 31,
      "author": {
        "id": 1237241
      },
      "writtenOn": "2020-06-22T05:43:02Z",
      "side": 1,
      "message": "And chrome_internal too",
      "parentUuid": "62402943_075a69ce",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c83beb2_1a280f41",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/drivefs.go",
        "patchSetId": 5
      },
      "lineNbr": 31,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-06-22T16:42:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c3f4c6ea_ae16b021",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffba481d_9e10e90b",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/drivefs.go",
        "patchSetId": 5
      },
      "lineNbr": 63,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-06-17T16:14:31Z",
      "side": 1,
      "message": "I think you\u0027d need to update Timeout (maybe 5min), since booting ARC takes long time.",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "05ed8c80_813ded83",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/drivefs.go",
        "patchSetId": 5
      },
      "lineNbr": 63,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-06-22T16:42:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ffba481d_9e10e90b",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7304204d_d9ad3b64",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 25,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2020-06-17T15:48:39Z",
      "side": 1,
      "message": "ditto below: move it to L66?",
      "range": {
        "startLine": 25,
        "startChar": 1,
        "endLine": 25,
        "endChar": 34
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a94d647_6480dc95",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 25,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-06-22T16:42:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7304204d_d9ad3b64",
      "range": {
        "startLine": 25,
        "startChar": 1,
        "endLine": 25,
        "endChar": 34
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0241c028_c0befe56",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 29,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2020-06-17T15:48:39Z",
      "side": 1,
      "message": "nit: it seems that this const is used only in one func.\nwhen that\u0027s the case, it is better to move it closer to where it is used.\ne.g: you can move it to L76",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 32
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d97617e7_3c9dde1e",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 29,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-06-22T16:42:48Z",
      "side": 1,
      "message": "fileWaitTime is removed",
      "parentUuid": "0241c028_c0befe56",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 32
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d1536f97_eb1facaf",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 61,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2020-06-17T15:48:39Z",
      "side": 1,
      "message": "nit, style:\nUnfortunately golang doesn\u0027t support rich docstrings. Just remove the \"|\" from the docstring.",
      "range": {
        "startLine": 61,
        "startChar": 3,
        "endLine": 61,
        "endChar": 8
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12b69d6c_e9a0a035",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 61,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-06-22T16:42:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d1536f97_eb1facaf",
      "range": {
        "startLine": 61,
        "startChar": 3,
        "endLine": 61,
        "endChar": 8
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c968add_2bf7a95b",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2020-06-17T15:48:39Z",
      "side": 1,
      "message": "a)\nit is not clear why this sleep is needed.\n\nWaiting for a fixed. amount of time has:\n - could be flaky: what if more time is needed?\n - if it is waiting unneeded time it wastes lab resources.\n\nIn this case, it seems that doing a Poll + os.stat might work?\n\nIn some cases, using a sleep is a valid case.\n\n\nb)\ndon\u0027t ignore the errors. testing.Sleep() might fail if the context runs out of time.",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 76,
        "endChar": 33
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f246cc83_d987dacd",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-06-17T16:08:56Z",
      "side": 1,
      "message": "Thanks.\n\nPlease refer to the discussion in patch 3 on uiTimeout:\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/2237571/3/src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go\n\nI\u0027m investigating why the UI item doesn\u0027t show up sometimes.\nTried using os.stat, but it returned success even though the UI item could not show up at the end.\nNeed to look further into intents handling that populates those UI items.",
      "parentUuid": "3c968add_2bf7a95b",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 76,
        "endChar": 33
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac1f345a_5d5fbb47",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-06-17T16:14:31Z",
      "side": 1,
      "message": "Instead of Sleep, could you Poll, until the file is created?",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84bf1f82_7b339f7b",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-06-18T06:50:55Z",
      "side": 1,
      "message": "The file is there and os.stat returns success, too.\nBut open with app button doesn\u0027t show up.",
      "parentUuid": "ac1f345a_5d5fbb47",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a990a7b9_b03ea3d8",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2020-06-18T07:00:14Z",
      "side": 1,
      "message": "Could this be because intent_helper.mojom connection was not established yet?",
      "parentUuid": "84bf1f82_7b339f7b",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00a7a28a_5344ec50",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-06-18T07:49:48Z",
      "side": 1,
      "message": "Looks like ArcIntentHelperService is up, too.\n\n06-18 16:28:44.920  1659  1659 I ArcIntentHelperService: Handling android.intent.action.BOOT_COMPLETED...\n06-18 16:28:44.936   334   384 I ArcBridgeService: ArcBridgeHostProxy connection for process 1659 established\n06-18 16:28:44.946  1659  2804 I ArcIntentHelperService: Bridge ready.\n06-18 16:28:44.973  1659  2804 I ArcIntentHelperService: Host init.\n06-18 16:28:44.989  1659  2804 I ArcIntentHelperService: Host version 36\n\n2020/06/18 16:29:03 [16:29:02.226] Error at storage.go:84: Could not open file with ArcFileReaderTest: failed to find the Open menu button: context deadline exceeded; last error follows: node does not exist",
      "parentUuid": "a990a7b9_b03ea3d8",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f0e32ae_90a6054b",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2020-06-18T21:24:17Z",
      "side": 1,
      "message": "Do you see the intent_helper.mojom method call on the Android side? The query happens when the file is selected in Files.app, so it might take some time for the button to appear because the method call is async.",
      "parentUuid": "00a7a28a_5344ec50",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84d215ca_2aa67683",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-06-22T16:42:48Z",
      "side": 1,
      "message": "Changed to use polling.\nPlease see the comment below.",
      "parentUuid": "f246cc83_d987dacd",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 76,
        "endChar": 33
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "709162ba_07c3e965",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-06-22T16:42:48Z",
      "side": 1,
      "message": "Created b/159522677, crbug/1097567, b/159582246 to investigate and have some initial findings.\nAdded some TODOs. I will use Poll() until they are resolved.\nWith polling, it usually succeeds in the 2nd / 3rd attempt, taking 20 sec more.",
      "parentUuid": "2f0e32ae_90a6054b",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f9e6211_b1817afb",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-07-16T14:40:19Z",
      "side": 1,
      "message": "Please see update below.",
      "parentUuid": "84d215ca_2aa67683",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 76,
        "endChar": 33
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c25959c2_76c505cb",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-07-16T14:40:19Z",
      "side": 1,
      "message": "Update: I\u0027ve removed the polling code.\n\nb/159522677: waitForFileType() can mitigate the issue. The correct MIME type is passed to android now. But the \u0027Open with android app\u0027 button is still missing sometimes, though rarely. Will need to keep the workaround in AndroidManifest.xml: \u003cdata android:mimeType\u003d\"*/*\" /\u003e until the root cause is found.\n\ncrbug/1097567: Wait for Drive FS banner to appear can prevent flakiness in file selection.\n\nb/159582246: This is a bug. Will be fixed by https://chromium-review.googlesource.com/c/chromium/src/+/2287898",
      "parentUuid": "709162ba_07c3e965",
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "143ade0f_53dbbc75",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 184,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2020-06-17T15:48:39Z",
      "side": 1,
      "message": "nit, style:\n\nwhenever possible try to return errors in a single sentence. and usually we use the \"got ; want\" instead of \"actual, expected\".\n\ne.g:\n\"unexpected label: got %s, want %s\" (or something like that)",
      "range": {
        "startLine": 184,
        "startChar": 24,
        "endLine": 184,
        "endChar": 81
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f738cc18_60084090",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/storage/storage.go",
        "patchSetId": 5
      },
      "lineNbr": 184,
      "author": {
        "id": 1376195
      },
      "writtenOn": "2020-06-22T16:42:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "143ade0f_53dbbc75",
      "range": {
        "startLine": 184,
        "startChar": 24,
        "endLine": 184,
        "endChar": 81
      },
      "revId": "a4368fa7bc03c0aa9f8300593d1f19f7aeafe9e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}