{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "cbb8a861_a2e71416",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001485
      },
      "writtenOn": "2021-09-01T04:16:53Z",
      "side": 1,
      "message": "We can not run test in the lab that would generate noise.\nYou will need to either play the silent file, or silencing the output in the beginning.\nAlso, it is better to generate the file on the fly and remove it to avoid 1MB overhead to all the people who sync the code. ",
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8a9ea23_df7d2b11",
        "filename": "src/chromiumos/tast/local/audio/cras.go",
        "patchSetId": 2
      },
      "lineNbr": 258,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "Please name these return values, it will make it clear which one is deviceName and which is deviceType without reading the body.",
      "range": {
        "startLine": 258,
        "startChar": 72,
        "endLine": 258,
        "endChar": 86
      },
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e77980e1_05f298e4",
        "filename": "src/chromiumos/tast/local/audio/cras.go",
        "patchSetId": 2
      },
      "lineNbr": 260,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "nit:\nvar deviceName, deviceType string\n\n(Or even better, when you name the above return values, you can drop this entirely.)",
      "range": {
        "startLine": 259,
        "startChar": 1,
        "endLine": 260,
        "endChar": 17
      },
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5e7895d_71aa8f74",
        "filename": "src/chromiumos/tast/local/audio/cras.go",
        "patchSetId": 2
      },
      "lineNbr": 282,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "I don\u0027t think this does what you intended. This will remove all characters from the Set {O,u,t,p,u,t, ,d,e,v,:} from the start and end of output.\n\nSee: https://pkg.go.dev/strings#Trim",
      "range": {
        "startLine": 282,
        "startChar": 37,
        "endLine": 282,
        "endChar": 80
      },
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77859382_a022620f",
        "filename": "src/chromiumos/tast/local/audio/cras.go",
        "patchSetId": 2
      },
      "lineNbr": 289,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "regexp.Compile(...) inside a method is not very useful as it will cause the regexp to be recompiled every time.\n\nPrefer to move to the top of the file as:\n```\nvar myRegex \u003d regexp.MustCompile(\":(\\\\d),(\\\\d)\")\n```",
      "range": {
        "startLine": 289,
        "startChar": 1,
        "endLine": 289,
        "endChar": 39
      },
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f89d21e6_94eda6ea",
        "filename": "src/chromiumos/tast/local/audio/cras.go",
        "patchSetId": 2
      },
      "lineNbr": 290,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "prefer to replace this by checking the result of FindStringSubmatch that you cached is nil (see comment below).\n\nSee https://pkg.go.dev/regexp#Regexp.FindStringSubmatch.",
      "range": {
        "startLine": 290,
        "startChar": 4,
        "endLine": 290,
        "endChar": 30
      },
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "908e594b_f0a877dd",
        "filename": "src/chromiumos/tast/local/audio/cras.go",
        "patchSetId": 2
      },
      "lineNbr": 294,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "prefer to run the regexp only once, store its results, and then access the matched subexpressions one by one.",
      "range": {
        "startLine": 294,
        "startChar": 12,
        "endLine": 294,
        "endChar": 50
      },
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6272644b_a2f50343",
        "filename": "src/chromiumos/tast/local/audio/cras.go",
        "patchSetId": 2
      },
      "lineNbr": 295,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "Since you are only ever accessing the first match, prefer to use FindStringSubmatch:\nhttps://pkg.go.dev/regexp#Regexp.FindStringSubmatch",
      "range": {
        "startLine": 295,
        "startChar": 49,
        "endLine": 295,
        "endChar": 52
      },
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72bd6e40_1253f58b",
        "filename": "src/chromiumos/tast/local/audio/cras.go",
        "patchSetId": 2
      },
      "lineNbr": 300,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "nit: this line is a little long, consider assigning this to a variable and then using it\n\ni.e. \ncmd :\u003d fmt.Sprintf(....)\noutput, err :\u003d testexec.CommandContext(..., cmd).Output()",
      "range": {
        "startLine": 300,
        "startChar": 57,
        "endLine": 300,
        "endChar": 107
      },
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc0e5e45_72d52cb4",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/data/audio_file.mp3",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "We prefer not to check-in large binary files into source control as it slows down git. \n\nAre you able to upload this file to the chromiumos-test-assets-public Google Storage bucket and include it via a .external file as described in [1], e.g.:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/crostini/data/launcher_x11_demo.png.external\n\n[1] https://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#External-data-files",
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "803c80a9_70152fb9",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/local_audio_playback.go",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "Prefer to promote this method to the top level, rather than leaving it nested inside your test method.\n\nNested methods often make it harder to understand the methods they are nested inside as they can use and modify variables in the parent method. This means the reader must read the nested method in conjunction with the parent method rather than separately.\n\nThis method appears to be a straightforward copy method, so there should be no difficulty moving it.",
      "range": {
        "startLine": 53,
        "startChar": 1,
        "endLine": 53,
        "endChar": 38
      },
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a4f2faf_3ed4bcff",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/local_audio_playback.go",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "Prefer to include detailed error when logging:\ns.Fatal(\"Failed ... folder: \", err)",
      "range": {
        "startLine": 79,
        "startChar": 71,
        "endLine": 79,
        "endChar": 72
      },
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "689c93c3_a151d74a",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/local_audio_playback.go",
        "patchSetId": 2
      },
      "lineNbr": 101,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "This may return an error (e.g. due to context timeout), prefer to check for it rather than ignore it.\n\nhttps://github.com/golang/go/wiki/CodeReviewComments#handle-errors",
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb1c016f_193e290b",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/local_audio_playback.go",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "Prefer to promote this method to the top-level, rather than leaving it nested inside the parent method (LocalAudioPlayback). You will likely need to modify the method parameters to pass ctx and expectedAudioNode.",
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2fc4123e_90cfab12",
        "filename": "src/chromiumos/tast/local/bundles/cros/audio/local_audio_playback.go",
        "patchSetId": 2
      },
      "lineNbr": 130,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-09-01T05:04:22Z",
      "side": 1,
      "message": "uber nit: The punctuation in this log message seems a bit unusual (lack of space after \":\", no clear delineation of the end of the Audio device name).\n\nI wonder if printing it out over two lines might look nicer:\ns.Logf(\"Audio device name: %s\", audioDeviceName)\ns.Logf(\"Audio device type: %s\", audioDeviceType)",
      "range": {
        "startLine": 130,
        "startChar": 9,
        "endLine": 130,
        "endChar": 50
      },
      "revId": "9029d55dfc916c5c15f5ea9ba9e09ed17e6f86d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}