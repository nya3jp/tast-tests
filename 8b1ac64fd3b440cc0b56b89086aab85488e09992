{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "abeaac44_f602b8d3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 1430497
      },
      "writtenOn": "2021-08-06T11:58:51Z",
      "side": 1,
      "message": "@Alex can you please provide CQ+2 for this patch?\n\nThanks",
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ff0e482_7f6b01f7",
        "filename": "src/chromiumos/tast/local/bundles/cros/typec/tbt_hotplug_unplug.go",
        "patchSetId": 13
      },
      "lineNbr": 31,
      "author": {
        "id": 1181774
      },
      "writtenOn": "2021-08-09T02:38:42Z",
      "side": 1,
      "message": "I think we should remove this for now. We don\u0027t want this running in the typec_lab since the right infrastructure is not in place yet, so we should not schedule it just yet.",
      "range": {
        "startLine": 31,
        "startChar": 40,
        "endLine": 31,
        "endChar": 51
      },
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a90e4f0a_348002fc",
        "filename": "src/chromiumos/tast/local/bundles/cros/typec/tbt_hotplug_unplug.go",
        "patchSetId": 13
      },
      "lineNbr": 31,
      "author": {
        "id": 1430497
      },
      "writtenOn": "2021-08-10T07:50:06Z",
      "side": 1,
      "message": "Can you please suggest right group?",
      "parentUuid": "3ff0e482_7f6b01f7",
      "range": {
        "startLine": 31,
        "startChar": 40,
        "endLine": 31,
        "endChar": 51
      },
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b88a0b4a_891d220d",
        "filename": "src/chromiumos/tast/local/bundles/cros/typec/tbt_hotplug_unplug.go",
        "patchSetId": 13
      },
      "lineNbr": 31,
      "author": {
        "id": 1181774
      },
      "writtenOn": "2021-08-10T07:57:27Z",
      "side": 1,
      "message": "You can leave it without the `typec_lab` group for now (not just this test, but the other tests in this series too). The type C \"lab\" lacks the appropriate infrastructure to run these tests (and the invocations aren\u0027t straightforward either). Frank Lin (flin@) will need to take a look to see how these can be supported.",
      "parentUuid": "a90e4f0a_348002fc",
      "range": {
        "startLine": 31,
        "startChar": 40,
        "endLine": 31,
        "endChar": 51
      },
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e1a0e996_b9a67a59",
        "filename": "src/chromiumos/tast/local/bundles/cros/typec/tbt_hotplug_unplug.go",
        "patchSetId": 13
      },
      "lineNbr": 31,
      "author": {
        "id": 1446889
      },
      "writtenOn": "2021-08-10T13:25:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b88a0b4a_891d220d",
      "range": {
        "startLine": 31,
        "startChar": 40,
        "endLine": 31,
        "endChar": 51
      },
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "814feaf9_6b584e9e",
        "filename": "src/chromiumos/tast/local/bundles/cros/typec/tbt_hotplug_unplug.go",
        "patchSetId": 13
      },
      "lineNbr": 36,
      "author": {
        "id": 1181774
      },
      "writtenOn": "2021-08-06T22:24:45Z",
      "side": 1,
      "message": "How are you ensuring that the peripheral switches to TBT mode after login? Are you ensuring that the DevicePciPeripheralDataAccessEnabled Device setting is set to true, prior to login? If not, then a TBT device which *does* support USB+DP alt mode will never enter TBT mode.\n\nCan you verify this works with such a dock, for example, Dell WD19TB ?",
      "range": {
        "startLine": 36,
        "startChar": 16,
        "endLine": 36,
        "endChar": 34
      },
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00733c18_d4a0013e",
        "filename": "src/chromiumos/tast/local/bundles/cros/typec/tbt_hotplug_unplug.go",
        "patchSetId": 13
      },
      "lineNbr": 36,
      "author": {
        "id": 1430497
      },
      "writtenOn": "2021-08-10T07:50:06Z",
      "side": 1,
      "message": "No, Test case performs only hot-plug/unplug through cswitch. We validate only basic enumeration of the device for the performed action.\n\n\nCan you verify this works with such a dock, for example, Dell WD19TB ?\nVerified it is working as expected.",
      "parentUuid": "814feaf9_6b584e9e",
      "range": {
        "startLine": 36,
        "startChar": 16,
        "endLine": 36,
        "endChar": 34
      },
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9932deed_7e14ee23",
        "filename": "src/chromiumos/tast/local/bundles/cros/typec/tbt_hotplug_unplug.go",
        "patchSetId": 13
      },
      "lineNbr": 36,
      "author": {
        "id": 1181774
      },
      "writtenOn": "2021-08-10T07:57:27Z",
      "side": 1,
      "message": "\u003e No, Test case performs only hot-plug/unplug through cswitch. We validate only basic enumeration of the device for the performed action.\n\nRight, but if the device policy setting isn\u0027t explicitly set, the peripheral won\u0027t enumerate as a Thunderbolt device; it will enumerate as a USB+DP alternate mode device if it has the option.\n\nThis test shouldn\u0027t be pasing by itself without that settting being set, otherwise it is likely just accidentally passing because of a pre-existing setting on a system.",
      "parentUuid": "00733c18_d4a0013e",
      "range": {
        "startLine": 36,
        "startChar": 16,
        "endLine": 36,
        "endChar": 34
      },
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e4b4bff_8c13f0e1",
        "filename": "src/chromiumos/tast/local/bundles/cros/typec/tbt_hotplug_unplug.go",
        "patchSetId": 13
      },
      "lineNbr": 36,
      "author": {
        "id": 1446889
      },
      "writtenOn": "2021-08-10T09:28:25Z",
      "side": 1,
      "message": "Verified without setting device policy and able to enumerate the device manually.\n\nObservation: In order to mount TBT device and performed data transfer we required to enable device policy explicitly.",
      "parentUuid": "9932deed_7e14ee23",
      "range": {
        "startLine": 36,
        "startChar": 16,
        "endLine": 36,
        "endChar": 34
      },
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "413576a6_db1b6067",
        "filename": "src/chromiumos/tast/local/bundles/cros/typec/tbt_hotplug_unplug.go",
        "patchSetId": 13
      },
      "lineNbr": 36,
      "author": {
        "id": 1181774
      },
      "writtenOn": "2021-08-10T17:10:23Z",
      "side": 1,
      "message": "Thanks.\n\n\u003e \u003e Can you verify this works with such a dock, for example, Dell WD19TB ?\n\u003e Verified it is working as expected.\n\nThis also should require The device policy to be set explicitly. Can you confirm that is the case?\n\n\nWhat you tested with is an NVMe SSD which perhaps doesn\u0027t have a DP alternate mode, and so it always enteres Thunderbolt mode.",
      "parentUuid": "1e4b4bff_8c13f0e1",
      "range": {
        "startLine": 36,
        "startChar": 16,
        "endLine": 36,
        "endChar": 34
      },
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8441f52a_4c99c620",
        "filename": "src/chromiumos/tast/local/bundles/cros/typec/tbt_hotplug_unplug.go",
        "patchSetId": 13
      },
      "lineNbr": 36,
      "author": {
        "id": 1446889
      },
      "writtenOn": "2021-08-11T09:32:08Z",
      "side": 1,
      "message": "Yes we verified on Dell WD19TB device enumerated(able to get device generation ,device_name etc..)  without enabling device policy.\nAs per our test steps we are not validating in script whether device is in TBT mode or in USB+DP mode.",
      "parentUuid": "413576a6_db1b6067",
      "range": {
        "startLine": 36,
        "startChar": 16,
        "endLine": 36,
        "endChar": 34
      },
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "edb2fbb7_54d128bb",
        "filename": "src/chromiumos/tast/local/bundles/cros/typec/tbt_hotplug_unplug.go",
        "patchSetId": 13
      },
      "lineNbr": 36,
      "author": {
        "id": 1181774
      },
      "writtenOn": "2021-08-11T22:22:04Z",
      "side": 1,
      "message": "\u003e Yes we verified on Dell WD19TB device enumerated(able to get device generation ,device_name etc..)  without enabling device policy.\n\nThat shouldn\u0027t be the case. Can you power wash your device and try again? There could be some pre-existing policy setting that was manually set earlier.\n\n\u003e As per our test steps we are not validating in script whether device is in TBT mode or in USB+DP mode.\n\nIf the dock comes up in USB+DP mode, it won\u0027t enumerate all under the `/sys/bus/thunderbolt/devices` directory and won\u0027t have any of the sysfs file attributes (generation, tx_speed etc.)",
      "parentUuid": "8441f52a_4c99c620",
      "range": {
        "startLine": 36,
        "startChar": 16,
        "endLine": 36,
        "endChar": 34
      },
      "revId": "8b1ac64fd3b440cc0b56b89086aab85488e09992",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}