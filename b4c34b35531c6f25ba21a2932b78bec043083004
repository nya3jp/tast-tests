{
  "comments": [
    {
      "key": {
        "uuid": "15f1a60b_662f3614",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/data/loopback_media_recorder.html",
        "patchSetId": 5
      },
      "lineNbr": 10,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "nit: const",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 3
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1865c31_2c6f634e",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/data/loopback_media_recorder.html",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "just a question:\nWhy is audio enabled?",
      "range": {
        "startLine": 17,
        "startChar": 67,
        "endLine": 17,
        "endChar": 71
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d98b99a_93c627e6",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "Question: Do you have a plan to add a same test for a different codec?",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12ea4f1a_1d2aab4c",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-23T17:29:07Z",
      "side": 1,
      "message": "please don\u0027t declare top-level constants in tests when you don\u0027t have to. \u0027fps\u0027 and \u0027codec\u0027 should both be declared down where you use them, and please rename streamFile to something test-specific since this namespace is shared with other video tests, e.g. mediaRecorderH264StreamFile. i\u0027d also prefer that it appear after init() so the test metadata comes first.",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8acd1378_c329b187",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 27,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-23T17:29:07Z",
      "side": 1,
      "message": "nit: H.264",
      "range": {
        "startLine": 27,
        "startChar": 78,
        "endLine": 27,
        "endChar": 82
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cde0cf8a_771ae08e",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 29,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "[]string{\"group:crosbolt\", \"crosbolt_perbuild\"},\n\nFor performance tests, we need to specify \"group:crosbolt\" instead of \"informational\".\nSee http://go/tast-attr#manually_added-attributes",
      "range": {
        "startLine": 29,
        "startChar": 12,
        "endLine": 29,
        "endChar": 37
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "742f9d78_e4f6f9f1",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 31,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "How about running this test also on boards that don\u0027t have HW encoder?\nWe can still measure SW encoder\u0027s performance on such boards.\nWe will actually do so for Dean\u0027s WebRTCDecodePerf in CL:1573298.",
      "range": {
        "startLine": 31,
        "startChar": 25,
        "endLine": 31,
        "endChar": 42
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4971375_66370bc3",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 37,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "How about making this function simpler and do everything in media_recodor.go instead?\ni.e.,\nfunc MediaRecorderPerfH264(ctx context.Context, s *testing.State) {\n\tmediarecorder.MeasurePerf(ctx, s, streamFile, videotype.H264Prof)\n}\n\nSince I don\u0027t think we will use mediarecorder.MeasurePerf and mediarecorder.ReportPerf in other ways, I guess we don\u0027t need to export ReportPerf function.",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9033c48_12059db7",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 41,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T14:00:20Z",
      "side": 1,
      "message": "Could you remove this flag?\nWe decided to disable verbose logs for performance tests.\nhttps://bugs.chromium.org/p/chromium/issues/detail?id\u003d955079",
      "range": {
        "startLine": 41,
        "startChar": 2,
        "endLine": 41,
        "endChar": 29
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5cb32b5e_0374d494",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "Could you add comments explaining meanings of each flag?\n\ncf.\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/1573298/6/src/chromiumos/tast/local/bundles/cros/video/webrtc/webrtc.go#38",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe5985cb_3eefe010",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-23T17:29:07Z",
      "side": 1,
      "message": "please always use time.Duration for times when possible, as it removes ambiguity around units",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f36c8496_414469f2",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-23T17:29:07Z",
      "side": 1,
      "message": "don\u0027t use out-params in go; it supports multiple return values",
      "range": {
        "startLine": 49,
        "startChar": 93,
        "endLine": 49,
        "endChar": 123
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f48df762_a0f1e428",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 65,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "Since this is almost same with flags for SW encode, can we create a function like getChromeArgs() (or some better name)?",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2bdcd1f9_221b41fc",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 67,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-23T17:29:07Z",
      "side": 1,
      "message": "time.Duration",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b997fa8_77f67da6",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 78,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "It seems that there are code duplication between HW encode and SW encode.\nCan we have a common function that receives an argument \"disableHwAccel bool\"?\n\ncf. webRTCPerf in CL:1573298 might be similar\n\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/1573298/6/src/chromiumos/tast/local/bundles/cros/video/webrtc/webrtc_decode_perf.go#117",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0770bbd_d2ff16a2",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/media_recorder_perf_h264.go",
        "patchSetId": 5
      },
      "lineNbr": 78,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-23T17:29:07Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "0b997fa8_77f67da6",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5158ce24_32c84bcb",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 46,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "Could you add \"tast_\" prefix to the name? This is needed because autotest version also upload metrics with same name.\n\nSo, it would be like this:\n\n// TODO(shenghao): Remove \"tast_\" prefix after removing video_MediaRecoderPerf in autotest\nName: \"tast_\" + name,",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61c13fff_1007c870",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 54,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-23T17:29:07Z",
      "side": 1,
      "message": "get rid of out-params",
      "range": {
        "startLine": 54,
        "startChar": 125,
        "endLine": 54,
        "endChar": 163
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6baf7923_c67c6277",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 57,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "Error strings should not be capitalized.\nSee http://go/tast-writing#formatting\n\nSame for all other error.Wrap expressions.",
      "range": {
        "startLine": 57,
        "startChar": 27,
        "endLine": 57,
        "endChar": 28
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d66b7005_62f8abe2",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 81,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "Could you add a brief comment what will happen when startRecoding is called?\nOtherwise, we need to read JS code to understand the test behavior.",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3136018f_a0c5c15f",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 91,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-23T17:29:07Z",
      "side": 1,
      "message": "const, but i\u0027d recommend just inlining this on L93 and changing L94 to something like:\n\n  return errors.Wrap(err, \"failed to stop recording\")",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8f217fe_1b704473",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 93,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "nit: Could you add a comment like \"Recorded video content will be stored in videoBuffer in base64 format\"?\nIdeally, we don\u0027t want to read JS code to understand test\u0027s behavior.",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5879835_94020ef3",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 102,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-23T17:29:07Z",
      "side": 1,
      "message": "how large is this data?",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f2f6afe_4d64652d",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 116,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "How about just returning \"int, error\" instead of receiving *int? It would be simpler.",
      "range": {
        "startLine": 116,
        "startChar": 55,
        "endLine": 116,
        "endChar": 75
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "540f4abc_08da09e3",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 116,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "Hmm, it\u0027s difficult for me to understand what this function is doing...\nCould you add comments about what this function is doing?\nAlso, it might be helpful to have unit tests for parsing the performance values.\n\nFor example, we have a test for encoder perf tests:\nhttps://cs.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/video/encode/perf_test.go",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23b66560_2a62f043",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 116,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-04-23T17:29:07Z",
      "side": 1,
      "message": "yes, please don\u0027t use out-params",
      "parentUuid": "2f2f6afe_4d64652d",
      "range": {
        "startLine": 116,
        "startChar": 55,
        "endLine": 116,
        "endChar": 75
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fcab6833_d6601d63",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 132,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "I think you can use \"label\" to escape from a nested scope.\ne.g. https://golang.org/test/label1.go",
      "range": {
        "startLine": 132,
        "startChar": 4,
        "endLine": 132,
        "endChar": 9
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7639f5f9_be9844f6",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 168,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "How about just returning \"float64, error\" instead of receiving *float64?",
      "range": {
        "startLine": 168,
        "startChar": 61,
        "endLine": 168,
        "endChar": 82
      },
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d948fa12_dbd9af96",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/mediarecorder/media_recorder.go",
        "patchSetId": 5
      },
      "lineNbr": 174,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-04-23T11:05:20Z",
      "side": 1,
      "message": "How about using testing.Sleep?\nSee https://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#contexts-and-timeouts",
      "revId": "b4c34b35531c6f25ba21a2932b78bec043083004",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}