{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9e8c1675_1e345f72",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/apputil/apputil.go",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2022-02-17T04:12:50Z",
      "side": 1,
      "message": "This part is not used in this cl, please move it out to another cl.",
      "range": {
        "startLine": 6,
        "startChar": 8,
        "endLine": 6,
        "endChar": 15
      },
      "revId": "a09bbe423c753ea7cd9dcfc65c6628b9e9ec1813",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f47ed789_09d48527",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/apputil/apputil.go",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1477974
      },
      "writtenOn": "2022-02-17T05:41:30Z",
      "side": 1,
      "message": "The `voicerecorder` uses it,\nand the test `arc.AudioRecordAndPlayback` uses `voicerecorder`.\nHopefully this will make the relationship between `apputil` and MTBF ARC++ tests more clear.",
      "parentUuid": "9e8c1675_1e345f72",
      "range": {
        "startLine": 6,
        "startChar": 8,
        "endLine": 6,
        "endChar": 15
      },
      "revId": "a09bbe423c753ea7cd9dcfc65c6628b9e9ec1813",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1bea7531_ab190933",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/apputil/apputil.go",
        "patchSetId": 5
      },
      "lineNbr": 6,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2022-02-17T07:36:24Z",
      "side": 1,
      "message": "Sorry for missing that.",
      "parentUuid": "f47ed789_09d48527",
      "range": {
        "startLine": 6,
        "startChar": 8,
        "endLine": 6,
        "endChar": 15
      },
      "revId": "a09bbe423c753ea7cd9dcfc65c6628b9e9ec1813",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "361cb53a_0e56ad03",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/apputil/apputil.go",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2022-02-17T04:18:02Z",
      "side": 1,
      "message": "BTW, I think this should be part of https://osscs.corp.google.com/chromiumos/chromiumos/codesearch/+/main:src/platform/tast-tests/src/chromiumos/tast/local/arc/playstore/playstore.go",
      "range": {
        "startLine": 49,
        "startChar": 16,
        "endLine": 49,
        "endChar": 23
      },
      "revId": "a09bbe423c753ea7cd9dcfc65c6628b9e9ec1813",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f704970_272b45d0",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/apputil/apputil.go",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1477974
      },
      "writtenOn": "2022-02-17T05:41:30Z",
      "side": 1,
      "message": "We didn\u0027t modify `playstore.go` for following reason:\n\n1. The cleanup for `playstore.InstallApp` (or `playstore.InstallOrUpdateApp`) should be `optin.ClosePlayStore`, which is not straightforward for the caller.\n2. `playstore` is only about installing/updating an app, we design `apputil` for more than that.\n3. We wrap and hide the details of `playstore` and `optin` to make it easier and simpler to manage/control any ARC++ app.\n\nWe updated the commit message to further describe the purpose and features of `apputil`.\n\nShould we still improve the `playstore.go`?",
      "parentUuid": "361cb53a_0e56ad03",
      "range": {
        "startLine": 49,
        "startChar": 16,
        "endLine": 49,
        "endChar": 23
      },
      "revId": "a09bbe423c753ea7cd9dcfc65c6628b9e9ec1813",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7825c5c_dc094505",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/apputil/apputil.go",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2022-02-17T07:36:24Z",
      "side": 1,
      "message": "I thought this func could be used by other test, it could not?",
      "parentUuid": "7f704970_272b45d0",
      "range": {
        "startLine": 49,
        "startChar": 16,
        "endLine": 49,
        "endChar": 23
      },
      "revId": "a09bbe423c753ea7cd9dcfc65c6628b9e9ec1813",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "939bbbed_326769ef",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/apputil/apputil.go",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1477974
      },
      "writtenOn": "2022-02-17T08:40:34Z",
      "side": 1,
      "message": "Sorry for our mishandling, we found the check installed part is already part of `playstore.InstallApp` (or `playstore.InstallOrUpdateApp`), removed.\n\nAlso we found some tests will leave the playstore open after installing an app, so we didnâ€™t make any changes on `playstore.go`.",
      "parentUuid": "d7825c5c_dc094505",
      "range": {
        "startLine": 49,
        "startChar": 16,
        "endLine": 49,
        "endChar": 23
      },
      "revId": "a09bbe423c753ea7cd9dcfc65c6628b9e9ec1813",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7525ef03_74667720",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/apputil/apputil.go",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2022-02-17T10:23:45Z",
      "side": 1,
      "message": "I mean we could move this func to playstore.go and then it could be shared.",
      "parentUuid": "939bbbed_326769ef",
      "range": {
        "startLine": 49,
        "startChar": 16,
        "endLine": 49,
        "endChar": 23
      },
      "revId": "a09bbe423c753ea7cd9dcfc65c6628b9e9ec1813",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d31c1db_7cfed403",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/apputil/apputil.go",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1477974
      },
      "writtenOn": "2022-02-18T04:22:07Z",
      "side": 1,
      "message": "This `Install` is based on `apputil`, \n`apputil` manage ARC++ resources for callers, including the `*ui.Device`, which is a required argument to call `playstore.InstallOrUpdateApp`.\n\nWithout this function, callers have to pass `*arc.ARC`, `*ui.Device` and the package name to install an app.\n\nAlso, `playstore.InstallOrUpdateApp` has a fullness mechanism already except it won\u0027t close the PlayStore after installation.\nSome tests leave the PlayStore open after installation, we might jeopardize those tests logic if we merge the `optin.ClosePlayStore` into `playstore.InstallOrUpdateApp`.\n\nThis `func (app *App) Install` is still a highly useful helper function for callers, so I think it is not necessary to \"move\" it to `playstore`, but we could add a function under `playstore` to install an app and closes the PlayStore after installation, what do you think?",
      "parentUuid": "7525ef03_74667720",
      "range": {
        "startLine": 49,
        "startChar": 16,
        "endLine": 49,
        "endChar": 23
      },
      "revId": "a09bbe423c753ea7cd9dcfc65c6628b9e9ec1813",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2e22f20_4ec55821",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/apputil/apputil.go",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1398801
      },
      "writtenOn": "2022-02-18T04:32:12Z",
      "side": 1,
      "message": "Yes, if we could have that func in playstore and then wrap it inside this func, that would be good. Thanks.",
      "parentUuid": "2d31c1db_7cfed403",
      "range": {
        "startLine": 49,
        "startChar": 16,
        "endLine": 49,
        "endChar": 23
      },
      "revId": "a09bbe423c753ea7cd9dcfc65c6628b9e9ec1813",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}