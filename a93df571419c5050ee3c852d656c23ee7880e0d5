{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "16f789af_25d0bad5",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 15,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-08-02T22:56:41Z",
      "side": 1,
      "message": "I am not sure you can directly use this import here. It would be good to ask a Tast Owner about this setup.",
      "range": {
        "startLine": 15,
        "startChar": 40,
        "endLine": 15,
        "endChar": 43
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a7a11237_a9239388",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 15,
      "author": {
        "id": 1512717
      },
      "writtenOn": "2021-08-05T16:04:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "16f789af_25d0bad5",
      "range": {
        "startLine": 15,
        "startChar": 40,
        "endLine": 15,
        "endChar": 43
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b591533_a6982a5c",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 61,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-08-02T22:56:41Z",
      "side": 1,
      "message": "You probably want this set to true",
      "range": {
        "startLine": 61,
        "startChar": 16,
        "endLine": 61,
        "endChar": 21
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "924cbe90_b3154e4e",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 61,
      "author": {
        "id": 1512717
      },
      "writtenOn": "2021-08-03T17:47:01Z",
      "side": 1,
      "message": "I was thinking that setting it to false and having the battery discharge would be a better indicator that the flag works since the update will pass w/o AC power.",
      "parentUuid": "1b591533_a6982a5c",
      "range": {
        "startLine": 61,
        "startChar": 16,
        "endLine": 61,
        "endChar": 21
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3abe5a6d_25bba761",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 61,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-08-03T18:05:56Z",
      "side": 1,
      "message": "Isn\u0027t true the one that \"triggers\" the discharge?",
      "parentUuid": "924cbe90_b3154e4e",
      "range": {
        "startLine": 61,
        "startChar": 16,
        "endLine": 61,
        "endChar": 21
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ad2db429_d3fae3dd",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 61,
      "author": {
        "id": 1512717
      },
      "writtenOn": "2021-08-03T19:20:50Z",
      "side": 1,
      "message": "Right, sorry about that. I had the conditions mixed up.",
      "parentUuid": "3abe5a6d_25bba761",
      "range": {
        "startLine": 61,
        "startChar": 16,
        "endLine": 61,
        "endChar": 21
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e442d4d8_81f760d7",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 117,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-08-02T22:56:41Z",
      "side": 1,
      "message": "You should not need to restart fwupd anymore after crrev.com/c/3055253",
      "range": {
        "startLine": 117,
        "startChar": 1,
        "endLine": 117,
        "endChar": 13
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "934ea721_778ae3d5",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 117,
      "author": {
        "id": 1512717
      },
      "writtenOn": "2021-08-03T17:47:01Z",
      "side": 1,
      "message": "I\u0027ve been restarting powerd to be able to update multiple times. The update command only works once per fwupd session. Afterwards it fails since the fake webcam is already at the latest version.",
      "parentUuid": "e442d4d8_81f760d7",
      "range": {
        "startLine": 117,
        "startChar": 1,
        "endLine": 117,
        "endChar": 13
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41542a6d_1d6d4d75",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 117,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-08-03T18:05:56Z",
      "side": 1,
      "message": "I filed https://github.com/fwupd/fwupd/issues/3593 to see if this is something we can fix",
      "parentUuid": "934ea721_778ae3d5",
      "range": {
        "startLine": 117,
        "startChar": 1,
        "endLine": 117,
        "endChar": 13
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b2c315e_9ef44ac3",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 117,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-08-03T18:16:29Z",
      "side": 1,
      "message": "According to the issue above just use `reinstall` instead of `update` for the second instance and it should work without a restart... In other words you can restructure this test into two cases:\n\nAC connected and AC disconnected. For each of the cases do an update with --ignore-power which should always succeed and then so a reinstall without the --ignore-power flag.",
      "parentUuid": "41542a6d_1d6d4d75",
      "range": {
        "startLine": 117,
        "startChar": 1,
        "endLine": 117,
        "endChar": 13
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df532af5_6d6543dd",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 117,
      "author": {
        "id": 1512717
      },
      "writtenOn": "2021-08-03T19:20:50Z",
      "side": 1,
      "message": "Sgtm. I\u0027ll try restructuring the test this way.",
      "parentUuid": "0b2c315e_9ef44ac3",
      "range": {
        "startLine": 117,
        "startChar": 1,
        "endLine": 117,
        "endChar": 13
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a7e1acf0_c7c05945",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 117,
      "author": {
        "id": 1512717
      },
      "writtenOn": "2021-08-05T16:04:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "df532af5_6d6543dd",
      "range": {
        "startLine": 117,
        "startChar": 1,
        "endLine": 117,
        "endChar": 13
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5d24ea1_dadfe76d",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 117,
      "author": {
        "id": 1512717
      },
      "writtenOn": "2021-08-05T16:07:06Z",
      "side": 1,
      "message": "I removed the \"restart fwupd\" command, but I have to restart it before running each test (since the first command is a regular update). Will Tast run these tests more than one on each build?\n\nIf so, it will have to restart before each run.",
      "parentUuid": "a7e1acf0_c7c05945",
      "range": {
        "startLine": 117,
        "startChar": 1,
        "endLine": 117,
        "endChar": 13
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f3980b9_6d8aedab",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 117,
      "author": {
        "id": 1512717
      },
      "writtenOn": "2021-08-06T16:17:33Z",
      "side": 1,
      "message": "Implemeted the updateCheck function as a workaround for this issue.",
      "parentUuid": "d5d24ea1_dadfe76d",
      "range": {
        "startLine": 117,
        "startChar": 1,
        "endLine": 117,
        "endChar": 13
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a08d38b_cb2ed27f",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 120,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-08-02T22:56:41Z",
      "side": 1,
      "message": "If you just use this line outside the if condition, does it work?",
      "range": {
        "startLine": 120,
        "startChar": 2,
        "endLine": 120,
        "endChar": 124
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8eb3e315_95e1f656",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 120,
      "author": {
        "id": 1512717
      },
      "writtenOn": "2021-08-03T17:47:01Z",
      "side": 1,
      "message": "No, unfortunately. It sends this command to the terminal if set.flags is empty: \n\nusr/bin/fwupdmgr update -v b585990a-003e-5270-89d5-3705a17f9a43 \u0027 \u0027\n\nAnd since the command is invalid, the test fails.",
      "parentUuid": "8a08d38b_cb2ed27f",
      "range": {
        "startLine": 120,
        "startChar": 2,
        "endLine": 120,
        "endChar": 124
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3b3bc64_c53cf11b",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 120,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-08-03T18:05:56Z",
      "side": 1,
      "message": "What if you set set.flags to NULL? Have not tried any of this",
      "parentUuid": "8eb3e315_95e1f656",
      "range": {
        "startLine": 120,
        "startChar": 2,
        "endLine": 120,
        "endChar": 124
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cdb18931_92d0a689",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 120,
      "author": {
        "id": 1512717
      },
      "writtenOn": "2021-08-03T19:20:50Z",
      "side": 1,
      "message": "Tried setting it to nil, but it still outputted the empty string.",
      "parentUuid": "c3b3bc64_c53cf11b",
      "range": {
        "startLine": 120,
        "startChar": 2,
        "endLine": 120,
        "endChar": 124
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f1d5497_82eb6871",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
        "patchSetId": 6
      },
      "lineNbr": 120,
      "author": {
        "id": 1512717
      },
      "writtenOn": "2021-08-05T16:04:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cdb18931_92d0a689",
      "range": {
        "startLine": 120,
        "startChar": 2,
        "endLine": 120,
        "endChar": 124
      },
      "revId": "a93df571419c5050ee3c852d656c23ee7880e0d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}