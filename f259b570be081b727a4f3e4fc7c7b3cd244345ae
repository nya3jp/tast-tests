{
  "comments": [
    {
      "key": {
        "uuid": "4e8218e7_fd6b65f6",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/hal3_service.go",
        "patchSetId": 3
      },
      "lineNbr": 61,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-04T11:52:44Z",
      "side": 1,
      "message": "req.Facing can be unknown, so cfg.CameraFacing can be empty in some cases, looks like we should fail here\n\nmaybe it\u0027s better to use switch here",
      "range": {
        "startLine": 58,
        "startChar": 0,
        "endLine": 61,
        "endChar": 14
      },
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "195530d3_76652872",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/hal3_service.go",
        "patchSetId": 3
      },
      "lineNbr": 61,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-08T04:06:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e8218e7_fd6b65f6",
      "range": {
        "startLine": 58,
        "startChar": 0,
        "endLine": 61,
        "endChar": 14
      },
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50f2812b_01b83a1c",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-04T11:52:44Z",
      "side": 1,
      "message": "btw, did you consider table driven tests instead parametrized? or maybe you can have some fix with table driven and parametrized? it\u0027ll speedup your tests:\n\nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#Table_driven-tests",
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb61fd31_40ac8364",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-05T03:20:37Z",
      "side": 1,
      "message": "Just like existing \"camera.HAL3*\" client side test. We would like to have individual entry on tastboard. From my understanding, table driven will fix all sub-tests into one test entry on tastboard?",
      "parentUuid": "50f2812b_01b83a1c",
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3723b4f_33c20b8e",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-05T08:52:09Z",
      "side": 1,
      "message": "Right, then ignore my message.",
      "parentUuid": "fb61fd31_40ac8364",
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "529e06cd_01f7d537",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 3
      },
      "lineNbr": 154,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-04T11:52:44Z",
      "side": 1,
      "message": "Error won\u0027t stop your test, so then you\u0027ll run extractOutdir with nil response, please use Fatal instead",
      "range": {
        "startLine": 154,
        "startChar": 4,
        "endLine": 154,
        "endChar": 9
      },
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "190ea37c_07dc5922",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 3
      },
      "lineNbr": 154,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-08T04:06:12Z",
      "side": 1,
      "message": "The |testErr| may comes from |retErr :\u003d hal3.RunTest(ctx, cfg)| in hal3_service.go.\nAnd the |hal3.RunTest(ctx, cfg)| will return error from gtest while all gtest detailed logs are saved inside compressed file in Response. So I think we still need to try decompress the gtest logs for having more debug information.\n\nI do encounter some mysterious case that the |response| may be nil. Or we should also have a flag in |pb.RunTestResponse| indicating whether the remote expect the format of compressed OutDir is complete and decompressable even if the gtest is failed?",
      "parentUuid": "529e06cd_01f7d537",
      "range": {
        "startLine": 154,
        "startChar": 4,
        "endLine": 154,
        "endChar": 9
      },
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f53ebeab_731038f8",
        "filename": "src/chromiumos/tast/services/cros/camerabox/common.proto",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-04T11:52:44Z",
      "side": 1,
      "message": "nit: UNSET ?",
      "range": {
        "startLine": 12,
        "startChar": 9,
        "endLine": 12,
        "endChar": 16
      },
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04d22d18_61798d4e",
        "filename": "src/chromiumos/tast/services/cros/camerabox/common.proto",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-08T04:06:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f53ebeab_731038f8",
      "range": {
        "startLine": 12,
        "startChar": 9,
        "endLine": 12,
        "endChar": 16
      },
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "484837dd_7f18553b",
        "filename": "src/chromiumos/tast/services/cros/camerabox/hal3_service.proto",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-04T11:52:44Z",
      "side": 1,
      "message": "Please try to use ContextOutDir, so Tast will copy all files after test:\n\nhttps://osscs.corp.google.com/chromiumos/chromiumos/codesearch/+/master:src/platform/tast/src/chromiumos/tast/testing/context.go;l\u003d55?q\u003dContextOutDir\u0026ss\u003dchromiumos%2Fchromiumos%2Fcodesearch:src%2Fplatform%2F",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 20
      },
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee332da7_c01c709a",
        "filename": "src/chromiumos/tast/services/cros/camerabox/hal3_service.proto",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-05T10:02:53Z",
      "side": 1,
      "message": "I have tried ContextOutDir it before. It will return |!ok| on remote side.\nHave a quick dig into its cause, I found the test server will pass its |ctx| to remote here:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/services/cros/network/wifi_service.pb.go;rcl\u003db08d318f117f7b2d81850d67f5c287152b2e6bbe;l\u003d777\n\nAnd the ctx will try retrieve the OutDir here:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast/src/chromiumos/tast/internal/testing/context.go;rcl\u003ded6458d0726a1905ce26e6192714b34485da1e96;l\u003d40\n\nAnd the line |tc, ok :\u003d ctx.Value(testContextKey).(*TestContext)| failed I guess it\u0027s because the grpc pass the pointer to test server\u0027s memory space in ctx\u0027s Value to remote side which is meanless in remote side\u0027s memory space.\n\nSo I doubt the |ContextOutDir| is not fully implemented in remote test.",
      "parentUuid": "484837dd_7f18553b",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 20
      },
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd7095cc_55f40724",
        "filename": "src/chromiumos/tast/services/cros/camerabox/hal3_service.proto",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-05T14:28:53Z",
      "side": 1,
      "message": "Let\u0027s keep open this comment, maybe Victor can help here.\n\nFor now, let\u0027s move with your approach and maybe will back to ContextOutDir",
      "parentUuid": "ee332da7_c01c709a",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 20
      },
      "revId": "f259b570be081b727a4f3e4fc7c7b3cd244345ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}