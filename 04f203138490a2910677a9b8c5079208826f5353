{
  "comments": [
    {
      "key": {
        "uuid": "6bebed8b_b9d15c43",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 159,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-22T10:59:49Z",
      "side": 1,
      "message": "nit: killIPPUSBBridget\nhttps://github.com/golang/go/wiki/CodeReviewComments#initialisms",
      "range": {
        "startLine": 159,
        "startChar": 5,
        "endLine": 159,
        "endChar": 21
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4088d56b_4dea243e",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 159,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-22T10:59:49Z",
      "side": 1,
      "message": "why you don\u0027t use upstart to start/stop ippusb_bridge?",
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d16af840_9406b0b4",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 159,
      "author": {
        "id": 1192536
      },
      "writtenOn": "2020-09-22T23:14:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6bebed8b_b9d15c43",
      "range": {
        "startLine": 159,
        "startChar": 5,
        "endLine": 159,
        "endChar": 21
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "988516fb_33da4435",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 159,
      "author": {
        "id": 1192536
      },
      "writtenOn": "2020-09-22T23:14:39Z",
      "side": 1,
      "message": "ippusb_bridge has to be started multiple times with arguments that depend on the connected USB devices, which isn\u0027t easily supported by upstart.  It normally quits after an inactivity timeout, but we\u0027re killing it without waiting here so that the test doesn\u0027t leave lingering processes.",
      "parentUuid": "4088d56b_4dea243e",
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc7f7d52_9367b2f0",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 159,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-23T10:09:23Z",
      "side": 1,
      "message": "You can pass ENV variables when starting via upstart. See example:\n\nhttps://source.chromium.org/chromiumos/chromiumos/codesearch/+/master:src/platform/tast-tests/src/chromiumos/tast/local/wilco/supportd.go;l\u003d27\n\nhere is how we handle ENV variable in conf file:\nhttps://source.chromium.org/chromiumos/chromiumos/codesearch/+/master:src/platform2/diagnostics/init/wilco_dtc_supportd.conf;l\u003d181\n\n\nFeel free to close this comment after reading, because probably you won\u0027t change the way how you start IPP USB bridge in this CL",
      "parentUuid": "988516fb_33da4435",
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c65bcf1_a2882863",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 174,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-22T10:59:49Z",
      "side": 1,
      "message": "I think it\u0027s an error that we should return",
      "range": {
        "startLine": 174,
        "startChar": 3,
        "endLine": 174,
        "endChar": 65
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f238abf_ce75435c",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 174,
      "author": {
        "id": 1192536
      },
      "writtenOn": "2020-09-22T23:14:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c65bcf1_a2882863",
      "range": {
        "startLine": 174,
        "startChar": 3,
        "endLine": 174,
        "endChar": 65
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "358346e3_89dc4b7b",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 180,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-22T10:59:49Z",
      "side": 1,
      "message": "Does it return specific error if there is no process?",
      "range": {
        "startLine": 180,
        "startChar": 16,
        "endLine": 180,
        "endChar": 34
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "310751fb_c5365bdd",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 180,
      "author": {
        "id": 1192536
      },
      "writtenOn": "2020-09-22T23:14:39Z",
      "side": 1,
      "message": "No, it\u0027s not documented to return any particular error.  The documentation just says \"it will return an error if the process does not exist.\"  Since that\u0027s all we care about here, I didn\u0027t try to dig into anything more specific.",
      "parentUuid": "358346e3_89dc4b7b",
      "range": {
        "startLine": 180,
        "startChar": 16,
        "endLine": 180,
        "endChar": 34
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "183d80d5_47cf7e3f",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 180,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-23T10:09:23Z",
      "side": 1,
      "message": "I just found that there is ErrorProcessNotRunning error. Can you please use it?\n\nhttps://pkg.go.dev/github.com/shirou/gopsutil@v0.0.0-20200831221338-9aa2bee419e8/process#pkg-variables",
      "parentUuid": "310751fb_c5365bdd",
      "range": {
        "startLine": 180,
        "startChar": 16,
        "endLine": 180,
        "endChar": 34
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4cb7724a_ca76c6fb",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 184,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-22T10:59:49Z",
      "side": 1,
      "message": "please provide some timeout that must be more than enough",
      "range": {
        "startLine": 184,
        "startChar": 5,
        "endLine": 184,
        "endChar": 8
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9df1fbaf_0279abf3",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 184,
      "author": {
        "id": 1192536
      },
      "writtenOn": "2020-09-22T23:14:39Z",
      "side": 1,
      "message": "Done, but shouldn\u0027t testing.Poll already stop if ctx reaches its deadline?",
      "parentUuid": "4cb7724a_ca76c6fb",
      "range": {
        "startLine": 184,
        "startChar": 5,
        "endLine": 184,
        "endChar": 8
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7d11494_b592a4da",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 184,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-23T10:09:23Z",
      "side": 1,
      "message": "Yes, it will stop after reaching the deadline.\n\nThe thing is that if something went wrong it does not make sense to waste 90 seconds for operation that normally should finish in milliseconds. CQ can faster run failing tests.",
      "parentUuid": "9df1fbaf_0279abf3",
      "range": {
        "startLine": 184,
        "startChar": 5,
        "endLine": 184,
        "endChar": 8
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c806f68_cc0e54e0",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 184,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-23T10:09:23Z",
      "side": 1,
      "message": "Yes, it will stop after reaching the deadline.\n\nThe thing is that if something went wrong it does not make sense to waste 90 seconds for operation that normally should finish in milliseconds. CQ can faster run failing tests.",
      "parentUuid": "9df1fbaf_0279abf3",
      "range": {
        "startLine": 184,
        "startChar": 5,
        "endLine": 184,
        "endChar": 8
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e36ab195_5d7ba25c",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-22T10:59:49Z",
      "side": 1,
      "message": "same: let\u0027s maybe return it",
      "range": {
        "startLine": 188,
        "startChar": 0,
        "endLine": 188,
        "endChar": 74
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34b22155_2caf47cd",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1192536
      },
      "writtenOn": "2020-09-22T23:14:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e36ab195_5d7ba25c",
      "range": {
        "startLine": 188,
        "startChar": 0,
        "endLine": 188,
        "endChar": 74
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c523efa_c61cb15c",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 191,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-22T10:59:49Z",
      "side": 1,
      "message": "same",
      "range": {
        "startLine": 191,
        "startChar": 0,
        "endLine": 191,
        "endChar": 84
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4efd575_ab168916",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 191,
      "author": {
        "id": 1192536
      },
      "writtenOn": "2020-09-22T23:14:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5c523efa_c61cb15c",
      "range": {
        "startLine": 191,
        "startChar": 0,
        "endLine": 191,
        "endChar": 84
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62bd310d_6d861839",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 263,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-22T10:59:49Z",
      "side": 1,
      "message": "maybe use cleanup context to kill bridge? if so, please give more time for cleanup context",
      "range": {
        "startLine": 263,
        "startChar": 25,
        "endLine": 263,
        "endChar": 28
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6c541e4_2241195e",
        "filename": "src/chromiumos/tast/local/bundles/cros/scanner/scan_escl_ipp.go",
        "patchSetId": 2
      },
      "lineNbr": 263,
      "author": {
        "id": 1192536
      },
      "writtenOn": "2020-09-22T23:14:39Z",
      "side": 1,
      "message": "You\u0027re right, switched.  I didn\u0027t add extra time to the cleanup context because all the cleanup should normally be very fast.",
      "parentUuid": "62bd310d_6d861839",
      "range": {
        "startLine": 263,
        "startChar": 25,
        "endLine": 263,
        "endChar": 28
      },
      "revId": "04f203138490a2910677a9b8c5079208826f5353",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}