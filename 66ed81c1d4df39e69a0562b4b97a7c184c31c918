{
  "comments": [
    {
      "key": {
        "uuid": "c555a46a_0a9d768b",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 17,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Could you comment each field?\n\nSpecifically, it\u0027d be useful to note the relationship between Sensors and ring.",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d27da208_5c643232",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 28,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "IIUC, these values need to match with some external resources, right?\nThen, could you define the constant values, like;\n\nsensorID \u003d 0\nflags \u003d 1\n...\n\nIt\u0027s more safer, because there\u0027s no risk to insert some constant between lines.\nAlso, could you comment with what this needs to be matched for reference?",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99032429_3cc29716",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Clar: is it necessary to check if ring is not yet appeared?",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01279612_8fb4e4e9",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 56,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Looks a bit confusing to me, because this is not Ring, but creating a ringSensor instance?",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "831bd0b3_5a3f6c88",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 70,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "nit: maybe c or cr to match with type name?",
      "range": {
        "startLine": 70,
        "startChar": 6,
        "endLine": 70,
        "endChar": 8
      },
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03c6d6c4_7f780ccc",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 74,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Style: run the check in if condition?\n\nif err :\u003d sr.ring.SetLength(...); err !\u003d nil {\n    ...\n}\n\nDitto for below.",
      "range": {
        "startLine": 71,
        "startChar": 1,
        "endLine": 74,
        "endChar": 2
      },
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0c36277_e38ffc62",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 79,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "optional: the info should be already contained in \"err\", right?\nIf so, I\u0027d just return err directly, or annotate \"failed to disable ...\"?",
      "range": {
        "startLine": 79,
        "startChar": 33,
        "endLine": 79,
        "endChar": 72
      },
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a305296_abf8b711",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 94,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Instead of keeping map[...]bool{}, how about making it like a set.\n\nflush :\u003d map[uint]struct{}\n\nThen, at L103, you can check the size of the map.\nYou can delete an appropriate entry at L118, instead.",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d552cb89_907c0453",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 103,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Could you add context.Context to this function, and consider the timeout annotated to the context, too?",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d8c4b5f_7d710ce7",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 118,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "The \"Flag\u00260x1\" looks a magic number. Could you comment?",
      "range": {
        "startLine": 118,
        "startChar": 6,
        "endLine": 118,
        "endChar": 17
      },
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c14b1211_88423559",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 119,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Clar: you\u0027re creating the map by index of sr.Sensors. Is it guaranteed that this ID corresponds to the index?",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3046ae97_d5139431",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring.go",
        "patchSetId": 6
      },
      "lineNbr": 153,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "for range sr.events {\n}\n\nLooks enough? Also, nice to comment why is this needed.",
      "range": {
        "startLine": 150,
        "startChar": 1,
        "endLine": 153,
        "endChar": 2
      },
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e78bab40_b7e37fd3",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring_test.go",
        "patchSetId": 6
      },
      "lineNbr": 83,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "How about directly calling the syscall, instead?",
      "range": {
        "startLine": 80,
        "startChar": 1,
        "endLine": 83,
        "endChar": 2
      },
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93d00900_c7c6fad8",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring_test.go",
        "patchSetId": 6
      },
      "lineNbr": 108,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "The written data looks small enough to be buffered in the fifo? How about getting rid of goroutine?",
      "range": {
        "startLine": 85,
        "startChar": 1,
        "endLine": 108,
        "endChar": 4
      },
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8651015e_d96820cb",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/iio/ring_test.go",
        "patchSetId": 6
      },
      "lineNbr": 126,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Nice to have a brief comment about \"2\".",
      "range": {
        "startLine": 126,
        "startChar": 32,
        "endLine": 126,
        "endChar": 34
      },
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6efd325_0af757ca",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/sensor_ring.go",
        "patchSetId": 6
      },
      "lineNbr": 36,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Could you move this into SendorRing()\u0027s body for better encapsulation?\n\nAlso, could you use \"2 * time.Second\" instead of using the name suffix?",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a726f39f_daf1e81d",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/sensor_ring.go",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Could you file a bug to identify the Ring sensor existence outside of the test,\nto avoid unexpected pass.",
      "range": {
        "startLine": 49,
        "startChar": 1,
        "endLine": 53,
        "endChar": 2
      },
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5313f9e_428531a7",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/sensor_ring.go",
        "patchSetId": 6
      },
      "lineNbr": 62,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Could you declare the var when needed?\nIn this case, at L70.",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc180f56_7319a135",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/sensor_ring.go",
        "patchSetId": 6
      },
      "lineNbr": 70,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Similar to above comment, could you consider context?",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bcef03e0_8d336b45",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/sensor_ring.go",
        "patchSetId": 6
      },
      "lineNbr": 80,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "End of reading and timeout is unified here.\nIs it expected? Timeout sounds like an error case to me, at least?",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37d54ac5_0a871209",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/sensor_ring.go",
        "patchSetId": 6
      },
      "lineNbr": 85,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "This looks pair with the Enable at L64. How about moving this into the defer right after Enable success?",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa460883_81bb42af",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/sensor_ring.go",
        "patchSetId": 6
      },
      "lineNbr": 95,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Could you avoid passing testing.State?\nYou can return error instead.\n\nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#test-subpackages\n\nquote:\nNote that it‘s still best to practice information hiding and pass only as much data is needed. Avoid passing testing.State when it’s not actually necessary:",
      "range": {
        "startLine": 95,
        "startChar": 73,
        "endLine": 95,
        "endChar": 90
      },
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7228a78f_5a348205",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/sensor_ring.go",
        "patchSetId": 6
      },
      "lineNbr": 106,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "nit: \"\u003e\u003d %v\" (white space between \u003e\u003d and %v)? Ditto for below.",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a6cce04_b0a42ebb",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/sensor_ring.go",
        "patchSetId": 6
      },
      "lineNbr": 114,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "optional: Maybe checking the last element looks enough?",
      "range": {
        "startLine": 111,
        "startChar": 2,
        "endLine": 114,
        "endChar": 3
      },
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72891db3_cbd3dcfb",
        "filename": "src/chromiumos/tast/local/bundles/cros/hardware/sensor_ring.go",
        "patchSetId": 6
      },
      "lineNbr": 119,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T16:09:40Z",
      "side": 1,
      "message": "Could you use unix.ClockGetTime() instead?",
      "revId": "66ed81c1d4df39e69a0562b4b97a7c184c31c918",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}