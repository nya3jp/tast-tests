{
  "comments": [
    {
      "key": {
        "uuid": "c92ef2da_5b15384a",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/add_usb_printer.go",
        "patchSetId": 4
      },
      "lineNbr": 26,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-02-08T04:00:58Z",
      "side": 1,
      "message": "(continuing earlier discussion)\n\ncan action be dropped as an arg to Start? that\u0027s required to be in the udev event regardless of the vid/pid, right?",
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c57cb0a_d34cb248",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/add_usb_printer.go",
        "patchSetId": 4
      },
      "lineNbr": 26,
      "author": {
        "id": 1242535
      },
      "writtenOn": "2019-02-08T21:56:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c92ef2da_5b15384a",
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "95f66dd6_b74382a8",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 30,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-02-08T04:00:58Z",
      "side": 1,
      "message": "nit: please move declaration of this variable down to the point where it\u0027s used (e.g. around L45, just before the loop that reads from it)",
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e4574b6_1640dfe5",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 30,
      "author": {
        "id": 1242535
      },
      "writtenOn": "2019-02-08T21:56:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "95f66dd6_b74382a8",
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f9352ac_2e80b227",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-02-08T08:58:07Z",
      "side": 1,
      "message": "Could you wrap in a function?\n\ndefer func() {\n  cmd.Kill()\n  cmd.Wait()\n}()",
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09f21829_23696d13",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 1242535
      },
      "writtenOn": "2019-02-08T21:56:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3f9352ac_2e80b227",
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0b0e7597_d719512c",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-02-08T08:58:07Z",
      "side": 1,
      "message": "I don\u0027t think goroutine is needed here.\n\nyou can just simply read the data from Stdout of the subprocess.\nIn case of timeout, the process should be killed (thanks to the goroutine in testexec.Cmd.Start()), and the input will be terminated.\n\nYou can just returns the result.",
      "range": {
        "startLine": 41,
        "startChar": 1,
        "endLine": 41,
        "endChar": 8
      },
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7063c9e3_76027aa2",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-02-08T15:46:59Z",
      "side": 1,
      "message": "good point!",
      "parentUuid": "0b0e7597_d719512c",
      "range": {
        "startLine": 41,
        "startChar": 1,
        "endLine": 41,
        "endChar": 8
      },
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8572bc90_311dcdb5",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1242535
      },
      "writtenOn": "2019-02-08T21:56:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7063c9e3_76027aa2",
      "range": {
        "startLine": 41,
        "startChar": 1,
        "endLine": 41,
        "endChar": 8
      },
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b17d1fc8_75c73278",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 83,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-02-08T19:10:34Z",
      "side": 1,
      "message": "huge nit: r",
      "range": {
        "startLine": 83,
        "startChar": 71,
        "endLine": 83,
        "endChar": 74
      },
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d06e341_05bbe857",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 83,
      "author": {
        "id": 1242535
      },
      "writtenOn": "2019-02-08T21:56:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b17d1fc8_75c73278",
      "range": {
        "startLine": 83,
        "startChar": 71,
        "endLine": 83,
        "endChar": 74
      },
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "92015167_aca06c19",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 88,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-02-08T08:58:07Z",
      "side": 1,
      "message": "timeout does not seem to work, if sc.Scan() blocks?",
      "range": {
        "startLine": 88,
        "startChar": 5,
        "endLine": 88,
        "endChar": 14
      },
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ce3edf0_8c8a43d9",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 88,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-02-08T15:46:59Z",
      "side": 1,
      "message": "are you talking about the ctx.Err check? i think that this runs in a goroutine, so i was just suggesting that to make sure that this exits eventually. but yes, if the underlying command is bound by ctx\u0027s deadline, then this probably isn\u0027t necessary, since sc.Scan() will presumably return (and set an error in sc.Err()) when the command is killed. is that what you meant?",
      "parentUuid": "92015167_aca06c19",
      "range": {
        "startLine": 88,
        "startChar": 5,
        "endLine": 88,
        "endChar": 14
      },
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68bdc9ba_71df77e7",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 88,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-02-08T19:10:34Z",
      "side": 1,
      "message": "Mostly yes.\nIn precise, my point was;\n- If ctx is passed and timeout is a spec of this function, this implementation does not work.\n- Removing ctx and timeout spec also works for me, assuming the command is killed on timed out.",
      "parentUuid": "2ce3edf0_8c8a43d9",
      "range": {
        "startLine": 88,
        "startChar": 5,
        "endLine": 88,
        "endChar": 14
      },
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fdcd406e_5ead2c2b",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/monitor.go",
        "patchSetId": 4
      },
      "lineNbr": 88,
      "author": {
        "id": 1242535
      },
      "writtenOn": "2019-02-08T21:56:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "68bdc9ba_71df77e7",
      "range": {
        "startLine": 88,
        "startChar": 5,
        "endLine": 88,
        "endChar": 14
      },
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2da3ddbe_72967a5e",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/setup.go",
        "patchSetId": 4
      },
      "lineNbr": 56,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-02-08T04:00:58Z",
      "side": 1,
      "message": "please move this up before the block on L51. otherwise, the command doesn\u0027t get stopped if waitLaunch returns an error",
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f173ff00_566619ec",
        "filename": "src/chromiumos/tast/local/bundles/cros/printer/usbprinter/setup.go",
        "patchSetId": 4
      },
      "lineNbr": 56,
      "author": {
        "id": 1242535
      },
      "writtenOn": "2019-02-08T21:56:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2da3ddbe_72967a5e",
      "revId": "27755c8391b2c5e39ead327e8ffcb24e1e65fa7b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}