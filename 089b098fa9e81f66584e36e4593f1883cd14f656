{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "df99cfce_94501743",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-04-21T09:34:50Z",
      "side": 1,
      "message": "PTAL\n\nI added the deprovisioning of the DUT as a clean up step.",
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2570f0cd_3108ed32",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-21T10:03:40Z",
      "side": 1,
      "message": "I am excited to see this CL ðŸ˜Š",
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4358857f_60116c94",
        "filename": "src/chromiumos/tast/local/bundles/cros/enterprise/arc_snapshot_service.go",
        "patchSetId": 2
      },
      "lineNbr": 93,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2022-04-21T09:57:54Z",
      "side": 1,
      "message": "Before the change WaitForPackagesInMgs() was invoked right after Enroll().\nBut currently there is also GetDeviceID() that is running inside MGS and subtracts its runtime from the following WaitForPackesInMgs()\u0027s perf metrics.\n\nDo you have some estimates on how long does it take to run GetDeviceID()?\n\nIf it\u0027s more than a few seconds, I would add startTime to ArcSnapshotService struct and save startTime in GetDeviceID() for the first WaitForPackagesInMgs() call.",
      "range": {
        "startLine": 93,
        "startChar": 1,
        "endLine": 93,
        "endChar": 24
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea583f05_8d7973c6",
        "filename": "src/chromiumos/tast/local/bundles/cros/enterprise/arc_snapshot_service.go",
        "patchSetId": 2
      },
      "lineNbr": 93,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-04-22T12:31:39Z",
      "side": 1,
      "message": "It\u0027s only a few seconds, but I\u0027ve added startTime to the struct as suggested just to be sure.",
      "parentUuid": "4358857f_60116c94",
      "range": {
        "startLine": 93,
        "startChar": 1,
        "endLine": 93,
        "endChar": 24
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b8c7f1f5_0523a850",
        "filename": "src/chromiumos/tast/local/bundles/cros/enterprise/arc_snapshot_service.go",
        "patchSetId": 2
      },
      "lineNbr": 93,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2022-04-28T13:40:00Z",
      "side": 1,
      "message": "Thanks!",
      "parentUuid": "ea583f05_8d7973c6",
      "range": {
        "startLine": 93,
        "startChar": 1,
        "endLine": 93,
        "endChar": 24
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05a9bb1c_68d82c75",
        "filename": "src/chromiumos/tast/local/bundles/cros/enterprise/arc_snapshot_service.go",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-21T10:03:40Z",
      "side": 1,
      "message": "Just thinking if that is the right place for this function as it serves general purpose and is not licked to ARC.",
      "range": {
        "startLine": 201,
        "startChar": 35,
        "endLine": 201,
        "endChar": 46
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e0d04d6_41cae907",
        "filename": "src/chromiumos/tast/local/bundles/cros/enterprise/arc_snapshot_service.go",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-04-22T09:36:53Z",
      "side": 1,
      "message": "I also thought about it, but the problem is that it will depend on the test how it works as we need the chrome instance we got here from the enrollment to connect to chrome://policy.\nAlso the way we sign in will be differently, in this test we just start an ARC instance, others might sign in just normally or are just signed in for the whole test.\n\nSo this function here is too specific for this test and unfortunately I don\u0027t see a way to make it more general right now.",
      "parentUuid": "05a9bb1c_68d82c75",
      "range": {
        "startLine": 201,
        "startChar": 35,
        "endLine": 201,
        "endChar": 46
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa92cf32_cb4817f2",
        "filename": "src/chromiumos/tast/local/bundles/cros/enterprise/arc_snapshot_service.go",
        "patchSetId": 2
      },
      "lineNbr": 201,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-25T13:57:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5e0d04d6_41cae907",
      "range": {
        "startLine": 201,
        "startChar": 35,
        "endLine": 201,
        "endChar": 46
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0910c34a_93d813ce",
        "filename": "src/chromiumos/tast/local/bundles/cros/enterprise/arc_snapshot_service.go",
        "patchSetId": 2
      },
      "lineNbr": 232,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-21T10:03:40Z",
      "side": 1,
      "message": "I would give this a name like \"DirectoryAPIIDDOMValue\". I see there is a waiting for a node with string before this search but IMHO this should have its name otherwise it is a magic value.\n\nAlso, the css can be shortened to:\n#status-box-container \u003e fieldset:nth-child(1) .directory-api-id\n\nthe label is in the section with id\u003dstatus-box-container, the first fieldset, and with class\u003ddirectory-api-id",
      "range": {
        "startLine": 232,
        "startChar": 26,
        "endLine": 232,
        "endChar": 150
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73e1bab7_f6eb64ee",
        "filename": "src/chromiumos/tast/local/bundles/cros/enterprise/arc_snapshot_service.go",
        "patchSetId": 2
      },
      "lineNbr": 232,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-21T10:07:56Z",
      "side": 1,
      "message": "Or maybe:\nfieldSelector :\u003d \"#status-box-container \u003e fieldset:nth-child(1) .directory-api-id\"\n\nvalue :\u003d fmt.Sprintf(\"document.querySelector(\\\"%s\\\").innerText\", fielSelector)\n\nconn.Eval(ctx, value, ...)",
      "parentUuid": "0910c34a_93d813ce",
      "range": {
        "startLine": 232,
        "startChar": 26,
        "endLine": 232,
        "endChar": 150
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "957573d2_569adf03",
        "filename": "src/chromiumos/tast/local/bundles/cros/enterprise/arc_snapshot_service.go",
        "patchSetId": 2
      },
      "lineNbr": 232,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-04-22T12:31:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "73e1bab7_f6eb64ee",
      "range": {
        "startLine": 232,
        "startChar": 26,
        "endLine": 232,
        "endChar": 150
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a7a25504_1edc840b",
        "filename": "src/chromiumos/tast/local/bundles/cros/enterprise/arc_snapshot_service.go",
        "patchSetId": 2
      },
      "lineNbr": 232,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-25T13:57:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "73e1bab7_f6eb64ee",
      "range": {
        "startLine": 232,
        "startChar": 26,
        "endLine": 232,
        "endChar": 150
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7e4ae91_f32179a9",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2022-04-21T09:57:54Z",
      "side": 1,
      "message": "Is it a fake value? Where is it coming from?",
      "range": {
        "startLine": 80,
        "startChar": 21,
        "endLine": 80,
        "endChar": 30
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "43aaf558_9ccdceda",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-21T10:03:40Z",
      "side": 1,
      "message": "Where does this come from? Is it related to Tape or the account that will be deprovisioned?",
      "range": {
        "startLine": 80,
        "startChar": 1,
        "endLine": 80,
        "endChar": 31
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0fe39d8b_a1610c2b",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-04-22T09:36:53Z",
      "side": 1,
      "message": "This is the customerID of the managedchrome.com domain. It is needed by the Directory API to identify the customer for which the device should be deprovisioned.\nMaybe it\u0027s better to move that to VarDeps instead.",
      "parentUuid": "d7e4ae91_f32179a9",
      "range": {
        "startLine": 80,
        "startChar": 21,
        "endLine": 80,
        "endChar": 30
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f8639985_ab4ffe77",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 80,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-04-22T09:36:53Z",
      "side": 1,
      "message": "See above.",
      "parentUuid": "43aaf558_9ccdceda",
      "range": {
        "startLine": 80,
        "startChar": 1,
        "endLine": 80,
        "endChar": 31
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ab8c004_d3eb38d1",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 90,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-21T10:03:40Z",
      "side": 1,
      "message": "Why do we need to use two accounts and check the first and then the second one?",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 90,
        "endChar": 3
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5f64c35_5f74888a",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 90,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-04-22T09:36:53Z",
      "side": 1,
      "message": "Which service account is present depends on whether the test is being run on a DUT or in a VM as those are started from different hosts.",
      "parentUuid": "7ab8c004_d3eb38d1",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 90,
        "endChar": 3
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec961d03_4bf84ecc",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 90,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-25T13:57:14Z",
      "side": 1,
      "message": "Then, we could parameterize the test depending whether it runs on VM or not and use the appropriate account for each option.\n\nThat reads a bit fishy, don\u0027t you think? - try one account, if it is an error, thy another one.\n\nIf not parameters, this part requires comments why it is done this way.",
      "parentUuid": "c5f64c35_5f74888a",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 90,
        "endChar": 3
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3cefb0f3_a7037a6f",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 90,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-04-25T15:22:03Z",
      "side": 1,
      "message": "I don\u0027t know how to parameterise based on whether it runs on VM or not. I\u0027m not aware of any check for that, after all the test doesn\u0027t know where it is started from.\nBut a comment definitely makes sense here.",
      "parentUuid": "ec961d03_4bf84ecc",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 90,
        "endChar": 3
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8d45a88_e13bd938",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 90,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-27T07:20:38Z",
      "side": 1,
      "message": "I guess it will be:\nVM \u003d qemu [1]\nReal hardware \u003d crossystem [2]\n\n[1] https://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast/src/chromiumos/tast/internal/crosbundle/software_defs.go;l\u003d157?q\u003dsoftware_defs\n[2] https://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast/src/chromiumos/tast/internal/crosbundle/software_defs.go;l\u003d55?q\u003dsoftware_defs",
      "parentUuid": "3cefb0f3_a7037a6f",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 90,
        "endChar": 3
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fe4d4980_ade44b5b",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 90,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-04-28T09:59:47Z",
      "side": 1,
      "message": "obsolete",
      "parentUuid": "d8d45a88_e13bd938",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 90,
        "endChar": 3
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1adb24ac_59799fd0",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-21T10:03:40Z",
      "side": 1,
      "message": "I think \"Failed to create a Tape client\" would be better here.",
      "range": {
        "startLine": 97,
        "startChar": 12,
        "endLine": 97,
        "endChar": 40
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "360b1dfa_e8db619e",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-04-22T12:31:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1adb24ac_59799fd0",
      "range": {
        "startLine": 97,
        "startChar": 12,
        "endLine": 97,
        "endChar": 40
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58a15f0f_9ae66f8f",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 100,
      "author": {
        "id": 1459973
      },
      "writtenOn": "2022-04-21T10:03:40Z",
      "side": 1,
      "message": "Which details could we log here to provide more info for forensics?",
      "range": {
        "startLine": 100,
        "startChar": 12,
        "endLine": 100,
        "endChar": 42
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a011e507_9ffc1428",
        "filename": "src/chromiumos/tast/remote/bundles/cros/enterprise/arc_snapshot.go",
        "patchSetId": 2
      },
      "lineNbr": 100,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-04-22T12:31:39Z",
      "side": 1,
      "message": "I\u0027ve added the deviceId there isn\u0027t much more to log, but that should be enough to at least check the admin console for the device.",
      "parentUuid": "58a15f0f_9ae66f8f",
      "range": {
        "startLine": 100,
        "startChar": 12,
        "endLine": 100,
        "endChar": 42
      },
      "revId": "089b098fa9e81f66584e36e4593f1883cd14f656",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}