{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a5911ade_8b734f5a",
        "filename": "src/chromiumos/tast/local/android/adb/device.go",
        "patchSetId": 6
      },
      "lineNbr": 147,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-11-04T08:08:36Z",
      "side": 1,
      "message": "I recommend doing this in a separate CL for better history and easier reverting later.",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 147,
        "endChar": 5
      },
      "revId": "1d2712abc2f8987d6b379487bbd527ce723b26eb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b394869a_eee52960",
        "filename": "src/chromiumos/tast/local/android/adb/device.go",
        "patchSetId": 6
      },
      "lineNbr": 308,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-11-04T08:08:36Z",
      "side": 1,
      "message": "ADB can forward non-tcp sockets as well. So can you either:\n\n- Make it generic, e.g. Forward(ctx context.Context, androidPort string)\n- Make it specific to TCP, e.g. ForwardTCP(ctx context.Context, androidPort int)",
      "range": {
        "startLine": 308,
        "startChar": 17,
        "endLine": 308,
        "endChar": 24
      },
      "revId": "1d2712abc2f8987d6b379487bbd527ce723b26eb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f0314d0_194ad651",
        "filename": "src/chromiumos/tast/local/android/adb/device.go",
        "patchSetId": 6
      },
      "lineNbr": 317,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-11-04T08:08:36Z",
      "side": 1,
      "message": "ditto.",
      "range": {
        "startLine": 317,
        "startChar": 17,
        "endLine": 317,
        "endChar": 30
      },
      "revId": "1d2712abc2f8987d6b379487bbd527ce723b26eb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5198b5e_0d156bd7",
        "filename": "src/chromiumos/tast/local/android/ui/device.go",
        "patchSetId": 6
      },
      "lineNbr": 100,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-11-04T08:08:36Z",
      "side": 1,
      "message": "huge nit: const localPort \u003d 9008\n\nThat said, I\u0027m afraid that use of \"local\" here might be a bit misleading. IIUC it\u0027s a port in Android side, not in Chrome OS side. How about naming it androidPort to clarify?",
      "range": {
        "startLine": 100,
        "startChar": 1,
        "endLine": 100,
        "endChar": 18
      },
      "revId": "1d2712abc2f8987d6b379487bbd527ce723b26eb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7458d17c_2f9f4946",
        "filename": "src/chromiumos/tast/local/android/ui/device.go",
        "patchSetId": 6
      },
      "lineNbr": 101,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-11-04T08:08:36Z",
      "side": 1,
      "message": "I guess ictx is suitable here. IIUC \"ctx\" is for the \"am instrument\" process that continues to run after NewDevice, and \"ictx\" is for all other operations within this function.\n\nAlternatively I think we can start \"am instrument\" with context.Background(), and use a short ctx consistently in this function.",
      "range": {
        "startLine": 101,
        "startChar": 28,
        "endLine": 101,
        "endChar": 31
      },
      "revId": "1d2712abc2f8987d6b379487bbd527ce723b26eb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f688d21b_5691e0c6",
        "filename": "src/chromiumos/tast/local/android/ui/device.go",
        "patchSetId": 6
      },
      "lineNbr": 108,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-11-04T08:08:36Z",
      "side": 1,
      "message": "same here: ictx?",
      "range": {
        "startLine": 108,
        "startChar": 10,
        "endLine": 108,
        "endChar": 13
      },
      "revId": "1d2712abc2f8987d6b379487bbd527ce723b26eb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93ba2686_7b52515b",
        "filename": "src/chromiumos/tast/local/android/ui/device.go",
        "patchSetId": 6
      },
      "lineNbr": 152,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-11-04T08:08:36Z",
      "side": 1,
      "message": "d.sp.Wait is very likely to return an error because we call d.sp.Kill to abort the process. So I\u0027m afraid RemoveForward is called rarely.",
      "range": {
        "startLine": 152,
        "startChar": 16,
        "endLine": 152,
        "endChar": 20
      },
      "revId": "1d2712abc2f8987d6b379487bbd527ce723b26eb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}