{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a1b2adc5_b1b86090",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/routing/routing.go",
        "patchSetId": 3
      },
      "lineNbr": 368,
      "author": {
        "id": 1356183
      },
      "writtenOn": "2022-06-15T09:11:03Z",
      "side": 1,
      "message": "I guess we need a way to specify that a destination is only reachable for root but not for chronos as that shall be the expected behavior of fall-through according to our discussion?",
      "range": {
        "startLine": 368,
        "startChar": 1,
        "endLine": 368,
        "endChar": 51
      },
      "revId": "d9a148b2b1214d6d007166aed8e156184974c667",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "971a447a_e0db229f",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/routing/routing.go",
        "patchSetId": 3
      },
      "lineNbr": 368,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-06-15T10:55:48Z",
      "side": 1,
      "message": "If I didn\u0027t miss anything from our discussion, I suppose that the current VerifyOptions contains enough information to represent the expected fall-through behavior? We just need to change the verification here (maybe need to add expectation for bind-interface behavior)\n\nI haven\u0027t thought carefully on how to represent the split-routing property for the VPN cases, but I think we don\u0027t need to worry about that atm.",
      "parentUuid": "a1b2adc5_b1b86090",
      "range": {
        "startLine": 368,
        "startChar": 1,
        "endLine": 368,
        "endChar": 51
      },
      "revId": "d9a148b2b1214d6d007166aed8e156184974c667",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b412afc_4a1fdd62",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/routing/routing.go",
        "patchSetId": 3
      },
      "lineNbr": 368,
      "author": {
        "id": 1356183
      },
      "writtenOn": "2022-06-15T11:51:33Z",
      "side": 1,
      "message": "I remember the expected behavior (of primary:physical secondary:physical case) is that system traffic should be allowed to fall through but user traffic not?",
      "parentUuid": "971a447a_e0db229f",
      "range": {
        "startLine": 368,
        "startChar": 1,
        "endLine": 368,
        "endChar": 51
      },
      "revId": "d9a148b2b1214d6d007166aed8e156184974c667",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f12b8655_eff575c1",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/routing/routing.go",
        "patchSetId": 3
      },
      "lineNbr": 368,
      "author": {
        "id": 1356183
      },
      "writtenOn": "2022-06-15T14:51:06Z",
      "side": 1,
      "message": "Ah I see what you are meaning. Yes VerifyOptions is good. I\u0027m saying pingableAddrs and notPingableAddrs might not be enough since there could be addrs expected to be reachable by root but not chronos.",
      "parentUuid": "6b412afc_4a1fdd62",
      "range": {
        "startLine": 368,
        "startChar": 1,
        "endLine": 368,
        "endChar": 51
      },
      "revId": "d9a148b2b1214d6d007166aed8e156184974c667",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b30747ee_962f9b0e",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/routing/routing.go",
        "patchSetId": 3
      },
      "lineNbr": 368,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-06-16T02:24:59Z",
      "side": 1,
      "message": "\u003e I\u0027m saying pingableAddrs and notPingableAddrs might not be enough\nYes sure, we can find a better representation here when we fix the logic in shill/patchpanel",
      "parentUuid": "f12b8655_eff575c1",
      "range": {
        "startLine": 368,
        "startChar": 1,
        "endLine": 368,
        "endChar": 51
      },
      "revId": "d9a148b2b1214d6d007166aed8e156184974c667",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cdf2fdd8_38aa74b0",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/routing/routing.go",
        "patchSetId": 3
      },
      "lineNbr": 368,
      "author": {
        "id": 1238096
      },
      "writtenOn": "2022-06-16T02:58:54Z",
      "side": 1,
      "message": "\u003e I remember the expected behavior (of primary:physical secondary:physical case) is that system traffic should be allowed to fall through but user traffic not?\n\nYes. Note that we also discussed allowing this for Crostini for instance, which has its own traffic category but is not system traffic.\n\nThe real problem here is Chrome\u0027s behavior.\n\n\n\u003e I guess we need a way to specify that a destination is only reachable for root but not for chronos\n\nAgreed. Since the routing rules take into account the source, we will have more cases in the tests of checking an assert for traffic from a specific source. So ideally the asserts / code generating traffic should be organized around the patchpanel traffic sources and not the uids directly.",
      "parentUuid": "b30747ee_962f9b0e",
      "range": {
        "startLine": 368,
        "startChar": 1,
        "endLine": 368,
        "endChar": 51
      },
      "revId": "d9a148b2b1214d6d007166aed8e156184974c667",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}