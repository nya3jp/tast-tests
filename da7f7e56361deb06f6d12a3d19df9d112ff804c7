{
  "comments": [
    {
      "key": {
        "uuid": "1ccedf1f_aa71c28d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2020-08-07T15:19:28Z",
      "side": 1,
      "message": "lgtm % Mukai",
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "822546f4_9100a310",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-08-07T17:48:54Z",
      "side": 1,
      "message": "Looking good, thanks!  Left some nit comments.",
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b557923_8e90b1fc",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 25,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-08-07T17:48:54Z",
      "side": 1,
      "message": "You can store tconn as a field here, so that all methods don\u0027t have to receive tconn.",
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97d130ae_0dcd9c67",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 25,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T11:39:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3b557923_8e90b1fc",
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3713137f_46339547",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 33,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-08-07T17:48:54Z",
      "side": 1,
      "message": "with removing all use of this variable, you can now remove this definition and things will be much simplified (you can remove (function() { ... }())",
      "range": {
        "startLine": 33,
        "startChar": 6,
        "endLine": 33,
        "endChar": 19
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79be9f5f_c9612233",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 33,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T11:39:59Z",
      "side": 1,
      "message": "Do you mean expr :\u003d `{\n\t\t\tchunks: [],\n\t\t\trecorder: null,\n\t\t\tstreamPromise: null,\n\t\t\t...\n                     }`?\n\nIt said SyntaxError, maybe it only accepts functions?",
      "parentUuid": "3713137f_46339547",
      "range": {
        "startLine": 33,
        "startChar": 6,
        "endLine": 33,
        "endChar": 19
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c83aaf26_9c877552",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 33,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-08-10T21:34:41Z",
      "side": 1,
      "message": "That\u0027s due to kinda ambiguity of JavaScript. To make it an Object literal, it will have to be \"({ chunks: [], ... })\"",
      "parentUuid": "79be9f5f_c9612233",
      "range": {
        "startLine": 33,
        "startChar": 6,
        "endLine": 33,
        "endChar": 19
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19ac3bd0_77f4a099",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 47,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-08-07T17:48:54Z",
      "side": 1,
      "message": "\"this\" can be used here",
      "range": {
        "startLine": 47,
        "startChar": 20,
        "endLine": 47,
        "endChar": 33
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4165d78_90682eb7",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 47,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-08-07T17:48:54Z",
      "side": 1,
      "message": "this.streamPromise.then(...) \n\nor use async?\n  start: async function() {\n    this.chunks \u003d [];\n    let stream \u003d await this.streamPromise;\n    this.recorder \u003d new MediaRecorder(stream, ...);\n    ...\n  }",
      "range": {
        "startLine": 47,
        "startChar": 4,
        "endLine": 47,
        "endChar": 48
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b195d8ea_21ed4c4d",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 47,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T11:39:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b4165d78_90682eb7",
      "range": {
        "startLine": 47,
        "startChar": 4,
        "endLine": 47,
        "endChar": 48
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "078074d2_825f24fd",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 47,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T11:39:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "19ac3bd0_77f4a099",
      "range": {
        "startLine": 47,
        "startChar": 20,
        "endLine": 47,
        "endChar": 33
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68c5851e_beab6415",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 51,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-08-07T17:48:54Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 51,
        "startChar": 7,
        "endLine": 51,
        "endChar": 20
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6265f69_05de7720",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 51,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T11:39:59Z",
      "side": 1,
      "message": "I think \u0027this\u0027 here is not \u0027videoRecorder\u0027, console.log(this \u003d\u003d videoRecorder) is false",
      "parentUuid": "68c5851e_beab6415",
      "range": {
        "startLine": 51,
        "startChar": 7,
        "endLine": 51,
        "endChar": 20
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c363f12_33ee8eac",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 60,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-08-07T17:48:54Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 60,
        "startChar": 26,
        "endLine": 60,
        "endChar": 39
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c06ebb6_b55fb19c",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 60,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T11:39:59Z",
      "side": 1,
      "message": "I think \u0027this\u0027 here is not \u0027videoRecorder\u0027, console.log(this \u003d\u003d videoRecorder) is false",
      "parentUuid": "2c363f12_33ee8eac",
      "range": {
        "startLine": 60,
        "startChar": 26,
        "endLine": 60,
        "endChar": 39
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "214a1917_4c56d7ca",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 60,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2020-08-10T17:18:12Z",
      "side": 1,
      "message": "Drive by, think we could do \".bind(this)\" on the stop handler to make |this| correct.\ni.e.\n\n  this.recorder.onstop \u003d function() {\n    var blob \u003d new Block(this.chunks, , {\u0027type\u0027: \u0027video/webm\u0027});\n    ...\n  }.bind(this);",
      "parentUuid": "6c06ebb6_b55fb19c",
      "range": {
        "startLine": 60,
        "startChar": 26,
        "endLine": 60,
        "endChar": 39
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9226ae79_10da5cd6",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 60,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T18:56:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "214a1917_4c56d7ca",
      "range": {
        "startLine": 60,
        "startChar": 26,
        "endLine": 60,
        "endChar": 39
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0a0a87b6_7954aab2",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 141,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-08-07T17:48:54Z",
      "side": 1,
      "message": "simply \"return this.stop();\" should be fine?",
      "range": {
        "startLine": 141,
        "startChar": 65,
        "endLine": 141,
        "endChar": 111
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72e84ed9_83d6edc3",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 141,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T11:39:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0a0a87b6_7954aab2",
      "range": {
        "startLine": 141,
        "startChar": 65,
        "endLine": 141,
        "endChar": 111
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d8d5ba6_f67c3647",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 141,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2020-08-10T17:18:12Z",
      "side": 1,
      "message": "I think the previous version that has \"await\" is more correct.\n\nDo we get correct data in |result|? I mean this.stop() returns a Promise. Would JSObject.call correctly waits for it to resolve then unmarshall the value to |result| ?",
      "parentUuid": "72e84ed9_83d6edc3",
      "range": {
        "startLine": 141,
        "startChar": 65,
        "endLine": 141,
        "endChar": 111
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a808fa6e_4875081a",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 141,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T18:06:46Z",
      "side": 1,
      "message": "Yeah we get correct result somehow. I agree that await function is more safe?",
      "parentUuid": "2d8d5ba6_f67c3647",
      "range": {
        "startLine": 141,
        "startChar": 65,
        "endLine": 141,
        "endChar": 111
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "161e0ec9_7ce2b651",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 141,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T18:56:49Z",
      "side": 1,
      "message": "Since it works so I think JSObject.Call handles this so let\u0027s keep it simple here?",
      "parentUuid": "a808fa6e_4875081a",
      "range": {
        "startLine": 141,
        "startChar": 65,
        "endLine": 141,
        "endChar": 111
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d8a0e39_d57625d1",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 151,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-08-07T17:48:54Z",
      "side": 1,
      "message": "nit: tconn is not necessary?",
      "range": {
        "startLine": 151,
        "startChar": 51,
        "endLine": 151,
        "endChar": 73
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ca894a3_f958eb96",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 151,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T11:39:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6d8a0e39_d57625d1",
      "range": {
        "startLine": 151,
        "startChar": 51,
        "endLine": 151,
        "endChar": 73
      },
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9930a62e_0d93acd2",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 159,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-08-07T17:48:54Z",
      "side": 1,
      "message": "Maybe you should have a check of\n  if r.isRecording {\n    r.Stop(ctx)\n  }",
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5386d0a1_57c7beb2",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/screen_recorder.go",
        "patchSetId": 19
      },
      "lineNbr": 159,
      "author": {
        "id": 1412245
      },
      "writtenOn": "2020-08-10T11:39:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9930a62e_0d93acd2",
      "revId": "da7f7e56361deb06f6d12a3d19df9d112ff804c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}