{
  "comments": [
    {
      "key": {
        "uuid": "d7ce0a76_8d4e8699",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-06T12:41:20Z",
      "side": 1,
      "message": "Clar: Why English is just for special? Can it be handled uniformly with other languages?",
      "range": {
        "startLine": 21,
        "startChar": 16,
        "endLine": 21,
        "endChar": 45
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d635ecff_c169744f",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-07T04:51:46Z",
      "side": 1,
      "message": "A couple of reasons:\n1. I didn\u0027t want to affect an existing test if this was flaky.\n2. Vast majority of our usage is on US English, so we wanted dedicated tests for it.\n\nI don\u0027t feel strongly about this; I wouldn\u0027t mind merging VirtualKeyboardSuggestions and VirtualKeyboardOtherLanguages in the future.",
      "parentUuid": "d7ce0a76_8d4e8699",
      "range": {
        "startLine": 21,
        "startChar": 16,
        "endLine": 21,
        "endChar": 45
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9d178c4b_9be45c8a",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T15:58:50Z",
      "side": 1,
      "message": "I\u0027d recommend, either;\n1) Merge those. The most of the code look to be able to be shared. Or,\n2) Extract common part into a subpackage to share. Then, introduce a test case for each language, like VirtualKeyboardSuggestionEnglish, VirtualKeyboardSuggestionJapanese, ...\n\n1) looks simpler to me. Though, as you commented there\u0027s a risk of the flakiness affected by other languages.\n2) is less risk. E.g., even if Mozc test fails, English VK test should still work. (Then, we probably want PreCondition for VK enabled Chrome for performance).\nAlso, I\u0027d recommend to avoid the name \"OtherLanguages\" without context to respect each language. \n\nWDYT?",
      "parentUuid": "d635ecff_c169744f",
      "range": {
        "startLine": 21,
        "startChar": 16,
        "endLine": 21,
        "endChar": 45
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba9dee82_438f2c56",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-08T00:57:02Z",
      "side": 1,
      "message": "Ah, I apologise for the choice of wording here, I can see how it may be insensitive. Thank you for bring it up.\n\nGiven that VirtualKeyboardSuggestions got disabled anyway, maybe I\u0027ll go with option 1) then. When I add a new test case, would I need to disable the test first to prove that the new test case is not flaky?\n\nI think option 2) might not be scalable in the long run.",
      "parentUuid": "9d178c4b_9be45c8a",
      "range": {
        "startLine": 21,
        "startChar": 16,
        "endLine": 21,
        "endChar": 45
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1c989ee_aad16b52",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-10T04:32:14Z",
      "side": 1,
      "message": "+1 for the current plan.\n\n\u003e When I add a new test case, would I need to disable the test first to prove that the new test case is not flaky?\n\nUnfortunately, there\u0027s no good support of such a case now, so filed a bug crbug.com/972472.\nProbably, the better approach I could come up with is;\n- Introduce two tests, e.g., VirtualKeyboardSuggestions and VirtualKeyboardSuggestionsInformational.\n- Share most part between those, except test data, by using subpackage.\n- Start adding a new test data into VirtualKeyboardSuggestionsInformational, and when it is stabilized, switch to VirtualKeyboardSuggestions.\n\nOr, 2) may give you to fully control of \"informational/non-informatinal\" per language, (though, I agreed with you that it may be a bit verbose).\nBTW, IMHO, scalability wouldn\u0027t be so different from the test data approach? I guess, you\u0027d need just almost copy of init() and oneline func body for each language.\nIt\u0027d be something like;\nhttps://chromium.googlesource.com/chromiumos/platform/tast-tests/+/16a9c06b7d864f0c3a6c3dcd4e806fdcbd029546/src/chromiumos/tast/local/bundles/cros/platform/dm_verity.go",
      "parentUuid": "ba9dee82_438f2c56",
      "range": {
        "startLine": 21,
        "startChar": 16,
        "endLine": 21,
        "endChar": 45
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df96266e_ca0fb1a7",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-06T12:41:20Z",
      "side": 1,
      "message": "Could you add personal contact, too?\n\ncf) https://godoc.org/chromium.googlesource.com/chromiumos/platform/tast.git/src/chromiumos/tast/testing#Test\n\nquote:\n// Contacts is a list of email addresses of persons and groups who are familiar with the test.\n// At least one personal email address of an active committer should be specified so that we can\n// file bugs or ask for code reviews.",
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb973d46_a3ce0d5a",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-07T04:51:46Z",
      "side": 1,
      "message": "Sure, sounds good.",
      "parentUuid": "df96266e_ca0fb1a7",
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39778135_91053c58",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-06T12:41:20Z",
      "side": 1,
      "message": "chrome_login was now merged into chrome and deleted.\nCould you delete this one?",
      "range": {
        "startLine": 25,
        "startChar": 35,
        "endLine": 25,
        "endChar": 49
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7a3ee0c_1bd00ba3",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-07T04:51:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "39778135_91053c58",
      "range": {
        "startLine": 25,
        "startChar": 35,
        "endLine": 25,
        "endChar": 49
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e0c473be_b803370e",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-06T12:41:20Z",
      "side": 1,
      "message": "nit/optional: for consistency\n\n\"Failed to create connection ...\" ?",
      "range": {
        "startLine": 78,
        "startChar": 11,
        "endLine": 78,
        "endChar": 60
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c6443fc_9431388d",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-07T04:51:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e0c473be_b803370e",
      "range": {
        "startLine": 78,
        "startChar": 11,
        "endLine": 78,
        "endChar": 60
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d901e9db_68ee8a7a",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 96,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-06T12:41:20Z",
      "side": 1,
      "message": "How about adding test name? In some languages, there\u0027re several variations to generate same suggestion. E.g., in Japanese, both \"nihon\" and \"nippon\" generate \"日本\" (Japan), so the method name and expectation looks not unique enough.",
      "range": {
        "startLine": 96,
        "startChar": 2,
        "endLine": 96,
        "endChar": 87
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e0ca8d5_6b043446",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 96,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-07T04:51:46Z",
      "side": 1,
      "message": "Hmm yeah I didn\u0027t think about that. TBH, my plan for this test was to just sanity check each input method (check if our UI integrates correctly with backend language model), so an input method should only appear once in the list. Exhaustive testing of the suggestions would be done at a unit test level of the language models.\n\nI don\u0027t feel too strongly about this though.",
      "parentUuid": "d901e9db_68ee8a7a",
      "range": {
        "startLine": 96,
        "startChar": 2,
        "endLine": 96,
        "endChar": 87
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f75f8a9c_25fd7351",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 96,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-07T15:58:50Z",
      "side": 1,
      "message": "Then, could you comment that your intention that each InputMethod would have one test entry?\noptional: then probably it\u0027s ok to drop \"expecting: ...\" part.",
      "parentUuid": "1e0ca8d5_6b043446",
      "range": {
        "startLine": 96,
        "startChar": 2,
        "endLine": 96,
        "endChar": 87
      },
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef2b34f4_aac04fa9",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-06T12:41:20Z",
      "side": 1,
      "message": "Fatal immediately terminates the test, without running the following scenario.\nE.g., in this case, if nacl_mozc_jp fails, nacl_mozc_us won\u0027t run.\nHow about\n\ns.Error(...)\ncontinue\n\ninstead?\n\nDitto for below s.Fatal in this loop.",
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c004bf8_bfb5568b",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-07T04:51:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ef2b34f4_aac04fa9",
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3af35cf3_968e0751",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-06T12:41:20Z",
      "side": 1,
      "message": "style: could you run this in the if condition?\n\nif err :\u003d testing.Poll(ctx, func(...) error {\n  ... // poll body.\n}, nil); err !\u003d nil {\n  ... // error handling.\n}\n\nthe document is also being updated.\ncrrev.com/c/1642591",
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae7760d0_54a3bd54",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-07T04:51:46Z",
      "side": 1,
      "message": "Ooh, thanks, that looks better.",
      "parentUuid": "3af35cf3_968e0751",
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bcfb1633_055b4dc7",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 126,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-06-06T12:41:20Z",
      "side": 1,
      "message": "s.Fatal().\nerr won\u0027t be printed now.\n\nFYI/offtopic: crrev.com/c/1640860 will help you to find this pattern during the preupload.",
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53cc6837_bed42d19",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/virtual_keyboard_other_languages.go",
        "patchSetId": 2
      },
      "lineNbr": 126,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2019-06-07T04:51:46Z",
      "side": 1,
      "message": "Ah okay, great to hear that this is being automated :)",
      "parentUuid": "bcfb1633_055b4dc7",
      "revId": "d93d38a61f13a69cf72c4a3f64a1e621b8df3d4f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}