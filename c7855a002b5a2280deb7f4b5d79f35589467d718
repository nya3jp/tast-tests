{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "092a1538_e8cb71b9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-10-02T21:29:23Z",
      "side": 1,
      "message": "wifi.RoamAPGone:\nI deleted the monitor and only waited for BSSID change. \n\nwifi.RoamDbus: \nI kept the monitor and changed the arguments in ExpectShillProperty() to check that the service is connected first, then wait for the BSSID change.\n\nBoth:\nI had to modify the function VerifyConnection()in test_fixture.go to wait for the server and client subnet to match, because the client IP address takes ~ 5 sec to change to the new subnet.",
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17ecabaf_e9bef5bc",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_ap_gone.go",
        "patchSetId": 3
      },
      "lineNbr": 90,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2020-10-03T05:18:21Z",
      "side": 1,
      "message": "\"This test associates a device to an AP, and then configures another AP on the same SSID. It verifies that, after we deconfigure the first AP, the DUT eventually associates to the second AP.\"",
      "range": {
        "startLine": 86,
        "startChar": 4,
        "endLine": 90,
        "endChar": 15
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "42b76238_985da3c5",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_ap_gone.go",
        "patchSetId": 3
      },
      "lineNbr": 90,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-10-09T04:19:58Z",
      "side": 1,
      "message": "Done, I am moving this test change to a seperate cl, because it does not depend on the montior.\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/2455274",
      "parentUuid": "17ecabaf_e9bef5bc",
      "range": {
        "startLine": 86,
        "startChar": 4,
        "endLine": 90,
        "endChar": 15
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41e82d56_b15d523d",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_ap_gone.go",
        "patchSetId": 3
      },
      "lineNbr": 182,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-10-06T04:44:27Z",
      "side": 1,
      "message": "chharry@ encountered a problem when applying similar waiting in his CL: When BSSID is changed to ap2BSSID, DHCP might not yet be renewed, so the VerifyConnection here might fail.\n\nIIUC, we now might not see any state changes when roaming. One question: Is there some better way to wait for the DHCP renewal in roaming case now?",
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e0de8e3_c2250f49",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_ap_gone.go",
        "patchSetId": 3
      },
      "lineNbr": 182,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2020-10-06T21:10:35Z",
      "side": 1,
      "message": "That\u0027s a good question, and I don\u0027t have a great answer. After all, the point of masking state changes during roaming is to hide the fact that there is any sort of interruption in connectivity. You could just wait for the correct subnet to appear on the DUT (that\u0027s what verify_connection does in autotest).\n\nI think short of actually creating a new property or a new service state, there\u0027s probably not a \"right\" way to do this.",
      "parentUuid": "41e82d56_b15d523d",
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bd3c62d_7bf6e110",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_ap_gone.go",
        "patchSetId": 3
      },
      "lineNbr": 182,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-10-07T03:19:11Z",
      "side": 1,
      "message": "So, for now, I think we can at least mitigate this by adding a polling on tf.VerifyConnection like what Autotest is doing.\n\narowa@: Please add polling on VerifyConnection after roaming as DHCP renewal might not yet finish.",
      "parentUuid": "7e0de8e3_c2250f49",
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9e2e9103_7256750b",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_ap_gone.go",
        "patchSetId": 3
      },
      "lineNbr": 182,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-10-09T04:19:58Z",
      "side": 1,
      "message": "Done, I am moving this test change to a seperate cl, because it does not depend on the montior.\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/2455274",
      "parentUuid": "41e82d56_b15d523d",
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae542439_1c5fb672",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 100,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2020-10-03T05:18:21Z",
      "side": 1,
      "message": "After my most recent patch, I think this should be all non-Connected states. That being said, since we end up using the monitor to verify that we don\u0027t disconnect anyway, this check becomes unnecessary.",
      "range": {
        "startLine": 100,
        "startChar": 3,
        "endLine": 100,
        "endChar": 63
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "09e3397f_3aa303b2",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 100,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-10-09T04:19:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ae542439_1c5fb672",
      "range": {
        "startLine": 100,
        "startChar": 3,
        "endLine": 100,
        "endChar": 63
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "868d024d_42829b97",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 169,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2020-10-03T05:18:21Z",
      "side": 1,
      "message": "Perhaps package this as a function (like assert_no_disconnects in autotest) with the monitor in case other tests need to use it?",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 169,
        "endChar": 2
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e640cc8e_4323c933",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 169,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-10-06T04:44:27Z",
      "side": 1,
      "message": "We already have a AssertNoDisconnect method in TestFixture. I wonder if we can just replace the implementation there. As we already know \"iw event\" has a problem of no log to wait for \"iw event\" ready, maybe this is preferred.",
      "parentUuid": "868d024d_42829b97",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 169,
        "endChar": 2
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e41a4379_e8dd15a4",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 169,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2020-10-06T21:10:35Z",
      "side": 1,
      "message": "Ah I didn\u0027t realize that already existed. I do think monitoring shill states is a cleaner way to do this, so I\u0027m fine with doing it this way too. I still think it would be nice to extract all the monitor functionality into another object/struct, so my comment stands.",
      "parentUuid": "e640cc8e_4323c933",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 169,
        "endChar": 2
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a95d5ee_35c26eef",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 169,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-10-07T03:19:11Z",
      "side": 1,
      "message": "Sure, your suggestion also SGTM.",
      "parentUuid": "e41a4379_e8dd15a4",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 169,
        "endChar": 2
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "239823c6_05115654",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 169,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-10-09T04:19:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0a95d5ee_35c26eef",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 169,
        "endChar": 2
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6c2c3258_e153369f",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 169,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-10-09T04:19:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0a95d5ee_35c26eef",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 169,
        "endChar": 2
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48263d8b_722eff1b",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 169,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-10-09T04:19:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0a95d5ee_35c26eef",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 169,
        "endChar": 2
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ad2cb604_7d8c30e3",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 169,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-10-09T04:19:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0a95d5ee_35c26eef",
      "range": {
        "startLine": 157,
        "startChar": 0,
        "endLine": 169,
        "endChar": 2
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27aef783_8470f016",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2020-10-03T05:18:21Z",
      "side": 1,
      "message": "It makes more sense to log this right after waitForProps above since that\u0027s when we check that the roam actually happens.",
      "range": {
        "startLine": 170,
        "startChar": 1,
        "endLine": 170,
        "endChar": 21
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73cfa2fd_07a74181",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/roam_dbus.go",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-10-09T04:19:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "27aef783_8470f016",
      "range": {
        "startLine": 170,
        "startChar": 1,
        "endLine": 170,
        "endChar": 21
      },
      "revId": "c7855a002b5a2280deb7f4b5d79f35589467d718",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}