{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "32117670_8104e95f",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 392,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2022-09-15T16:25:42Z",
      "side": 1,
      "message": "What is the case that Tast local test is not running on a ChromeOS device? I am not aware of such a case. Please let me know.\n\nAlso, I think there is a re-branding effort is going on. I think they are goi",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35691081_b4a68503",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 392,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2022-09-15T23:17:32Z",
      "side": 1,
      "message": "Sorry, somehow I forgot to finish my sentence.\n\nI think Chromium OS will become ChromioumOS and Chrome OS will become ChromeOS. Not sure if this string will be changed.",
      "parentUuid": "32117670_8104e95f",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ee2b0c3_87946f81",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 392,
      "author": {
        "id": 1275795
      },
      "writtenOn": "2022-09-16T06:28:08Z",
      "side": 1,
      "message": "\u003e What is the case that Tast local test is not running on a ChromeOS device?\n\nThis patch is for Tast local test runs on a ChromiumOS device (but not a ChromeOS).\n\nThe ChromiumOS was built based on public manifest, and also it replaced the kernel to the upstream version.\n\n\u003e I think Chromium OS will become ChromioumOS and Chrome OS will become ChromeOS. Not sure if this string will be changed.\n\nCorrect, but it\u0027s not yet happened for /etc/os-release.",
      "parentUuid": "35691081_b4a68503",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "edbb2f98_166823e6",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 392,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2022-09-16T15:15:31Z",
      "side": 1,
      "message": "How about the software dependency cros_internal?\n\nSee https://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/test_dependencies.md\n\ncros_internal - Functionality that is only available in internal builds of ChromeOS (i.e. ones built using chromeos-overlay).",
      "parentUuid": "7ee2b0c3_87946f81",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28dc0c34_e789c8c3",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 392,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2022-09-20T21:34:03Z",
      "side": 1,
      "message": "I\u0027d rather not use cros_internal as a softwaredep. It\u0027s important for this test to run in as many places as possible, including amd64-generic and arm-generic.\n\nThis should add a new softwaredep \"upstream_kernel\" and the test should avoid running on those builds.\n\nI want this test to run by *default* unless someone actively exempts a device from it. Therefore, I want the softwaredep to be something that boards have to actively opt into, therefore the name \"upstream_kernel\".\n\nAlso, I disagree with your naming -- ChromiumOS devices use ChromiumOS kernels. Some of the options that you\u0027re disabling in this test are clearly named CHROMIUMOS, not CHROMEOS. So the right thing to do here is not to say \"ChromiumOS but not ChromeOS\" but rather \"Upstream kernel but not ChromiumOS kernel\".",
      "parentUuid": "edbb2f98_166823e6",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e331b90f_c393b038",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 392,
      "author": {
        "id": 1275795
      },
      "writtenOn": "2022-09-21T05:04:02Z",
      "side": 1,
      "message": "To make sure I am not misunderstanding, if we add a new softwaredep \"upstream_kernel\", does it need to be determined at build time?\n\nFor example, what if a DUT installed ChromeOS image (without \"upstream_kernel\" flag), however, we replaced the kernel version to upstream kernel?\n\nI agree with the naming part.  Will fix it if the patch has next version.",
      "parentUuid": "28dc0c34_e789c8c3",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "917fef8a_7b961432",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 392,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2022-09-21T23:40:22Z",
      "side": 1,
      "message": "You should double-check with the tast folks. Several softwaredeps depend on kernel versions for example, but I don\u0027t know whether these can be resolved at runtime.",
      "parentUuid": "e331b90f_c393b038",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d898adea_7ca5659e",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 392,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2022-09-21T23:45:24Z",
      "side": 1,
      "message": "Once you seperate the parameterized tests with ExtraSoftwareDeps, you can use \"Val\" to fine tune the behavior of your tests. Here is one example: \n\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/video/encode_accel_perf.go;rcl\u003d8fbf2c53960bc8917a6a01fda5405cad7c17201e;l\u003d44",
      "parentUuid": "917fef8a_7b961432",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5355dc18_e7892827",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 392,
      "author": {
        "id": 1275795
      },
      "writtenOn": "2022-09-22T13:19:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d898adea_7ca5659e",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d732bacc_12d324b1",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 392,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2022-09-23T17:49:59Z",
      "side": 1,
      "message": "BTW, I think cros_internal is more appropriate than chrome_internal based on description in go/tast-deps\n\n```\nchrome_internal - Functionality that is only available in internal builds of Chrome \n...\ncros_internal - Functionality that is only available in internal builds of ChromeOS (i.e. ones built using chromeos-overlay).\n```",
      "parentUuid": "edbb2f98_166823e6",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea52fff7_69e6e329",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 392,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2022-09-23T21:20:29Z",
      "side": 1,
      "message": "Sorry, my previous comment is for another CL.",
      "parentUuid": "d732bacc_12d324b1",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9321b8f0_60299363",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2022-09-15T16:25:42Z",
      "side": 1,
      "message": "I took a look at bug. Should we simply not run this test on kernel v5.15.63? \n\nIn general, it is not recommended to change the test behavior based on the software/hardware feature of the test. It is recommended to use software/hardware dependenices and parameterized tests to handle different behavior based on the device features.",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e709359c_249e5103",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 1275795
      },
      "writtenOn": "2022-09-16T06:28:08Z",
      "side": 1,
      "message": "\u003e Should we simply not run this test on kernel v5.15.63?\n\nThat\u0027s also a way to resolve the issue if we couldn\u0027t figure out a better way.\n\nThe failures are because we have Chromium specific kernel patches that aren\u0027t upstreamed.  I prefer to preserve the tests as most as possible to reuse the efforts.",
      "parentUuid": "9321b8f0_60299363",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12f6233c_d9ddcb0b",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2022-09-20T21:20:02Z",
      "side": 1,
      "message": "As Seewai points out, the right way to fix this is to use softwaredeps.",
      "parentUuid": "e709359c_249e5103",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9bcc5926_36a3a00c",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 1275795
      },
      "writtenOn": "2022-09-21T05:04:02Z",
      "side": 1,
      "message": "To make sure I understand: using softwaredeps implies we should separate the testcases for ChromeOS and ChromiumOS (as what Jeff suggested)?",
      "parentUuid": "12f6233c_d9ddcb0b",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d958e88_71ee78e3",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 1000985
      },
      "writtenOn": "2022-09-21T23:40:22Z",
      "side": 1,
      "message": "Once we have the softwaredep in place, we can do either:\n-Split the test in two, one which checks upstream-only configs and one that checks Chromium-specific configs, or\n-Keep one single test but check for the softwaredep in code, which is more maintainable than checking for characteristics of the image in code.",
      "parentUuid": "9bcc5926_36a3a00c",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "76101060_67fe0fcc",
        "filename": "src/chromiumos/tast/local/bundles/cros/kernel/config_verify.go",
        "patchSetId": 3
      },
      "lineNbr": 394,
      "author": {
        "id": 1275795
      },
      "writtenOn": "2022-09-22T13:19:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9d958e88_71ee78e3",
      "revId": "7226cdac13f86d99e4da7765a494a1c5c0de5ea3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}