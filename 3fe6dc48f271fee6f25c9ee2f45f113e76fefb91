{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5eb51cdf_acfcbb94",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1411065
      },
      "writtenOn": "2022-07-21T08:09:28Z",
      "side": 1,
      "message": "LGTM",
      "revId": "3fe6dc48f271fee6f25c9ee2f45f113e76fefb91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4fbdec27_67421b4a",
        "filename": "android/ArcCameraFpsTest/src/org/chromium/arc/testapp/camerafps/Camera2VideoFragment.java",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1001886
      },
      "writtenOn": "2022-07-21T10:27:38Z",
      "side": 1,
      "message": "Hmm is it safe to convert to int here? Quote from https://developer.android.com/reference/android/hardware/camera2/CameraManager#getCameraIdList():\n\u003e Non-removable cameras use integers starting at 0 for their identifiers, while removable cameras have a unique identifier for each individual device, even if they are the same model.\n\nCould you help check what will we get here for external cameras? I am not sure if it can be safely parsed as an integer.",
      "revId": "3fe6dc48f271fee6f25c9ee2f45f113e76fefb91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1293484a_18efc268",
        "filename": "android/ArcCameraFpsTest/src/org/chromium/arc/testapp/camerafps/Camera2VideoFragment.java",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2022-07-21T17:41:14Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "4fbdec27_67421b4a",
      "revId": "3fe6dc48f271fee6f25c9ee2f45f113e76fefb91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "962f14d3_af64a4d8",
        "filename": "android/ArcCameraFpsTest/src/org/chromium/arc/testapp/camerafps/Camera2VideoFragment.java",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1290370
      },
      "writtenOn": "2022-07-22T06:20:32Z",
      "side": 1,
      "message": "I converting the id into integer here to avoid extra handling for double quotes characters in the string. If we want to pass it in string form with JSON format, we might need to escape the string ourselves and also handle it on the call site.\n\nI just tried plugging in a \"Logitech HD Webcam B910\" and the camera id is \"2\".\n\nAnd I thought using integer should be okay since we don\u0027t test external cameras in our tests and all the lab devices do not have external camera connected IIRC.",
      "parentUuid": "1293484a_18efc268",
      "revId": "3fe6dc48f271fee6f25c9ee2f45f113e76fefb91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4bf1097_8d33f6ff",
        "filename": "android/ArcCameraFpsTest/src/org/chromium/arc/testapp/camerafps/Camera2VideoFragment.java",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1001886
      },
      "writtenOn": "2022-07-22T07:36:57Z",
      "side": 1,
      "message": "Hmm could you help explain a little bit more? I don\u0027t get where we need to handle escaping ourselves when using string here.",
      "parentUuid": "962f14d3_af64a4d8",
      "revId": "3fe6dc48f271fee6f25c9ee2f45f113e76fefb91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e84dd674_dbc8f964",
        "filename": "android/ArcCameraFpsTest/src/org/chromium/arc/testapp/camerafps/Camera2VideoFragment.java",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1290370
      },
      "writtenOn": "2022-07-22T07:42:00Z",
      "side": 1,
      "message": "For example, let\u0027s assume we use string format to represent camera id. So the JSON string will be like the following on Android side:\n`[\"0\", \"1\", \"foo\"]`\n\nBut from my testing, without escaping, the string I got from the Tast side is:\n`[`\n\nSo it seems that the double quote character should be escaped to be properly passed from Android to Tast via the adb.",
      "parentUuid": "a4bf1097_8d33f6ff",
      "revId": "3fe6dc48f271fee6f25c9ee2f45f113e76fefb91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77ed8942_18388c40",
        "filename": "android/ArcCameraFpsTest/src/org/chromium/arc/testapp/camerafps/Camera2VideoFragment.java",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1003214
      },
      "writtenOn": "2022-07-22T07:45:11Z",
      "side": 1,
      "message": "Likely because of the data is parsed from shell output which is itself delimited by double quotes: http://cs/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/common/android/adb/commands.go;l\u003d79;rcl\u003d4744b3f9d59d654da464e237bc1cfa68a499904c",
      "parentUuid": "e84dd674_dbc8f964",
      "revId": "3fe6dc48f271fee6f25c9ee2f45f113e76fefb91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e10f914c_b38c3fd5",
        "filename": "android/ArcCameraFpsTest/src/org/chromium/arc/testapp/camerafps/Camera2VideoFragment.java",
        "patchSetId": 1
      },
      "lineNbr": 280,
      "author": {
        "id": 1290370
      },
      "writtenOn": "2022-07-22T07:45:59Z",
      "side": 1,
      "message": "And btw, they also implicitly assume that the camera id is integer in ACTION_SET_CAMERA_ID [1]. As a result, if we want to handle camera id as string, we also need to modify the logic here.\n\n[1]: https://source.corp.google.com/chromeos_public/src/platform/tast-tests/android/ArcCameraFpsTest/src/org/chromium/arc/testapp/camerafps/CameraActivity.java;rcl\u003d25b9a99103cd275ef0ef353b60c0ac1c52c7263c;l\u003d199",
      "parentUuid": "e84dd674_dbc8f964",
      "revId": "3fe6dc48f271fee6f25c9ee2f45f113e76fefb91",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}