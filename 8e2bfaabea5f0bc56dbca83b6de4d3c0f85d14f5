{
  "comments": [
    {
      "key": {
        "uuid": "88b07082_b6a79a2f",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-19T06:44:49Z",
      "side": 1,
      "message": "video_VideoSanity test has a blacklist of boards to avoid running.\n\nhttps://chromium.googlesource.com/chromiumos/third_party/autotest/+/master/client/site_tests/video_VideoSanity/video_VideoSanity.py#33\n\nI\u0027m not sure if the list is still needed, so I omitted it here.\n\nAlso note that ARC-enabled code path in video_VideoSanity is not actually run today.",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 25,
        "endChar": 19
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52997a38_8a61515b",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-19T14:48:54Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "88b07082_b6a79a2f",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 25,
        "endChar": 19
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04c70552_830eeb2b",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-19T05:59:00Z",
      "side": 1,
      "message": "I skipped copying media files to data/ because they are not small (~8MB in total). I\u0027m wondering where to put them.",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 33,
        "endChar": 66
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3313249d_b7c46f72",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-19T14:48:54Z",
      "side": 1,
      "message": "i\u0027d like us to install small-ish data files like these directly in the system image via portage.\n\ni should think a little bit more about how we should do this, though. if you check the file in under data/ in this repository, it should be included in cros-local-tests-cros.\n\nif it\u0027s installed via another package that tast-local-tests-cros depends on, i\u0027m not sure that that really buys us anything.\n\nfor executable files, my plan is for us to compile and install them via another package that tast-local-tests-cros depends on.\n\nwhat do you think?",
      "parentUuid": "04c70552_830eeb2b",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 33,
        "endChar": 66
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13025b92_27839449",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-20T01:36:11Z",
      "side": 1,
      "message": "While 8MB is not very large, I\u0027m generally hesitant to commit binary files of megabytes to Git.\n\nHow about uploading an archive to GCS (e.g. gs://chromeos-localmirror/distfiles/), and writing an ebuild to unpack it? That\u0027s one way to avoid binary files on Git.\n\nIf you do not like the option, then we\u0027ll put those files on some Git repo. Choice would be tast-tests repo or another new repo. For the former, data/ directory would be the easiest, and for the latter we\u0027ll need to write an ebuild. So we just need to decide if we want to include large blob files in tast-tests repo or not.",
      "parentUuid": "3313249d_b7c46f72",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 33,
        "endChar": 66
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4f3096b_dccc2201",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-20T01:52:43Z",
      "side": 1,
      "message": "another thought: do we need to use the existing files? the test looks like it verifies that chrome reports that the video played for 10 seconds (i assume). i bet that a 10-second video containing just pixels of a solid color could be very small. could it also be just 1-2 seconds long rather than 10? that would presumably make the tests much faster without losing any coverage.",
      "parentUuid": "13025b92_27839449",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 33,
        "endChar": 66
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08e0cce2_d75db447",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-20T01:59:53Z",
      "side": 1,
      "message": "Hm, that\u0027s an interesting idea, but we\u0027ll need input from video team if solid color video is sufficient for this test.",
      "parentUuid": "a4f3096b_dccc2201",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 33,
        "endChar": 66
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "779737ab_9d6df750",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2018-06-20T19:18:54Z",
      "side": 1,
      "message": "Couple of thoughts :-)\n\nUnder media/test/data we have (checked in) a few bear-....[webm,mp4] files that\ncan be used ISO the current ones, and they\u0027d be much smaller, like hundreds of KB.\nThey are shorter than 10s, but the video.html can be modified so that\nthe \u003cvideo\u003e tag loops [0].  media/test/data/blackwhite_yuv420p.webm is just 4KB.\n(but we have no VP8 version of it IIRC).\n\ngit vs GCS: IMHO it\u0027s much easier down the line to check them into git \nthat have them in a GCS somewhere when it comes to running test locally (e.g. \nfor bug repro) -- a few video_* autotest have such GCS download links and\nit\u0027s a pain to have to recompose them locally...\n\nFinally, if we don\u0027t like git at all, we could use\n  http://crosvideo.appspot.com/?codec\u003dvp9\u0026resolution\u003d1080\u0026mute\u003dtrue\nand let it play for 10s, like we do in graphics_VideoRenderingPower [2]\n\n[0] https://www.w3schools.com/tags/att_video_loop.asp\n[1] https://cs.chromium.org/chromium/src/media/test/data/?q\u003dmedia/test/data\u0026sq\u003dpackage:chromium\u0026dr\n[2] https://cs.corp.google.com/chromeos_public/src/third_party/autotest/files/client/site_tests/graphics_VideoRenderingPower/control.vp9?dr\u003dCSs\u0026g\u003d0\u0026l\u003d21",
      "parentUuid": "08e0cce2_d75db447",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 33,
        "endChar": 66
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d1c84ee_760646ab",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-19T05:59:00Z",
      "side": 1,
      "message": "In autotest we have many \"variant\" tests just like this. What do you think is a good way to do it in Tast?",
      "range": {
        "startLine": 47,
        "startChar": 1,
        "endLine": 47,
        "endChar": 33
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c821f25c_adfd3cc6",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-19T14:48:54Z",
      "side": 1,
      "message": "i talked a bit about the naming of these yesterday with ihf@, but not about the implementation.\n\ni\u0027d like to stay away from adding a method that supports creating multiple tests using the same test function, because i\u0027m worried that it will be \"too magic\".\n\ni\u0027d prefer that at least to start out with, we use the method that i used for ui.ChromeCrash* -- add a subpackage with the shared code, and then put each test in its own file that calls a function in the subpackage with different arguments.\n\ndoes that sound reasonable?",
      "parentUuid": "6d1c84ee_760646ab",
      "range": {
        "startLine": 47,
        "startChar": 1,
        "endLine": 47,
        "endChar": 33
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8538c11_1b5c674d",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-20T01:36:11Z",
      "side": 1,
      "message": "Yes, I also don\u0027t like magic.\n\nI\u0027ve created three tests just calling the common function with different arguments. Yes, it looks enough at least for now.",
      "parentUuid": "c821f25c_adfd3cc6",
      "range": {
        "startLine": 47,
        "startChar": 1,
        "endLine": 47,
        "endChar": 33
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dbfd2706_4aa0bf07",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-19T14:48:54Z",
      "side": 1,
      "message": "nit: use single quotes here?",
      "range": {
        "startLine": 48,
        "startChar": 33,
        "endLine": 48,
        "endChar": 35
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac3c46e8_00c9e3ae",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/sanity.go",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-20T01:36:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dbfd2706_4aa0bf07",
      "range": {
        "startLine": 48,
        "startChar": 33,
        "endLine": 48,
        "endChar": 35
      },
      "revId": "8e2bfaabea5f0bc56dbca83b6de4d3c0f85d14f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}