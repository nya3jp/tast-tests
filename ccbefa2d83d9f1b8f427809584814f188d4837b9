{
  "comments": [
    {
      "key": {
        "uuid": "2d3d4ad1_cbbcd51c",
        "filename": "src/chromiumos/tast/common/hwsec/helpers.go",
        "patchSetId": 13
      },
      "lineNbr": 23,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-04T08:25:11Z",
      "side": 1,
      "message": "Please avoid embedding this; users of hwsec.Helper should not be given ability to run arbitrary commands, but they should call appropriate helper methods instead.",
      "range": {
        "startLine": 23,
        "startChar": 1,
        "endLine": 23,
        "endChar": 10
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc35fda0_7f0768af",
        "filename": "src/chromiumos/tast/common/hwsec/helpers.go",
        "patchSetId": 13
      },
      "lineNbr": 23,
      "author": {
        "id": 1322146
      },
      "writtenOn": "2019-12-04T15:35:20Z",
      "side": 1,
      "message": "Well...it\u0027s the intended design that Helper is capable of doing what CmdRunner can do.\n\nFor now I prefer to unexport CmdRUnnerLocal and CmdRunnerRemote and keep this design intent. Otherwise, manay wrapper functions that follows will need both Helper and CmdRunner, both of which are trying to abstract remote/local test.\n\nMay I ask, it\u0027s because you haven\u0027t seen how I use Helper in the child CLs, or it\u0027s because in general you don\u0027t think a struct called \"Helper\" is not supposed to be a CmdRunner at the same time?\n\nOr, does adding another wrapper (so we can make it explicit that Helper can \"Run\") make sense to you?:\n\ntype Helper struct {\n r CmdRunner\n}\nfunc (h *Helper) Run(ctx context.Context,cmd string,args ...string) ([]byte, error) {\n  return h.r.Run(ctx,cmd,args...)\n}",
      "parentUuid": "2d3d4ad1_cbbcd51c",
      "range": {
        "startLine": 23,
        "startChar": 1,
        "endLine": 23,
        "endChar": 10
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "975c520a_4635da81",
        "filename": "src/chromiumos/tast/common/hwsec/helpers.go",
        "patchSetId": 13
      },
      "lineNbr": 27,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-04T08:25:11Z",
      "side": 1,
      "message": "For the same reason as above, please make this an ordinary function.\n\n func RunShell(ctx context.Context, r CmdRunner, cmd string) ([]byte, error)",
      "range": {
        "startLine": 27,
        "startChar": 5,
        "endLine": 27,
        "endChar": 76
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbb6410d_f696f75f",
        "filename": "src/chromiumos/tast/common/hwsec/helpers.go",
        "patchSetId": 13
      },
      "lineNbr": 27,
      "author": {
        "id": 1322146
      },
      "writtenOn": "2019-12-04T15:35:20Z",
      "side": 1,
      "message": "I will reply this after other comments are addressed.",
      "parentUuid": "975c520a_4635da81",
      "range": {
        "startLine": 27,
        "startChar": 5,
        "endLine": 27,
        "endChar": 76
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9cbc7182_b001ef11",
        "filename": "src/chromiumos/tast/local/hwsec/helpers_local.go",
        "patchSetId": 13
      },
      "lineNbr": 21,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-04T08:25:11Z",
      "side": 1,
      "message": "Can we unexport this type?",
      "range": {
        "startLine": 21,
        "startChar": 5,
        "endLine": 21,
        "endChar": 19
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07498c88_1d2cba49",
        "filename": "src/chromiumos/tast/local/hwsec/helpers_local.go",
        "patchSetId": 13
      },
      "lineNbr": 21,
      "author": {
        "id": 1322146
      },
      "writtenOn": "2019-12-04T15:35:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9cbc7182_b001ef11",
      "range": {
        "startLine": 21,
        "startChar": 5,
        "endLine": 21,
        "endChar": 19
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f5abeced_a1b28ae7",
        "filename": "src/chromiumos/tast/local/hwsec/helpers_local.go",
        "patchSetId": 13
      },
      "lineNbr": 29,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-04T08:25:11Z",
      "side": 1,
      "message": "Why don\u0027t we introduce LocalHelper here just as RemoteHelper?",
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28db014f_ada485ca",
        "filename": "src/chromiumos/tast/local/hwsec/helpers_local.go",
        "patchSetId": 13
      },
      "lineNbr": 29,
      "author": {
        "id": 1322146
      },
      "writtenOn": "2019-12-04T15:35:20Z",
      "side": 1,
      "message": "It\u0027s because, for now, local tests doesn\u0027t have any additional function other than running a command.",
      "parentUuid": "f5abeced_a1b28ae7",
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16fa8b02_bf4b6458",
        "filename": "src/chromiumos/tast/remote/hwsec/helpers_remote.go",
        "patchSetId": 13
      },
      "lineNbr": 22,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-04T08:25:11Z",
      "side": 1,
      "message": "Can we unexport this type?",
      "range": {
        "startLine": 22,
        "startChar": 5,
        "endLine": 22,
        "endChar": 20
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d28d7d8c_5aae76c8",
        "filename": "src/chromiumos/tast/remote/hwsec/helpers_remote.go",
        "patchSetId": 13
      },
      "lineNbr": 22,
      "author": {
        "id": 1322146
      },
      "writtenOn": "2019-12-04T15:35:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "16fa8b02_bf4b6458",
      "range": {
        "startLine": 22,
        "startChar": 5,
        "endLine": 22,
        "endChar": 20
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eab497da_784009b7",
        "filename": "src/chromiumos/tast/remote/hwsec/helpers_remote.go",
        "patchSetId": 13
      },
      "lineNbr": 33,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-04T08:25:11Z",
      "side": 1,
      "message": "same here: unexport?",
      "range": {
        "startLine": 33,
        "startChar": 5,
        "endLine": 33,
        "endChar": 23
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "366f3797_cedeb7a9",
        "filename": "src/chromiumos/tast/remote/hwsec/helpers_remote.go",
        "patchSetId": 13
      },
      "lineNbr": 33,
      "author": {
        "id": 1322146
      },
      "writtenOn": "2019-12-04T15:35:20Z",
      "side": 1,
      "message": "I don\u0027t think we can unexport this if we have to remove the embedded CmdRunner from Helper. Helper it not the only one which calls a command.\nso it\u0027s TBD.",
      "parentUuid": "eab497da_784009b7",
      "range": {
        "startLine": 33,
        "startChar": 5,
        "endLine": 33,
        "endChar": 23
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1bedf7ba_eb30487a",
        "filename": "src/chromiumos/tast/remote/hwsec/helpers_remote.go",
        "patchSetId": 13
      },
      "lineNbr": 55,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-04T08:25:11Z",
      "side": 1,
      "message": "Where can I find the CL of this type?",
      "range": {
        "startLine": 55,
        "startChar": 69,
        "endLine": 55,
        "endChar": 82
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd85439c_1cc27206",
        "filename": "src/chromiumos/tast/remote/hwsec/helpers_remote.go",
        "patchSetId": 13
      },
      "lineNbr": 55,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-04T08:25:11Z",
      "side": 1,
      "message": "style: EnsureTPMIsReset",
      "range": {
        "startLine": 55,
        "startChar": 23,
        "endLine": 55,
        "endChar": 39
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6585fff7_382fc649",
        "filename": "src/chromiumos/tast/remote/hwsec/helpers_remote.go",
        "patchSetId": 13
      },
      "lineNbr": 55,
      "author": {
        "id": 1322146
      },
      "writtenOn": "2019-12-04T15:35:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cd85439c_1cc27206",
      "range": {
        "startLine": 55,
        "startChar": 23,
        "endLine": 55,
        "endChar": 39
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5818438e_42f34142",
        "filename": "src/chromiumos/tast/remote/hwsec/helpers_remote.go",
        "patchSetId": 13
      },
      "lineNbr": 55,
      "author": {
        "id": 1322146
      },
      "writtenOn": "2019-12-04T15:35:20Z",
      "side": 1,
      "message": "In the dependent CL:\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/1826587/21",
      "parentUuid": "1bedf7ba_eb30487a",
      "range": {
        "startLine": 55,
        "startChar": 69,
        "endLine": 55,
        "endChar": 82
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43cd0bd5_f80ccafb",
        "filename": "src/chromiumos/tast/remote/hwsec/helpers_remote.go",
        "patchSetId": 13
      },
      "lineNbr": 80,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-12-04T08:25:11Z",
      "side": 1,
      "message": "Please avoid exporting this method unless we get an absolute need.",
      "range": {
        "startLine": 80,
        "startChar": 23,
        "endLine": 80,
        "endChar": 29
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dad8c0b6_f9ccd39a",
        "filename": "src/chromiumos/tast/remote/hwsec/helpers_remote.go",
        "patchSetId": 13
      },
      "lineNbr": 80,
      "author": {
        "id": 1322146
      },
      "writtenOn": "2019-12-04T15:35:20Z",
      "side": 1,
      "message": "Please let me keep this; in the very near future we will add profile-collection back to the reboot logic so we do need a wrapper.",
      "parentUuid": "43cd0bd5_f80ccafb",
      "range": {
        "startLine": 80,
        "startChar": 23,
        "endLine": 80,
        "endChar": 29
      },
      "revId": "ccbefa2d83d9f1b8f427809584814f188d4837b9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}