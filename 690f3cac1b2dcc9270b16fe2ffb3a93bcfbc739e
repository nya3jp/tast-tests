{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "fc4ca7bc_6b1baba2",
        "filename": "src/chromiumos/tast/local/bundles/cros/login/restrict_signin_add_user_format.go",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2022-04-20T08:41:23Z",
      "side": 1,
      "message": "Same as you did in line 50: \n```\nclearUpCtx :\u003d ctx\nctx, cancel :\u003d ctxutil.Shorten(ctx, n*time.Second)\ndefer cancel()\ndefer func(...){...}(clearUpCtx, s, tconn)\ndefer ...(clearUpCtx, ...)\n// use ctx for non-defer part.\n```",
      "revId": "690f3cac1b2dcc9270b16fe2ffb3a93bcfbc739e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "283a9192_abe270a0",
        "filename": "src/chromiumos/tast/local/bundles/cros/login/restrict_signin_add_user_format.go",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1349779
      },
      "writtenOn": "2022-04-20T09:05:38Z",
      "side": 1,
      "message": "This would shorten the context for every test case, I think. This may lead to `ctx` becoming too small? Or should I just increase `Timeout` in this case?",
      "parentUuid": "fc4ca7bc_6b1baba2",
      "revId": "690f3cac1b2dcc9270b16fe2ffb3a93bcfbc739e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5701d334_ff4b21a5",
        "filename": "src/chromiumos/tast/local/bundles/cros/login/restrict_signin_add_user_format.go",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2022-04-21T03:16:33Z",
      "side": 1,
      "message": "Nope, the ctx you shorten here stays in the inline function. It does not affect the ctx between each iteration.\n\nEach time s.Run() is called, it passes ctx in the unnamed function. The function keep the input ctx as clearUpCtx and shorten it a bit to reserve some time for the defer call in the function. The shortened ctx is another instance of Context, which does not affect the ctx being used to make the call.",
      "parentUuid": "283a9192_abe270a0",
      "revId": "690f3cac1b2dcc9270b16fe2ffb3a93bcfbc739e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2817706c_4e5f8e47",
        "filename": "src/chromiumos/tast/local/bundles/cros/login/restrict_signin_add_user_format.go",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1349779
      },
      "writtenOn": "2022-04-21T13:44:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5701d334_ff4b21a5",
      "revId": "690f3cac1b2dcc9270b16fe2ffb3a93bcfbc739e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}