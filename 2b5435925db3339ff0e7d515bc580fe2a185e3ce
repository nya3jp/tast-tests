{
  "comments": [
    {
      "key": {
        "uuid": "6a84c5d6_a897ab9c",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-16T00:04:12Z",
      "side": 1,
      "message": "nit: 2019",
      "range": {
        "startLine": 1,
        "startChar": 13,
        "endLine": 1,
        "endChar": 17
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b3a7b29_1bf02024",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6a84c5d6_a897ab9c",
      "range": {
        "startLine": 1,
        "startChar": 13,
        "endLine": 1,
        "endChar": 17
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bdc4568_5824d64c",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-16T00:04:12Z",
      "side": 1,
      "message": "nit: please remove trailing period to match other descriptions",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "356cb42d_5a008571",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7bdc4568_5824d64c",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ddea317_2bb2a93f",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-16T06:14:01Z",
      "side": 1,
      "message": "Just to make sure, dlcservice is installed on all (latest) boards, right?",
      "range": {
        "startLine": 21,
        "startChar": 8,
        "endLine": 21,
        "endChar": 34
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc9bb163_c09b7c97",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "I was to use disabled but it won\u0027t pass the presubmit check...\n\nNot yet and it\u0027s only on amd64-generic and arm-generic. We plan to install it to betty soon so we can enable this test on CQ. I wonder if there is a way to run a tast test on selected boards in CQ?\n\nEventually dlcservice will be installed on all boards and this test will be enabled for all boards.",
      "parentUuid": "6ddea317_2bb2a93f",
      "range": {
        "startLine": 21,
        "startChar": 8,
        "endLine": 21,
        "endChar": 34
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3c74ea4_db7f8c1e",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-17T01:17:15Z",
      "side": 1,
      "message": "If you want to disable this test for now, please specify {\"informational\", \"disabled\"}.\n\nBut I think you want to enable it for boards with dlcservice. Please see go/tast-deps to add a software dependency to restrict the boards to run your test on.",
      "parentUuid": "cc9bb163_c09b7c97",
      "range": {
        "startLine": 21,
        "startChar": 8,
        "endLine": 21,
        "endChar": 34
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "182ae10e_23fb9eed",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-17T17:57:12Z",
      "side": 1,
      "message": "Done\n\nI\u0027m currently marking it disabled. We already have a USE flag (dlc) that is enabled on amd64-generic/arm-generic. It looks like I can add dlc in https://chromium.googlesource.com/chromiumos/overlays/chromiumos-overlay/+/master/chromeos-base/tast-use-flags/tast-use-flags-0.0.1.ebuild. Then I can specify dlc in the SoftwareDeps field and remove the \u0027disabled\u0027 attribute. That will allow this test to run only on board with \u0027dlc\u0027 USE flag enabled, is that right?",
      "parentUuid": "e3c74ea4_db7f8c1e",
      "range": {
        "startLine": 21,
        "startChar": 8,
        "endLine": 21,
        "endChar": 34
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b6cbe377_676b0c58",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-18T05:43:27Z",
      "side": 1,
      "message": "you also need to update local_test_runner to map the \"dlc\" USE flag into a new \"dlc\" feature (and update the list in the docs). see the example changes near the bottom of go/tast-deps.",
      "parentUuid": "182ae10e_23fb9eed",
      "range": {
        "startLine": 21,
        "startChar": 8,
        "endLine": 21,
        "endChar": 34
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "035d742a_1d2209bf",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-16T06:14:01Z",
      "side": 1,
      "message": "Maybe DLCService is more appropriate given that it\u0027s abbreviation of \"downloadable content service\"?",
      "range": {
        "startLine": 25,
        "startChar": 5,
        "endLine": 25,
        "endChar": 15
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "392cdde0_ee343c27",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "035d742a_1d2209bf",
      "range": {
        "startLine": 25,
        "startChar": 5,
        "endLine": 25,
        "endChar": 15
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d8b43bc_486965ab",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-16T00:04:12Z",
      "side": 1,
      "message": "why is this code waiting for the job to be stopped just after it\u0027s been restarted? you shouldn\u0027t need this, i don\u0027t think. (do you even need the restart?)",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dfda3296_1d21c875",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-16T06:14:01Z",
      "side": 1,
      "message": "My guess is that dlcservice exits after some time. Would you mind adding a comment the purpose of this call around here?",
      "parentUuid": "2d8b43bc_486965ab",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4abacad_6d079cff",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "Sorry for the scarcity of context. Added more comments around it.\n\nYes, I\u0027m changing dlcservice so it exits after 10s (https://chromium-review.googlesource.com/c/chromiumos/platform2/+/1409782) and then activated on-demand via D-Bus method call.",
      "parentUuid": "dfda3296_1d21c875",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f0bb2864_f25e7be0",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-17T01:17:15Z",
      "side": 1,
      "message": "The new comment makes the code clearer, thanks!",
      "parentUuid": "a4abacad_6d079cff",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d8643eb_dc80ead1",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-16T00:04:12Z",
      "side": 1,
      "message": "please don\u0027t put periods at the end of log messages (throughout)",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4f00414_28fa414f",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-16T06:14:01Z",
      "side": 1,
      "message": "Maybe: \"Job %s did not exit on idle: \"",
      "range": {
        "startLine": 40,
        "startChar": 19,
        "endLine": 40,
        "endChar": 42
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01c8afdb_c3f32085",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7d8643eb_dc80ead1",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3296dc10_71525561",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b4f00414_28fa414f",
      "range": {
        "startLine": 40,
        "startChar": 19,
        "endLine": 40,
        "endChar": 42
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c20e598_eaef56e7",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-16T06:14:01Z",
      "side": 1,
      "message": "huge nit: Please start log messages with capital letters: \"Job %s stopped\"",
      "range": {
        "startLine": 42,
        "startChar": 10,
        "endLine": 42,
        "endChar": 13
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "26b6e381_558e7fc4",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c20e598_eaef56e7",
      "range": {
        "startLine": 42,
        "startChar": 10,
        "endLine": 42,
        "endChar": 13
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d018d04_637f622f",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-16T06:14:01Z",
      "side": 1,
      "message": "Please remove this else clause since s.Fatalf above will make the test exit.\n\n if err :\u003d ... {\n   s.Fatalf(...)\n }\n s.Logf(\"...\")",
      "range": {
        "startLine": 41,
        "startChar": 2,
        "endLine": 43,
        "endChar": 2
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd12928e_ea93623e",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7d018d04_637f622f",
      "range": {
        "startLine": 41,
        "startChar": 2,
        "endLine": 43,
        "endChar": 2
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8689a31a_e899215d",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-16T00:04:12Z",
      "side": 1,
      "message": "please don\u0027t ignore errors.\n\nbut, i think you want dbusutil.Connect here, which will also wait for the service to be available: https://godoc.org/chromium.googlesource.com/chromiumos/platform/tast-tests.git/src/chromiumos/tast/local/dbusutil#Connect",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58bc5c08_ae040566",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "I switched to call \u0027dlcservice_util\u0027 binary which sends the d-bus method call internally.",
      "parentUuid": "8689a31a_e899215d",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6fa4ab30_014ffb25",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-16T00:04:12Z",
      "side": 1,
      "message": "i don\u0027t understand this either. why would the job be stopped at this point?",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a091b76_839d1f9c",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "Add more comments. Yes it stops after 10s of start.",
      "parentUuid": "6fa4ab30_014ffb25",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "536849e4_6a307e4d",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-01-16T09:22:16Z",
      "side": 1,
      "message": "same for the if-else style.\n\ncf) https://github.com/golang/go/wiki/CodeReviewComments#indent-error-flow",
      "range": {
        "startLine": 57,
        "startChar": 2,
        "endLine": 59,
        "endChar": 2
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "828b1264_52ebd18c",
        "filename": "src/chromiumos/tast/local/bundles/cros/autoupdate/dlcservice.go",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "Done\n\nThanks for the pointer!",
      "parentUuid": "536849e4_6a307e4d",
      "range": {
        "startLine": 57,
        "startChar": 2,
        "endLine": 59,
        "endChar": 2
      },
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5fe4c651_0f0c93e2",
        "filename": "src/chromiumos/tast/local/bundles/cros/main.go",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-16T00:04:12Z",
      "side": 1,
      "message": "how many tests do you anticipate adding? if it\u0027s just a few, could this test go in the platform package instead?",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51730647_3a7c69ad",
        "filename": "src/chromiumos/tast/local/bundles/cros/main.go",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1178302
      },
      "writtenOn": "2019-01-16T18:27:29Z",
      "side": 1,
      "message": "Moved to platform package. another test is updateengine.go.",
      "parentUuid": "5fe4c651_0f0c93e2",
      "revId": "2b5435925db3339ff0e7d515bc580fe2a185e3ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}