{
  "comments": [
    {
      "key": {
        "uuid": "9b98ab96_55f33766",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca/cca.go",
        "patchSetId": 5
      },
      "lineNbr": 354,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-07-24T23:45:35Z",
      "side": 1,
      "message": "If you create a new context in the calling function of TakeSinglePhotoWithTimer using context.WithTimeout(ctx, time.Now().Add(TimerDelay)) then this check and the timerOn variable wouldn\u0027t be needed.  WaitForFileSaved() would return the last error from the polling function passed to testing.Poll() after the context timeout elapses.\n\nBut perhaps more importantly, I see that WaitForFileSaved() already has a built in 5 second timer - so the functions of TakeSinglePhoto and TakeSinglePhotoWithTimer both have timers, just of different lengths.  What about deleting TakeSinglePhotoWithTimer entirely?  Or modifying WaitForFileSaved to take a different value?",
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82dd06ad_41d84a6f",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca/cca.go",
        "patchSetId": 5
      },
      "lineNbr": 354,
      "author": {
        "id": 1132275
      },
      "writtenOn": "2019-07-24T23:57:31Z",
      "side": 1,
      "message": "Actually, the |timerOn| here refers to the timer in the camera app. When the timer is on, after users click the shutter button, the app displays count down of |TimeDelay| seconds and then take the photo. It\u0027s a different concept apart from the timeout stuff of tast test and WaitForFileSaved.",
      "parentUuid": "9b98ab96_55f33766",
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6695aad7_61b40a08",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca/cca.go",
        "patchSetId": 5
      },
      "lineNbr": 354,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2019-07-25T03:29:28Z",
      "side": 1,
      "message": "Oh, I see!  Sorry, I got a bit overeager there",
      "parentUuid": "82dd06ad_41d84a6f",
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a188824_197c76c6",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca/cca.go",
        "patchSetId": 5
      },
      "lineNbr": 354,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-25T09:08:09Z",
      "side": 1,
      "message": "Clar: any chance that the file is half-baked? Can we assume the file is created atomically?",
      "range": {
        "startLine": 354,
        "startChar": 22,
        "endLine": 354,
        "endChar": 47
      },
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ffbb0cf6_853cfb9b",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca/cca.go",
        "patchSetId": 5
      },
      "lineNbr": 354,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-25T09:08:09Z",
      "side": 1,
      "message": "nit/style:\nif err !\u003d nil {\n  return ...\n}\nif elapsed ... {\n  ...\n}\n\nis a preferred style in this case, because the first if condition does not introduce a new variable used in the latter if stmt.\n\nhttps://github.com/golang/go/wiki/CodeReviewComments#indent-error-flow",
      "range": {
        "startLine": 354,
        "startChar": 2,
        "endLine": 354,
        "endChar": 8
      },
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91d590ef_027e1647",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca/cca.go",
        "patchSetId": 5
      },
      "lineNbr": 354,
      "author": {
        "id": 1132275
      },
      "writtenOn": "2019-07-25T23:47:46Z",
      "side": 1,
      "message": "Nope, the photo result won\u0027t be half-baked. The video result could, but it\u0027s not concerning here.",
      "parentUuid": "6a188824_197c76c6",
      "range": {
        "startLine": 354,
        "startChar": 22,
        "endLine": 354,
        "endChar": 47
      },
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "06568c3c_42ea8fc8",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca/cca.go",
        "patchSetId": 5
      },
      "lineNbr": 354,
      "author": {
        "id": 1132275
      },
      "writtenOn": "2019-07-25T23:47:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ffbb0cf6_853cfb9b",
      "range": {
        "startLine": 354,
        "startChar": 2,
        "endLine": 354,
        "endChar": 8
      },
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd9eda7c_e9c649a0",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca/cca.go",
        "patchSetId": 5
      },
      "lineNbr": 360,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-25T09:08:09Z",
      "side": 1,
      "message": "Considering the if block gets bigger, how about;\n\nif !isPortrait {\n  return fileInfos\n}\n\n// For portrait mode, ...\nif info, err :\u003d ... {\n  ...\n}\n\nto keep the indent level lower.",
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "213a592e_060a5902",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca/cca.go",
        "patchSetId": 5
      },
      "lineNbr": 360,
      "author": {
        "id": 1132275
      },
      "writtenOn": "2019-07-25T23:47:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bd9eda7c_e9c649a0",
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2cbe69c0_ec68e5b8",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca/cca.go",
        "patchSetId": 5
      },
      "lineNbr": 363,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-25T09:08:09Z",
      "side": 1,
      "message": "Same.",
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28de2fb6_b5a171e7",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca/cca.go",
        "patchSetId": 5
      },
      "lineNbr": 363,
      "author": {
        "id": 1132275
      },
      "writtenOn": "2019-07-25T23:47:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2cbe69c0_ec68e5b8",
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e321a5ec_01724e1c",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca_ui_modes.go",
        "patchSetId": 5
      },
      "lineNbr": 92,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-25T09:08:09Z",
      "side": 1,
      "message": "true/false like a bit difficult to see the meaning here.\nCould you introduce a enum type based on bool value?",
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec990377_4eb1cf1e",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/cca_ui_modes.go",
        "patchSetId": 5
      },
      "lineNbr": 92,
      "author": {
        "id": 1132275
      },
      "writtenOn": "2019-07-25T23:47:46Z",
      "side": 1,
      "message": "I deleted the isPortrait parameter since it can be obtained from current mode state.",
      "parentUuid": "e321a5ec_01724e1c",
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "195edb60_6330b43b",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/data/cca_ui_capture.js",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-25T09:08:09Z",
      "side": 1,
      "message": "According to your explanation, I think;\n\nconst video \u003d ...;\nconst videoTrack \u003d ...;\nif (!videoTrack) {\n  return false;\n}\ntry {\n  ...\n}\n\nshould work? If so, could you to minimize the try scope?",
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e48ec56_35cc2a9c",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/data/cca_ui_capture.js",
        "patchSetId": 5
      },
      "lineNbr": 34,
      "author": {
        "id": 1132275
      },
      "writtenOn": "2019-07-25T23:47:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "195edb60_6330b43b",
      "revId": "33f3fb369d9392ecd24a8d251c681f86258babd7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}