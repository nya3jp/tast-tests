{
  "comments": [
    {
      "key": {
        "uuid": "6d906d38_514e9fee",
        "filename": "src/chromiumos/tast/local/crostini/pre.go",
        "patchSetId": 1
      },
      "lineNbr": 261,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2020-02-05T00:50:37Z",
      "side": 1,
      "message": "I\u0027m not sure where the crash actually occurs (i\u0027m guessing the ResetState on l 315) but the solution would be to move the locking below that.\n\niiuc calling Unlock() when the subsystem is not locked would also cause an error.",
      "range": {
        "startLine": 258,
        "startChar": 1,
        "endLine": 261,
        "endChar": 30
      },
      "revId": "cac773a87c18eb333b53a73cbce9f6a9e49563ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6be6c20e_ada0623c",
        "filename": "src/chromiumos/tast/local/crostini/pre.go",
        "patchSetId": 1
      },
      "lineNbr": 261,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2020-02-05T02:20:38Z",
      "side": 1,
      "message": "Yes, you are right. The panic is happened while ResetState. \n\nThe chrome.Unlock()[1] code seems fine to do so, which only checks the call stack and then modify a global variable. I can\u0027t foresee why Unlock can\u0027t be called if it is not locked first. Were there any bugs/problems caused by Unlock before Lock?\nCalling Close() also aligns with the comment in l267. WDYT?\n\n[1] http://cs/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/chrome/chrome.go?l\u003d83\u0026rcl\u003d914cb09207abfe1362040947ef30cb501407ba81",
      "parentUuid": "6d906d38_514e9fee",
      "range": {
        "startLine": 258,
        "startChar": 1,
        "endLine": 261,
        "endChar": 30
      },
      "revId": "cac773a87c18eb333b53a73cbce9f6a9e49563ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}