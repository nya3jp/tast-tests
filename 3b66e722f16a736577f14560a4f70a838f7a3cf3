{
  "comments": [
    {
      "key": {
        "uuid": "60028d54_07849fbe",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-07-31T04:05:18Z",
      "side": 1,
      "message": "Can we just use the default name \"power\" for this package? It is discouraged to replace the name unless there\u0027s absolute need.\n\nhttps://golang.org/doc/effective_go.html#package-names",
      "range": {
        "startLine": 16,
        "startChar": 1,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81fedc2c_588bb671",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1311094
      },
      "writtenOn": "2019-07-31T15:10:08Z",
      "side": 1,
      "message": "Ah, I was going off of the example at http://chromium.googlesource.com/chromiumos/platform/tast-tests/+/355c06d2fed9cc8ffc57213d3b55ddf019168f3d/src/chromiumos/tast/local/bundles/cros/power/check_status.go#13, but it looks like that example is wrong...",
      "parentUuid": "60028d54_07849fbe",
      "range": {
        "startLine": 16,
        "startChar": 1,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abaefee3_0e019672",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-02T07:03:00Z",
      "side": 1,
      "message": "Hmm, that example is not following the style guide. Thanks for pointing it out!",
      "parentUuid": "81fedc2c_588bb671",
      "range": {
        "startLine": 16,
        "startChar": 1,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b64f8619_48114aa9",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-07-31T04:05:18Z",
      "side": 1,
      "message": "I don\u0027t think we can put this test in mainline (c.f. go/tast-attr) since mainline tests run on release builders and 10 minute timeout is too long for them.\n\nDo you have autotest equivalent of this test? If so which device pool do you use to run it?",
      "range": {
        "startLine": 26,
        "startChar": 14,
        "endLine": 26,
        "endChar": 42
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ce61252_fad0b624",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1311094
      },
      "writtenOn": "2019-07-31T15:10:08Z",
      "side": 1,
      "message": "I agree 10 minutes is too long. What is the maximum acceptable timeout? I think I can fix the slow EC issue (described on line 28), but draining the battery still may take 5 minutes. Is 5 minutes acceptable? Also, if the \"informational\" tag is included, does that mean a longer timeout is acceptable?\n\nWhat do you think about the approach of disconnecting AC and letting the battery drain? It\u0027s hacky, but so far the battery emulators seem infeasible.\n\nThere is no autotest equivalent, this is the first time this test is appearing.",
      "parentUuid": "b64f8619_48114aa9",
      "range": {
        "startLine": 26,
        "startChar": 14,
        "endLine": 26,
        "endChar": 42
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "373ee93c_987cfd6f",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1165921
      },
      "writtenOn": "2019-07-31T15:30:33Z",
      "side": 1,
      "message": "I think in general we should avoid waiting in tests. Instead we should add a feature to allow a test to change the battery %age, or whatever is needed, i.e.to fake the condition.",
      "parentUuid": "5ce61252_fad0b624",
      "range": {
        "startLine": 26,
        "startChar": 14,
        "endLine": 26,
        "endChar": 42
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4893f45_3e5e19ec",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1311094
      },
      "writtenOn": "2019-07-31T16:56:44Z",
      "side": 1,
      "message": "Comment removed by: Jeff Carpenter; Reason: Mentions internal info",
      "parentUuid": "373ee93c_987cfd6f",
      "range": {
        "startLine": 26,
        "startChar": 14,
        "endLine": 26,
        "endChar": 42
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8822daa5_b5f7cefb",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1000018
      },
      "writtenOn": "2019-08-01T15:45:02Z",
      "side": 1,
      "message": "@Nick - Can you file a FR bug for this EC testing feature?  It is not unprecedented to add something like this.",
      "parentUuid": "b4893f45_3e5e19ec",
      "range": {
        "startLine": 26,
        "startChar": 14,
        "endLine": 26,
        "endChar": 42
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7d0f309_35b6b9f6",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-02T07:03:00Z",
      "side": 1,
      "message": "I think 5 minutes is still long if this test runs in release builders. At very least the test should run in a different pool. Do you know if we have a pool that can be used for this kind of testing?",
      "parentUuid": "8822daa5_b5f7cefb",
      "range": {
        "startLine": 26,
        "startChar": 14,
        "endLine": 26,
        "endChar": 42
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad6694f5_3b01a55c",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1311094
      },
      "writtenOn": "2019-08-02T23:18:00Z",
      "side": 1,
      "message": "Dan and I talked this morning, and we think we have a decent plan:\n\n-This will be a fast test that can run in the CQ, but it will only verify that basic EC communication works. We will drop trying to discharge the batteries, and will wait for the EC to speed up it\u0027s polling of the policy changes.\n\n-There will be a slower, more detailed test that verifies all of the charge scheduling behavior. It will be marked as \"disabled\" so that it needs to be run manually, but I will add a pre-upload script to the sarien-private-overlay so that when anyone tries to update the EC FW, they are reminded to run this (and maybe other) test(s).\n\nHow does that sound? With that plan filing a FR bug for the EC feature is not needed.",
      "parentUuid": "d7d0f309_35b6b9f6",
      "range": {
        "startLine": 26,
        "startChar": 14,
        "endLine": 26,
        "endChar": 42
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71196522_b24fa425",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1000018
      },
      "writtenOn": "2019-08-03T00:43:09Z",
      "side": 1,
      "message": "Sounds reasonable... except \"marking the test disabled\" doesn\u0027t jive with my (albeit aged) mental model of how are tests work.\n\nI would expect the \"slower, more detailed\" [auto]test to be enabled, but restricted to one of the FAFT test suites; either FAFT_ec, or maybe a (new?) dedicated FAFT_wilco_ec suite.  In any case, this suite would be used as part of a \"Wilco EC\" qualification test, similar to how we qualify any other EC firmware update.",
      "parentUuid": "ad6694f5_3b01a55c",
      "range": {
        "startLine": 26,
        "startChar": 14,
        "endLine": 26,
        "endChar": 42
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c840141b_8370cd10",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-05T08:39:42Z",
      "side": 1,
      "message": "Splitting the test to sanity check and full check sounds good to me. Regarding which pool to use, I don\u0027t have knowledge...\n\nBTW I\u0027m not sure uploading tests to sarien-private-overlay is okay; overlays usually don\u0027t contain code AFAIK. If you don\u0027t mind sharing the test to all partners, please consider platform/tast-tests-private repo.",
      "parentUuid": "71196522_b24fa425",
      "range": {
        "startLine": 26,
        "startChar": 14,
        "endLine": 26,
        "endChar": 42
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37c3c644_6dacc55d",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-07-31T04:05:18Z",
      "side": 1,
      "message": "I assume setting HW clock does not affect OS clock, am I right?",
      "range": {
        "startLine": 84,
        "startChar": 1,
        "endLine": 84,
        "endChar": 11
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f651e98_b78f2c21",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 1311094
      },
      "writtenOn": "2019-07-31T15:10:08Z",
      "side": 1,
      "message": "it will not affect the OS/system clock. I can better describe this in the comment",
      "parentUuid": "37c3c644_6dacc55d",
      "range": {
        "startLine": 84,
        "startChar": 1,
        "endLine": 84,
        "endChar": 11
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dede3688_e8b4f669",
        "filename": "src/chromiumos/tast/local/bundles/cros/power/charge_scheduling.go",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 1311094
      },
      "writtenOn": "2019-07-31T20:38:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8f651e98_b78f2c21",
      "range": {
        "startLine": 84,
        "startChar": 1,
        "endLine": 84,
        "endChar": 11
      },
      "revId": "3b66e722f16a736577f14560a4f70a838f7a3cf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}