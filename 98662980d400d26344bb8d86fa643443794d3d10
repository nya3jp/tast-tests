{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e2f30dad_d0c7f2b9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-09-03T15:07:20Z",
      "side": 1,
      "message": "Kyle and Xiyuan, the changes made by crrev.com/c/3111461 will impact the CUJs currently running with moblab. Can you review this change fixing the issue?",
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "efd63e37_3927295d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2021-09-03T17:19:20Z",
      "side": 1,
      "message": "I have some concerns about this CL, mainly that it will prevent the test from using the account pool in our lab environment.\n\nWhy is moblab able to use ui.cuj_username/password, but not ui.cujAccountPool? Does it override these variables on the command line or have its own secret-variable implementation?",
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bde18e35_010104f6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-09-03T22:21:11Z",
      "side": 1,
      "message": "Hi Kype, thanks for you quick response! If in your env ui.cuj_username/password are not configured, it won\u0027t prevent the ui.cujAccountPool being used, I think.\n\nMoblab solution is being used by OEM partners and they use the ui.cuj_username/password configuration. Upgrade to the latest tast release will fail their test cases. ui.cujAccountPool is a good feature if CUJs are being tested in a very high frequent. But we shouldn\u0027t fail their existing configuration if current configuration works well.",
      "parentUuid": "efd63e37_3927295d",
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d71c0ab6_6c86c9a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2021-09-07T16:19:59Z",
      "side": 1,
      "message": "cc yichenz@\n\nYichen, do you know whether \"cuj_username/password\" is being used? I wish we could keep only one set of the vars for all external partners.",
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00438b1f_efce3ed7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2021-09-07T17:29:32Z",
      "side": 1,
      "message": "Do you know how OEM partners using ui.cuj_username/password? I left some details about how these are used in our environment in some other comments. These are explicitly defined as secret variables in the Tast documentation:\nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#secret-variables\n\nSo I\u0027m curious what the relation is to OEM test runs and moblab.",
      "parentUuid": "bde18e35_010104f6",
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54954d21_bd6211cd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-09-07T18:02:10Z",
      "side": 1,
      "message": "Alex and the team have developed the performance_cuj test suite in moblab so partners can just select the suite and trigger some CUJ tests with moblab.",
      "parentUuid": "00438b1f_efce3ed7",
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bdf8ad86_7573fec2",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2021-09-03T17:19:20Z",
      "side": 1,
      "message": "This looks really similar to the code above at a glance. Can you add a comment distinguishing the case for \"cuj_username/password\" and \"ui.cuj_username/password\"?",
      "range": {
        "startLine": 120,
        "startChar": 1,
        "endLine": 126,
        "endChar": 2
      },
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "922e42e1_b908e819",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-09-03T22:21:11Z",
      "side": 1,
      "message": "I would like to check if you are using cuj_username/password in your lab. They don\u0027t follow the var naming convention. If they are not used, we should remove them. \n\nIn stead, ui.cuj_username/password are currently being used in some environments including moblab. If they don\u0027t need the account pool, they can keep this configuration.",
      "parentUuid": "bdf8ad86_7573fec2",
      "range": {
        "startLine": 120,
        "startChar": 1,
        "endLine": 126,
        "endChar": 2
      },
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66e80e6e_3d976086",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2021-09-07T16:19:59Z",
      "side": 1,
      "message": "FWICT, cuj_username/password is added to allow external partners to use MeetCUJ (crbug.com/1181121). I don\u0027t know there are external partners that depend on ui.cuj_username/password. IMHO, we should consolidate and keep only one set of the vars.",
      "parentUuid": "922e42e1_b908e819",
      "range": {
        "startLine": 120,
        "startChar": 1,
        "endLine": 126,
        "endChar": 2
      },
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90d26ec5_f07b25d3",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2021-09-07T17:29:32Z",
      "side": 1,
      "message": "To Xibin\u0027s comment, ui.cuj_username/password are still present in tast-tests-private\u0027s ui.yaml file, so tests running in our lab will have these variables loaded, hence my concern. Do you know if partners are overriding ui.cuj_username/password when they run these tests in their environment? i.e. `tast run -var\u003dui.cuj_username\u003d\u003cuser\u003e -var\u003dui.cuj_password\u003d\u003cpass\u003e`? Or is this something moblab is doing?",
      "parentUuid": "66e80e6e_3d976086",
      "range": {
        "startLine": 120,
        "startChar": 1,
        "endLine": 126,
        "endChar": 2
      },
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0319199f_e133a11e",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-09-07T18:02:10Z",
      "side": 1,
      "message": "Alex knows more details but basically each partner gets a configuration file (perf_cuj.config) placed in their GS bucket under config/perf_cuj folder\n\nThis is a simple JSON file with content similar to this:\n{\n  \"mode\": \"basic\",\n  \"ui.cuj_username\": \"user1@gmail.com\",\n  \"ui.cuj_password\": \"pwd1\",\n  \"ui.meet_url\": \"abc-defg-dfc\"\n}\n\nWhen partners choose to run the perf_cuj suite, moblab will download the file and use these variables to run the tast.\n\nAlex, do you think we can ask existing partners to change the configuration?",
      "parentUuid": "90d26ec5_f07b25d3",
      "range": {
        "startLine": 120,
        "startChar": 1,
        "endLine": 126,
        "endChar": 2
      },
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05d3828c_d99b2252",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2021-09-03T17:19:20Z",
      "side": 1,
      "message": "I think your change causes this to never be reached, and we won\u0027t be able to correctly use the account pool in the lab.",
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1559e51_08dac634",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-09-03T22:21:11Z",
      "side": 1,
      "message": "I think if neither cuj_username/password nor ui.cuj_username/password are specified, this code logic can still be reached. So if the tests decide to use cujAccountPool, they should remove the other vars and just configure ui.cujAccountPool.",
      "parentUuid": "05d3828c_d99b2252",
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad09b439_66841757",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2021-09-07T17:29:32Z",
      "side": 1,
      "message": "ui.cuj_username/password designate private variables kept in the internal tast-tests-private repo. In our lab environment we are not specifying runtime variables on the command line, they are being loaded from these yaml files.\n\nui.cuj_username/password are still declared in our private repository, so they will always be loaded and available to tests in the ui package.",
      "parentUuid": "d1559e51_08dac634",
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3fc20cea_a62d7b39",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 1400377
      },
      "writtenOn": "2021-09-07T18:02:10Z",
      "side": 1,
      "message": "Thanks for the explanation. I guess we should remove these definitions from internal repo, regardless how do we want to proceed with this CL. How do you think?",
      "parentUuid": "ad09b439_66841757",
      "revId": "98662980d400d26344bb8d86fa643443794d3d10",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}