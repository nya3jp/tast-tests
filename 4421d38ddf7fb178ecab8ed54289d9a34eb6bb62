{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1d53ccfc_f8a64d88",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-06-17T00:54:44Z",
      "side": 1,
      "message": "Thanks for adding the test. The structure looks nice.",
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef2ac13e_e56b606d",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_japanese_typing.go",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-06-17T00:54:44Z",
      "side": 1,
      "message": "I feel this function is too complicated to use. How about just simply use the existing function:\n\nits.ValidateInputOnField(inputField, uiauto.Combine(\"select candidates with Up \u0026 Down keys\",\n    kb.TypeAction(\"nihongo\"),\n    ui.Repeat(3, kb.AccelAction(\"Down\")),\n    validateWithCandidateIndex(inputField, 2),\n    kb.AccelAction(\"Up\"),\n    validateWithCandidateIndex(inputField,1),\n))\n\nThe same to below.",
      "range": {
        "startLine": 100,
        "startChar": 11,
        "endLine": 107,
        "endChar": 5
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3b464f7_fcc2a17e",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_japanese_typing.go",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2021-06-17T01:05:30Z",
      "side": 1,
      "message": "ValidateInputOnField currently requires an \"expectedValue\" as the 3rd parameter. What should I put there?\n\nShould the 3rd parameter be optional or something?",
      "parentUuid": "ef2ac13e_e56b606d",
      "range": {
        "startLine": 100,
        "startChar": 11,
        "endLine": 107,
        "endChar": 5
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37ff8e9a_1d1650cd",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_japanese_typing.go",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-06-17T01:22:52Z",
      "side": 1,
      "message": "oh, right. You actually do not need to use that function. \n\npreAction() \u003d uiauto.Combine(\"clean field and input\",\n    its.Clear(inputField),\n    its.ClickFieldAndWaitForActive(inputField),\n    kb.TypeAction(\"nihongo\"),\n)\n\nAction: uiauto.Combine(\"...\",\n    preAction(),\n    ui.Repeat(3, kb.AccelAction(\"Down\")),\n    validateWithCandidateIndex(inputField, 2),\n    kb.AccelAction(\"Up\"),\n    validateWithCandidateIndex(inputField,1),\n)",
      "parentUuid": "b3b464f7_fcc2a17e",
      "range": {
        "startLine": 100,
        "startChar": 11,
        "endLine": 107,
        "endChar": 5
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f2044799_6218954b",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_japanese_typing.go",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2021-06-17T04:50:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "37ff8e9a_1d1650cd",
      "range": {
        "startLine": 100,
        "startChar": 11,
        "endLine": 107,
        "endChar": 5
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48afa04a_addc82c3",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/util/util.go",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-06-17T00:54:44Z",
      "side": 1,
      "message": "Do you want to name it as PKCandidateFinder for more accuracy?",
      "range": {
        "startLine": 19,
        "startChar": 4,
        "endLine": 19,
        "endChar": 20
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7b6e5eff_21b44ef2",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/util/util.go",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2021-06-17T04:50:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "48afa04a_addc82c3",
      "range": {
        "startLine": 19,
        "startChar": 4,
        "endLine": 19,
        "endChar": 20
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "826d66f4_2435164c",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/util/util.go",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-06-17T08:58:25Z",
      "side": 1,
      "message": "Short name should be capitalized. So PKCandidateFinder is the practice :)",
      "parentUuid": "7b6e5eff_21b44ef2",
      "range": {
        "startLine": 19,
        "startChar": 4,
        "endLine": 19,
        "endChar": 20
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd6b4b9f_c39370a1",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/util/util.go",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-06-17T00:54:44Z",
      "side": 1,
      "message": "nit: GetCandidateText returns the candidate text in the specified position in the candidates window.",
      "range": {
        "startLine": 49,
        "startChar": 3,
        "endLine": 49,
        "endChar": 122
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6a02eaa0_0ad46416",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/util/util.go",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2021-06-17T04:50:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cd6b4b9f_c39370a1",
      "range": {
        "startLine": 49,
        "startChar": 3,
        "endLine": 49,
        "endChar": 122
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d79bbcb_6f4d7584",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/util/util.go",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-06-17T00:54:44Z",
      "side": 1,
      "message": "http://cs/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/chrome/uiauto/nodewith/nodewith.go?l\u003d348\n\nNth() returns the n-th node.",
      "range": {
        "startLine": 50,
        "startChar": 5,
        "endLine": 50,
        "endChar": 21
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bbc5e873_e2b00670",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/util/util.go",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2021-06-17T04:50:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3d79bbcb_6f4d7584",
      "range": {
        "startLine": 50,
        "startChar": 5,
        "endLine": 50,
        "endChar": 21
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "522e2e09_d06117b5",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/automation.go",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-06-17T00:54:44Z",
      "side": 1,
      "message": "It would be nice to have an interval for each action. It might introduce flakiness to actions (e.g. tap key) too quick.",
      "range": {
        "startLine": 105,
        "startChar": 5,
        "endLine": 105,
        "endChar": 11
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "95b39bb9_07b42428",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/automation.go",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1197444
      },
      "writtenOn": "2021-06-17T04:50:24Z",
      "side": 1,
      "message": "I wanted this function to be equivalent to calling uiauto.Combine, which doesn\u0027t seem to sleep:\nhttp://cs/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/action/action.go?l\u003d37\u0026rcl\u003d23aa61ab59537c3b315334973638f061697cebea",
      "parentUuid": "522e2e09_d06117b5",
      "range": {
        "startLine": 105,
        "startChar": 5,
        "endLine": 105,
        "endChar": 11
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3456a144_ab2ada36",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/automation.go",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-06-17T08:58:25Z",
      "side": 1,
      "message": "Understood. However, the Combine function allows users to sleep on demand by injecting a sleep action: uiauto.Sleep(time.Second)(ctx). This repeat function has no way to do so. But totally up to you.",
      "parentUuid": "95b39bb9_07b42428",
      "range": {
        "startLine": 105,
        "startChar": 5,
        "endLine": 105,
        "endChar": 11
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "47e39762_16b370e4",
        "filename": "src/chromiumos/tast/local/chrome/uiauto/automation.go",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-06-17T23:36:19Z",
      "side": 1,
      "message": "btw, if you want to apply interval to repeat function. You can also make it attach to an action context. \n\n(ac *Context) Repeat(n int, fn Action) Action {\n    return func(ctx context.Context) error {\n\tfor i :\u003d 0; i \u003c n; i++ {\n\t    if err :\u003d fn(ctx); err !\u003d nil {\n\t        return err\n\t    }\n\t    if err :\u003d testing.Sleep(ctx, ac.pollOpts.Interval)\n        }\n        return nil\n    }\n}\n\nThe default interval is 100ms, if can be customized:\nuiauto.New(tconn).WithInterval(time.Second).Repeat()",
      "parentUuid": "3456a144_ab2ada36",
      "range": {
        "startLine": 105,
        "startChar": 5,
        "endLine": 105,
        "endChar": 11
      },
      "revId": "4421d38ddf7fb178ecab8ed54289d9a34eb6bb62",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}