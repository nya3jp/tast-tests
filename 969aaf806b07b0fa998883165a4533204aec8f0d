{
  "comments": [
    {
      "key": {
        "uuid": "d3d0b7ea_f341ac6e",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_system_info.go",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-24T20:04:59Z",
      "side": 1,
      "message": "I guess it can be much simpler if we will have needed constants in each verify function, e.g.\n\nfunc verifyX() {\n  const (\n    ...\n  )\n\n}",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 44,
        "endChar": 38
      },
      "revId": "969aaf806b07b0fa998883165a4533204aec8f0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85ee7986_77126a6e",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_system_info.go",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-06-29T18:44:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d3d0b7ea_f341ac6e",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 44,
        "endChar": 38
      },
      "revId": "969aaf806b07b0fa998883165a4533204aec8f0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7fba707f_a0043ed2",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_system_info.go",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-24T20:04:59Z",
      "side": 1,
      "message": "nit: move this before constants",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 59,
        "endChar": 1
      },
      "revId": "969aaf806b07b0fa998883165a4533204aec8f0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "983c113b_8d0c5b38",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_system_info.go",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-06-29T18:44:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7fba707f_a0043ed2",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 59,
        "endChar": 1
      },
      "revId": "969aaf806b07b0fa998883165a4533204aec8f0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c192ccf0_9d4bdf78",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_system_info.go",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-24T20:04:59Z",
      "side": 1,
      "message": "this is repeating pattern. I\u0027d like to reuse it somehow.\n\nJesse, did not work on some tool to verify CSV file?",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 76,
        "endChar": 2
      },
      "revId": "969aaf806b07b0fa998883165a4533204aec8f0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef40f815_cc602aa2",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_system_info.go",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1296737
      },
      "writtenOn": "2020-06-25T18:41:31Z",
      "side": 1,
      "message": "I filed crbug.com/1085420, but no one has started working on it yet.",
      "parentUuid": "c192ccf0_9d4bdf78",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 76,
        "endChar": 2
      },
      "revId": "969aaf806b07b0fa998883165a4533204aec8f0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ab768c4_c154c101",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_system_info.go",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-06-29T18:44:14Z",
      "side": 1,
      "message": "Ah, good catch. I have created a separate function to handle the checking and validation, which has significantly reduced the # of LOC.",
      "parentUuid": "ef40f815_cc602aa2",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 76,
        "endChar": 2
      },
      "revId": "969aaf806b07b0fa998883165a4533204aec8f0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "538b22c0_793ad63f",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_system_info.go",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-29T19:56:05Z",
      "side": 1,
      "message": "https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/2202522 -- there is a comment how CSV validation may look like:\n\n\n\tarr :\u003d [][]string{{\"weigth\", \"powered\", \"height\"}, {\"1\", \"true\", \"23\"}}\n\tvalidCSV(arr,\n\t\tHeaders(\"weigth\", \"powered\", \"height\"),\n\t\tColumn(0, Int(GreaterThanInt(0), SmallerThanInt(12))),\n\t\tColumn(1, String(func(s string) error {\n\t\t\t// custom validator\n\t\t\tif s !\u003d \"true\" {\n\t\t\t\treturn errors.New(\"some issue\")\n\t\t\t}\n\t\t\treturn nil\n\t\t})),\n\t\tColumn(2, Int(EqualInt(23))))\n\n\ncons of your approach:\n1. you don\u0027t verify types\n2. to report errors you need hack like printStr\n3. once you got failure you just con\u0027t validate other values.\n\nI guess you need to start thinking about some helper to validate your output, otherwise we\u0027ll see a lot of repeating code in tests.",
      "parentUuid": "0ab768c4_c154c101",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 76,
        "endChar": 2
      },
      "revId": "969aaf806b07b0fa998883165a4533204aec8f0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54f2a7fb_2e4db3f1",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_system_info.go",
        "patchSetId": 2
      },
      "lineNbr": 212,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-24T20:04:59Z",
      "side": 1,
      "message": "I guess it maybe simpler if it will be before verify functions. So, most important function is closer to the beginning of the file",
      "range": {
        "startLine": 212,
        "startChar": 0,
        "endLine": 212,
        "endChar": 31
      },
      "revId": "969aaf806b07b0fa998883165a4533204aec8f0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6af57356_e7ecb548",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/cros_healthd_probe_system_info.go",
        "patchSetId": 2
      },
      "lineNbr": 212,
      "author": {
        "id": 1301140
      },
      "writtenOn": "2020-06-29T18:44:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "54f2a7fb_2e4db3f1",
      "range": {
        "startLine": 212,
        "startChar": 0,
        "endLine": 212,
        "endChar": 31
      },
      "revId": "969aaf806b07b0fa998883165a4533204aec8f0d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}