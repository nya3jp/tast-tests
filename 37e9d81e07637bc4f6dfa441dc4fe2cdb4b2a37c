{
  "comments": [
    {
      "key": {
        "uuid": "a4980dde_77f1d33b",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-01-17T09:09:55Z",
      "side": 1,
      "message": "Do you need to maintain test result reported differently? Or can they be consolidated in to one test (for better performance, pls find my comment below)? E.g., can testing.State.Run() help you?",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d1eead2_235a7a0f",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-01-17T09:54:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a4980dde_77f1d33b",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c47cc5bd_baa8858a",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 52,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-01-17T09:09:55Z",
      "side": 1,
      "message": "Launching Chrome is very costly operation, specifically on running in CQ.\nIs it possible to change the fakedms behavior during the logged in Chrome to share the Chrome log-in state across tests?",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "68849209_752c884f",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 52,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-01-17T09:57:44Z",
      "side": 1,
      "message": "I am having issues with this:\n\n2020/01/17 10:54:59 policy.AllowDinosaurEasterEgg  [ FAIL ] false: Failed to refresh policies: ReferenceError: tast is not defined\n2020/01/17 10:54:59                                         unset: Failed to refresh policies: ReferenceError: tast is not defined\n\n\nPolicy refresh is actually working fine, but it seems tast.promisify goes away for some reason. If I run each test individually it works. Running 3 of them fails.\n\nI used https://osscs.corp.google.com/chromiumos/chromiumos/codesearch/+/master:src/platform/tast-tests/src/chromiumos/tast/local/assistant/assistant.go;l\u003d40?q\u003dEvalPromise%20file:tast\nas an example",
      "parentUuid": "c47cc5bd_baa8858a",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b38cc9e3_eed432a5",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 52,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-01-17T11:58:07Z",
      "side": 1,
      "message": "Now working. Can we prevent Navigate on the connection from chrome.TestAPIConn? This was hard to track down.\n\nThe policy does not dynamically refresh, but a window restart is sufficient to make it work.",
      "parentUuid": "68849209_752c884f",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6ace650_63f003a4",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 52,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-01-19T17:49:54Z",
      "side": 1,
      "message": "Thank you for fixing!\n\n\u003e Can we prevent Navigate on the connection from chrome.TestAPIConn? \n\nSounds reasonable to me. Could you file a bug?",
      "parentUuid": "b38cc9e3_eed432a5",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db8a03d0_7a9d52ee",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 52,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-01-20T08:52:01Z",
      "side": 1,
      "message": "https://bugs.chromium.org/p/chromium/issues/detail?id\u003d1043590",
      "parentUuid": "b6ace650_63f003a4",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9512a998_183dd205",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 52,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-01-20T09:34:38Z",
      "side": 1,
      "message": "Thank you!",
      "parentUuid": "db8a03d0_7a9d52ee",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b187d286_9492198d",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 54,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-01-17T09:09:55Z",
      "side": 1,
      "message": "style/optional: I\u0027d recommend to inline options.\n\ncr, err :\u003d chrome.New(\n  ctx,\n  chrome.Auth(...),\n  chrome.DMSPolicy(...))",
      "range": {
        "startLine": 53,
        "startChar": 1,
        "endLine": 54,
        "endChar": 64
      },
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e5f2758_a061f7c5",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 54,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-01-17T09:54:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b187d286_9492198d",
      "range": {
        "startLine": 53,
        "startChar": 1,
        "endLine": 54,
        "endChar": 64
      },
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d98a1e9f_800b061d",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 69,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-01-17T09:09:55Z",
      "side": 1,
      "message": "nit/style: nice to add \":\" for convention.\n\ns.Fatalf(\"Could not open %q: %v\", url, err)",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af76f8fd_75cddf2b",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 69,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-01-17T09:54:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d98a1e9f_800b061d",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "42c19fc1_f958f061",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 73,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-01-17T09:09:55Z",
      "side": 1,
      "message": "we often write inline. Also, nice to check the condition in JS in this specific case, I think.\n\nvar blocked bool\nif err :\u003d tconn.Eval(ctx, `document.querySelector(...) \u003d\u003d {}`, \u0026blocked); err !\u003d nil {\n  ...\n}\n\nexpected :\u003d p.Stat !\u003d policy.StatusUnset \u0026\u0026 p.Val  // Or, I\u0027d recommend you to embed the expected result into the parameter, instead.\nif blocked !\u003d expected {\n  s.Fatal(\"Unexpected blocked behavior: got %t; want %t\", blocked, expected)\n}\n\nAs for checking emptiness of the result of querySelector, you may want to do something other.\ncf) https://stackoverflow.com/questions/679915/how-do-i-test-for-an-empty-javascript-object",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a52793a_7619e14c",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/allow_dinosaur_easter_egg.go",
        "patchSetId": 3
      },
      "lineNbr": 73,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-01-17T09:54:49Z",
      "side": 1,
      "message": "Done. object is null, not empty so easier to check ðŸ˜Š.",
      "parentUuid": "42c19fc1_f958f061",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e33b38b_2a59a731",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/doc.go",
        "patchSetId": 3
      },
      "lineNbr": 5,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-01-17T09:09:55Z",
      "side": 1,
      "message": "Clar: do you plan to add more and more tests to policy package? If so, that\u0027s fine. If not, maybe it\u0027s worth to consider putting a new test under some existing package?",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7159494_4c0daf58",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/doc.go",
        "patchSetId": 3
      },
      "lineNbr": 5,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-01-17T09:54:49Z",
      "side": 1,
      "message": "Many more tests will be added. All user policies will need to be tested (new ones first).",
      "parentUuid": "7e33b38b_2a59a731",
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "792e6b2b_e73cb28e",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/doc.go",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-01-17T09:09:55Z",
      "side": 1,
      "message": "Clar: wilco...?",
      "range": {
        "startLine": 7,
        "startChar": 7,
        "endLine": 7,
        "endChar": 36
      },
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de4835bd_6f464c39",
        "filename": "src/chromiumos/tast/local/bundles/cros/policy/doc.go",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-01-17T09:54:49Z",
      "side": 1,
      "message": "Copy paste error.",
      "parentUuid": "792e6b2b_e73cb28e",
      "range": {
        "startLine": 7,
        "startChar": 7,
        "endLine": 7,
        "endChar": 36
      },
      "revId": "37e9d81e07637bc4f6dfa441dc4fe2cdb4b2a37c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}