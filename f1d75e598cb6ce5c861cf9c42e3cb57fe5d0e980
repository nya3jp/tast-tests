{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "001fc99b_66618888",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1118689
      },
      "writtenOn": "2020-11-25T02:52:30Z",
      "side": 1,
      "message": "Attention to nya@ for the comment thread",
      "revId": "f1d75e598cb6ce5c861cf9c42e3cb57fe5d0e980",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee3d56ad_64a089aa",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_built_in_apps.go",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-11-24T00:33:08Z",
      "side": 1,
      "message": "Mixing preconditions that return different types isn\u0027t allowed. So s.PreValue() would need to return *chrome.Chrome for lacroslauncher.StartedByData for this to be allowed.\n\nI don\u0027t know the original reason behind this, but it is in one of the later paragraphs of this: https://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#parameterized-tests",
      "range": {
        "startLine": 37,
        "startChar": 23,
        "endLine": 37,
        "endChar": 54
      },
      "revId": "f1d75e598cb6ce5c861cf9c42e3cb57fe5d0e980",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3f304f8_f57bf253",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_built_in_apps.go",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1118689
      },
      "writtenOn": "2020-11-24T00:38:13Z",
      "side": 1,
      "message": "Ah I saw another test do it already though:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/ui/overview_perf.go;l\u003d38\n\nThe lacros precondition needs to return a lacros and a chrome instance so I can\u0027t change that.\nDo you think I should add another duplicate test instead?",
      "parentUuid": "ee3d56ad_64a089aa",
      "range": {
        "startLine": 37,
        "startChar": 23,
        "endLine": 37,
        "endChar": 54
      },
      "revId": "f1d75e598cb6ce5c861cf9c42e3cb57fe5d0e980",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39126357_afc8c4b4",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_built_in_apps.go",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-11-24T00:56:10Z",
      "side": 1,
      "message": "I am gonna message nya@ just to get better context on why this is an issue, but I guess the proper solution is to make a library that runs the test and then 2 wrapper tests for the different preconditions.",
      "parentUuid": "a3f304f8_f57bf253",
      "range": {
        "startLine": 37,
        "startChar": 23,
        "endLine": 37,
        "endChar": 54
      },
      "revId": "f1d75e598cb6ce5c861cf9c42e3cb57fe5d0e980",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a57a9df2_47cdf646",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_built_in_apps.go",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2020-11-24T06:49:54Z",
      "side": 1,
      "message": "Interesting - we\u0027ll have to update a few other tests if we can\u0027t do this.\n\nIt seems to work fine though",
      "parentUuid": "39126357_afc8c4b4",
      "range": {
        "startLine": 37,
        "startChar": 23,
        "endLine": 37,
        "endChar": 54
      },
      "revId": "f1d75e598cb6ce5c861cf9c42e3cb57fe5d0e980",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ecc9d96_c1299374",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_built_in_apps.go",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-11-24T07:04:37Z",
      "side": 1,
      "message": "+1 to hear from nya@ (He\u0027s ooo today. Let\u0027s wait another day).\n\nThe original intention was to keep the code better error prone.\nSpecifically, we were concerned about making complicated precondition, which is difficult to be share with others.\nThe situation is being changed, and actually fixture is being introduced. It\u0027s worth revisit here. Thank you for pointing it out, Brendan.",
      "parentUuid": "39126357_afc8c4b4",
      "range": {
        "startLine": 37,
        "startChar": 23,
        "endLine": 37,
        "endChar": 54
      },
      "revId": "f1d75e598cb6ce5c861cf9c42e3cb57fe5d0e980",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa45290d_db7966e9",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_built_in_apps.go",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2020-11-24T07:11:55Z",
      "side": 1,
      "message": "We also have helpers that are meant to reduce mistakes here: https://source.chromium.org/chromiumos/chromiumos/codesearch/+/master:src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/ui/lacros/lacros.go;l\u003d21;drc\u003d52963b7a9578bb44f6d58e13b76ee2deeec8591b\n\nAlso adding a \u0027GetChrome\u0027 in a separate CL one that should replace the code here at line #46.",
      "parentUuid": "1ecc9d96_c1299374",
      "range": {
        "startLine": 37,
        "startChar": 23,
        "endLine": 37,
        "endChar": 54
      },
      "revId": "f1d75e598cb6ce5c861cf9c42e3cb57fe5d0e980",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "21897ab8_b7dad68f",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_built_in_apps.go",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-11-30T05:37:56Z",
      "side": 1,
      "message": "Thanks for bringing this to my attention. Recently we\u0027re using preconditions much more extensively than we originally thought. It looks clear to me that the old restriction that \"all preconditions in test parameters should have the same type\" is not nice in these use cases.\n\nDoes anybody want to propose lifting the restriction?",
      "parentUuid": "aa45290d_db7966e9",
      "range": {
        "startLine": 37,
        "startChar": 23,
        "endLine": 37,
        "endChar": 54
      },
      "revId": "f1d75e598cb6ce5c861cf9c42e3cb57fe5d0e980",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53c23955_a6a77f3b",
        "filename": "src/chromiumos/tast/local/bundles/cros/launcher/search_built_in_apps.go",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2020-11-30T07:33:11Z",
      "side": 1,
      "message": "IMO it would be nice if we could lift the restriction",
      "parentUuid": "21897ab8_b7dad68f",
      "range": {
        "startLine": 37,
        "startChar": 23,
        "endLine": 37,
        "endChar": 54
      },
      "revId": "f1d75e598cb6ce5c861cf9c42e3cb57fe5d0e980",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}