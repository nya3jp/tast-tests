{
  "comments": [
    {
      "key": {
        "uuid": "a9af3571_c21cb5f9",
        "filename": "src/chromiumos/tast/local/bundles/cros/wilco/ec_event.go",
        "patchSetId": 4
      },
      "lineNbr": 71,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-11-07T10:15:32Z",
      "side": 1,
      "message": "nit: can omit.",
      "range": {
        "startLine": 71,
        "startChar": 51,
        "endLine": 71,
        "endChar": 54
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9b97279_f21c7859",
        "filename": "src/chromiumos/tast/local/bundles/cros/wilco/ec_event.go",
        "patchSetId": 4
      },
      "lineNbr": 71,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2019-11-07T17:53:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a9af3571_c21cb5f9",
      "range": {
        "startLine": 71,
        "startChar": 51,
        "endLine": 71,
        "endChar": 54
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a120879_6bd0c78e",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 23,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-11-07T10:15:32Z",
      "side": 1,
      "message": "Used only in this file, so shouldn\u0027t be capital.",
      "range": {
        "startLine": 23,
        "startChar": 5,
        "endLine": 23,
        "endChar": 12
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39451c74_85ee2549",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 23,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2019-11-07T17:53:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6a120879_6bd0c78e",
      "range": {
        "startLine": 23,
        "startChar": 5,
        "endLine": 23,
        "endChar": 12
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "57a2e752_a7aeb336",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 30,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2019-11-07T08:26:25Z",
      "side": 1,
      "message": "If timeout is the only error we need to handle could we simply stop and do nothing as WaitForMessage also checks for timeout. It could make things simpler.\n\nWDYT?",
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a70ed21b_af7555a1",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 30,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-11-07T10:15:32Z",
      "side": 1,
      "message": "same",
      "range": {
        "startLine": 30,
        "startChar": 5,
        "endLine": 30,
        "endChar": 18
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ca75f7c_cf7539e7",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 30,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2019-11-07T17:53:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a70ed21b_af7555a1",
      "range": {
        "startLine": 30,
        "startChar": 5,
        "endLine": 30,
        "endChar": 18
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ec3a7275_2226f034",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 30,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2019-11-07T17:53:33Z",
      "side": 1,
      "message": "The only case we couldn\u0027t handle would be returning an error on line 59 if we are unable to parse the JSON. I think it\u0027s probably worth having the struct to report this error if it does happen.",
      "parentUuid": "57a2e752_a7aeb336",
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d0008d2_ff154740",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 30,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2019-11-12T09:10:56Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ec3a7275_2226f034",
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "de317bd0_34bbb019",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 73,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-11-07T10:15:32Z",
      "side": 1,
      "message": "same: non-capital",
      "range": {
        "startLine": 73,
        "startChar": 1,
        "endLine": 73,
        "endChar": 5
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4dc7611f_63dbb58a",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 73,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2019-11-07T17:53:33Z",
      "side": 1,
      "message": "I was thinking it might be useful to leave this public so that a client could parse the JSON themselves as Victor suggested in the first patchset. This is also why I left DPSLMsgResult and DPSLMsg public as well. I\u0027ll make everything private for now, and if we have a need to parse all messages from the channel we can revisit it.",
      "parentUuid": "de317bd0_34bbb019",
      "range": {
        "startLine": 73,
        "startChar": 1,
        "endLine": 73,
        "endChar": 5
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8bd83612_06689c7b",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 73,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-11-08T15:15:24Z",
      "side": 1,
      "message": "Sure, if we\u0027ll really need we can change it. But anyway, I guess it\u0027s better to hide such low-level logic.",
      "parentUuid": "4dc7611f_63dbb58a",
      "range": {
        "startLine": 73,
        "startChar": 1,
        "endLine": 73,
        "endChar": 5
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59a03c92_8e29966f",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 113,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2019-11-07T08:26:25Z",
      "side": 1,
      "message": "Why not emit an error here?",
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ee57037_5f76c2a3",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 113,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-11-07T10:15:32Z",
      "side": 1,
      "message": "+1, smth should be broken if that happened.",
      "parentUuid": "59a03c92_8e29966f",
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b0400fb_6ed37e15",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 113,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2019-11-07T17:53:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ee57037_5f76c2a3",
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0e25dcb_85770692",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-11-07T10:15:32Z",
      "side": 1,
      "message": "Isn\u0027t safer to read all messages after clothing DPSL listener, i.e. after 136 line?\n\nAnd also do `for len(rec.Msgs) \u003e 0 {...}` instead of `if`.",
      "range": {
        "startLine": 130,
        "startChar": 0,
        "endLine": 134,
        "endChar": 2
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58334ec8_eec8c852",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2019-11-07T17:53:33Z",
      "side": 1,
      "message": "I think as long as the stop channel is closed and the block on sending to the msg channel is removed, it should be fine. But I think the change logically makes more sense. Done.",
      "parentUuid": "f0e25dcb_85770692",
      "range": {
        "startLine": 130,
        "startChar": 0,
        "endLine": 134,
        "endChar": 2
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bdd40f19_4cff2b0b",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 148,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-11-07T10:15:32Z",
      "side": 1,
      "message": "nit: m or msg?",
      "range": {
        "startLine": 148,
        "startChar": 7,
        "endLine": 148,
        "endChar": 8
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9270a34e_eae392f0",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 148,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2019-11-07T17:53:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bdd40f19_4cff2b0b",
      "range": {
        "startLine": 148,
        "startChar": 7,
        "endLine": 148,
        "endChar": 8
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ee3d8c6_891df721",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 154,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-11-07T10:15:32Z",
      "side": 1,
      "message": "Can you compare name of income message and expected message name before unmarshal?",
      "range": {
        "startLine": 154,
        "startChar": 13,
        "endLine": 154,
        "endChar": 35
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4b7eb6e_359487a7",
        "filename": "src/chromiumos/tast/local/wilco/dpsl_api.go",
        "patchSetId": 4
      },
      "lineNbr": 154,
      "author": {
        "id": 1304442
      },
      "writtenOn": "2019-11-07T17:53:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1ee3d8c6_891df721",
      "range": {
        "startLine": 154,
        "startChar": 13,
        "endLine": 154,
        "endChar": 35
      },
      "revId": "68c22234cd4ada928f4327ee21f157fd253aae3b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}