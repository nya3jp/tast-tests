{
  "comments": [
    {
      "key": {
        "uuid": "80285566_f70b5ccc",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 17,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "please use godoc-compliant comments: https://blog.golang.org/godoc-documenting-go-code\n\n  // FileLabelCheckFilter takes a ____ and return a bool indicating if ____.",
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "947694a8_fe56031b",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "please drop SELinux from this name; it\u0027s already the package name. just call this FileLabelCheckFilter",
      "range": {
        "startLine": 18,
        "startChar": 5,
        "endLine": 18,
        "endChar": 12
      },
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7912515_f947ca62",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "please give arguments like this descriptive names and also document them in comments -- someone reading this code won\u0027t know what this string is supposed to contain",
      "range": {
        "startLine": 18,
        "startChar": 54,
        "endLine": 18,
        "endChar": 60
      },
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a6543df_bc13b571",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "does this actually need a testing.State? if not, please remove it.",
      "range": {
        "startLine": 18,
        "startChar": 38,
        "endLine": 18,
        "endChar": 52
      },
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae921441_ad774473",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 20,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "please document this method and all of the other exported methods below",
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "125df591_65b270c6",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 26,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "nit: i think the convention is to use \"fi\" for a os.FileInfo. \"f\" is usually used for os.File",
      "range": {
        "startLine": 26,
        "startChar": 46,
        "endLine": 26,
        "endChar": 47
      },
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf092fd3_66eb1c0c",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 31,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "passing an os.FileInfo implies that this was already successfully stat-ed earlier. why does it need to be checked here?",
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea04d759_5ed5d3b7",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 53,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "what\u0027s the reason for this function? it looks like it just invokes another function directly, so it doesn\u0027t seem to do anything",
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bdc543fb_04bb567a",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 57,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "instead of testing.State, how about just passing context.Context and making this return an error? it doesn\u0027t need to report multiple errors, does it? if not, the caller can be responsible for calling s.Error\n\nalso, please drop SELinux from the name. see \"avoid stutter\" in https://blog.golang.org/package-names",
      "range": {
        "startLine": 57,
        "startChar": 30,
        "endLine": 57,
        "endChar": 46
      },
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79900607_15660268",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 60,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "this could be fmt.Errorf(\"failed to get file context for %s: %v\", path, err)",
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50128914_f2cb0bc2",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 64,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "return fmt.Errorf(\"file context for %s is %q instead of %q\", path, actual, expected)",
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b44708bf_0120cbee",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 73,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "please document how these args are used: a caller won\u0027t have any idea what \"expect\" is supposed to be or how \"filter\" is used. filePath looks like it\u0027s a directory -- why not just name it \"dir\" to make that obvious?\n\nalso, drop SELinux from the name",
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc2be0d3_df244a73",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 79,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "i\u0027d probably change these variable names to make them clearer:\n\n- name the directory passed to the function \u0027dir\u0027\n- change this to \"for _, fi :\u003d range fis\"\n- change the next line to \"path :\u003d filepath.Join(dir, fi.Name())\"",
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f76b2d4b_6309af49",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux/file_label_utils.go",
        "patchSetId": 8
      },
      "lineNbr": 80,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "use filepath.Join for filenames",
      "range": {
        "startLine": 80,
        "startChar": 17,
        "endLine": 80,
        "endChar": 21
      },
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65f3d5b2_c42e983d",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux_file_label.go",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "please nest this in the SELinuxFileLabel function (per https://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#Scoping-and-shared-code)\n\na common convention in go code is to use anonymous structs for test cases, e.g.\n\n  for _, tc :\u003d range struct {\n      path, context string\n      recursive bool\n      filter selinux.SELinuxFileLabelCheckFilter\n  } {\n      {\"/sbin/init\", \"...\", false, nil},\n      {\"/run/cras\", \"...\", true, nil},\n      ...\n  } {\n      stat, _ :\u003d os.Lstat(tc.path)\n      ...\n  }",
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb8556d4_d7682a0e",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux_file_label.go",
        "patchSetId": 8
      },
      "lineNbr": 59,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "need to check for errors here. if you want to skip missing files, do:\n\n  if os.IsNotExist(err) {\n      continue\n  }",
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41776848_142d6857",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/selinux_file_label.go",
        "patchSetId": 8
      },
      "lineNbr": 60,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-09-11T00:55:28Z",
      "side": 1,
      "message": "nit: remove extra parentheses",
      "range": {
        "startLine": 60,
        "startChar": 30,
        "endLine": 60,
        "endChar": 31
      },
      "revId": "d44c404f4e7cbd272f1cdfa0699e9e7a0daff9a3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}