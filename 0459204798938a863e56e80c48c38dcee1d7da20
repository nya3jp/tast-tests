{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "96eca8ed_2496f8ef",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2021-05-27T19:16:02Z",
      "side": 1,
      "message": "Relatively minor comments, so CR+2. I\u0027d be happy if Kevin took a look through too.\n\nI know this increases the scope a bit, so no need to address in this particular CL, but:\ndoes it make sense to have a \"wake on WiFi\" test that simply tests that we retain connectivity if things stay in good shape? Like:\n1. enable wake-on-disconnect\n2. suspend\n3. wake by non-WiFi trigger (in practice, this would be something like \"power button\"; but we could test RTC?)\n4. check that connectivity is up \"quickly\"?\n4(a). if \"quickly\" isn\u0027t easy to check, we can at least check that there\u0027s no disconnection, and ping still works?\n\nI mention this, because the *real* key of the feature isn\u0027t that we wake on WiFi triggers super reliably, but that when we stay nearby the AP, we remain connected and can resume quickly (or at least, reliably).\n\nIt seems like this would be a pretty small tweak to these tests.",
      "revId": "0459204798938a863e56e80c48c38dcee1d7da20",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "34d6a537_f13729d8",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/wake_on_disconnect.go",
        "patchSetId": 6
      },
      "lineNbr": 59,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2021-05-27T19:16:02Z",
      "side": 1,
      "message": "not a big deal, but I think Mixed is still a better default. I\u0027m not sure I\u0027ve ever seen a Real AP that sets VHT\u003drequired in its IEs -- that just serves to unnecessarily reject older devices (i.e., interop problems for the AP). But then, I haven\u0027t done a proper survey.",
      "range": {
        "startLine": 59,
        "startChar": 34,
        "endLine": 59,
        "endChar": 38
      },
      "revId": "0459204798938a863e56e80c48c38dcee1d7da20",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f8639c07_75042528",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/wake_on_disconnect.go",
        "patchSetId": 6
      },
      "lineNbr": 59,
      "author": {
        "id": 1487074
      },
      "writtenOn": "2021-05-31T07:58:57Z",
      "side": 1,
      "message": "Thanks for the suggestion. Done.",
      "parentUuid": "34d6a537_f13729d8",
      "range": {
        "startLine": 59,
        "startChar": 34,
        "endLine": 59,
        "endChar": 38
      },
      "revId": "0459204798938a863e56e80c48c38dcee1d7da20",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88e17be0_2d001826",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/wake_on_ssid.go",
        "patchSetId": 6
      },
      "lineNbr": 132,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2021-05-27T19:16:02Z",
      "side": 1,
      "message": "So for this \u0027waitForProps\u0027, we don\u0027t have a specific timeout, right? And if this fails, it\u0027s going to take the entire test timeout? I understand it could be a little hard to put a precise timeout, since VerifyWakeOnWifiReason() will have a potentially long timeline. So is it OK to just let this run for ~a few minutes (at L154), or should we put a smaller timeout?",
      "range": {
        "startLine": 132,
        "startChar": 0,
        "endLine": 132,
        "endChar": 74
      },
      "revId": "0459204798938a863e56e80c48c38dcee1d7da20",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54e82f55_3286746f",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/wake_on_ssid.go",
        "patchSetId": 6
      },
      "lineNbr": 132,
      "author": {
        "id": 1487074
      },
      "writtenOn": "2021-05-31T07:58:57Z",
      "side": 1,
      "message": "Yeah, the time in VerifyWakeOnWifiReason makes it hard to determine the timeout here. I think it would be more convenient to have it CHECK_WAIT after VerifyWakeOnWifiReason. We already make sure it is disconnected before suspend (line119), so CHECK_WAIT there should be equivalent.",
      "parentUuid": "88e17be0_2d001826",
      "range": {
        "startLine": 132,
        "startChar": 0,
        "endLine": 132,
        "endChar": 74
      },
      "revId": "0459204798938a863e56e80c48c38dcee1d7da20",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ee4a384_f5956dbd",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/wake_on_ssid.go",
        "patchSetId": 6
      },
      "lineNbr": 153,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2021-05-27T19:16:02Z",
      "side": 1,
      "message": "any need for a connectivity check (e.g., ping) afterward? Would be nice to make sure the link comes back \"correctly\", and not just a single shill state transition.",
      "range": {
        "startLine": 153,
        "startChar": 24,
        "endLine": 153,
        "endChar": 33
      },
      "revId": "0459204798938a863e56e80c48c38dcee1d7da20",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "85ea2489_2a64c950",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/wake_on_ssid.go",
        "patchSetId": 6
      },
      "lineNbr": 153,
      "author": {
        "id": 1487074
      },
      "writtenOn": "2021-05-31T07:58:57Z",
      "side": 1,
      "message": "Add VerifyConnection after reconnect.",
      "parentUuid": "4ee4a384_f5956dbd",
      "range": {
        "startLine": 153,
        "startChar": 24,
        "endLine": 153,
        "endChar": 33
      },
      "revId": "0459204798938a863e56e80c48c38dcee1d7da20",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f502d1a_8b303f87",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/wifiutil/wake_on_wifi_util.go",
        "patchSetId": 6
      },
      "lineNbr": 18,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2021-05-27T19:16:02Z",
      "side": 1,
      "message": "nit: remove\n\n(not \"X, and Y, and Z.\", but \"X, Y, and Z\")",
      "range": {
        "startLine": 18,
        "startChar": 3,
        "endLine": 18,
        "endChar": 6
      },
      "revId": "0459204798938a863e56e80c48c38dcee1d7da20",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "689d0f9a_d8eb3ec4",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/wifiutil/wake_on_wifi_util.go",
        "patchSetId": 6
      },
      "lineNbr": 18,
      "author": {
        "id": 1487074
      },
      "writtenOn": "2021-05-31T07:58:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4f502d1a_8b303f87",
      "range": {
        "startLine": 18,
        "startChar": 3,
        "endLine": 18,
        "endChar": 6
      },
      "revId": "0459204798938a863e56e80c48c38dcee1d7da20",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}