<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <script type='text/javascript'>
        window.addEventListener('load', function () {
            var canvas = document.getElementById('canvas');
            canvas.height = window.innerHeight;
            canvas.width = window.innerWidth;
            var context = canvas.getContext('2d');
            var isIdle = true;
            function drawStart(event) {
                context.beginPath();
                context.moveTo(event.pageX - canvas.offsetLeft, event.pageY - canvas.offsetTop);
                isIdle = false;
            }
            function drawMove(event) {
                if (isIdle) return;
                context.lineTo(event.pageX - canvas.offsetLeft, event.pageY - canvas.offsetTop);
                context.stroke();
            }
            function drawEnd(event) {
                if (isIdle) return;
                drawMove(event);
                isIdle = true;
            }
            function touchStart(event) { drawStart(event.touches[0]) }
            function touchMove(event) { drawMove(event.touches[0]); event.preventDefault(); }
            function touchEnd(event) { drawEnd(event.changedTouches[0]) }

            canvas.addEventListener('touchstart', touchStart, false);
            canvas.addEventListener('touchmove', touchMove, false);
            canvas.addEventListener('touchend', touchEnd, false);

            canvas.addEventListener('mousedown', drawStart, false);
            canvas.addEventListener('mousemove', drawMove, false);
            canvas.addEventListener('mouseup', drawEnd, false);

        }, false); // end window.onLoad
    </script>
</head>

<body encoding='utf8'>
    <canvas id='canvas' />
</body>

</html>