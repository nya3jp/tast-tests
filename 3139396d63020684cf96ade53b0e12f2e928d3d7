{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a2615511_6b4981a0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2021-09-30T18:39:46Z",
      "side": 1,
      "message": "Thank you so much Jae and Seewai for your time and thoughts on this! Much appreciated!",
      "revId": "3139396d63020684cf96ade53b0e12f2e928d3d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "036bafee_413f9a6a",
        "filename": "src/chromiumos/tast/services/cros/lacros/update_test_service.proto",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2021-09-30T17:50:13Z",
      "side": 1,
      "message": "nit: It seems that this request is very complicated to use for people who don\u0027t understand lacros to begin with.\n\nVerifyUpdateRequest seems like it\u0027s consisted of:\n 1. SetBrowsers\n 2. GetActiveBrowser\n   3. GetVersion \u003d\u003d expected version\n   4. (only for LACROS_STATEFUL) GetComponent \u003d\u003d ExpectedComponent\n\nW/ the current request setup, the actual tests will be less complex, but more to maintain in these services.\n\nIMO the logic of this \"Verify\"ing should be in the tests no?",
      "range": {
        "startLine": 39,
        "startChar": 3,
        "endLine": 39,
        "endChar": 22
      },
      "revId": "3139396d63020684cf96ade53b0e12f2e928d3d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd816178_13b2fb0f",
        "filename": "src/chromiumos/tast/services/cros/lacros/update_test_service.proto",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2021-09-30T18:12:05Z",
      "side": 1,
      "message": "Jae Thanks for your thought!\nI would say it is my intention because of two things:\n\n1. simplify actual tests to focus on orchestration. this will be better to deal with more complicated cases in the future (eg, provision dev -\u003e verify -\u003e provision beta -\u003e verify -\u003e clear for simulating channel switching)\n\n2. make the test service as stateless and order-independent as possible, which is otherwise hard to use and maintain. The test service implementation won\u0027t be likely changing often for each test scenario. See a follow-up CL: https://crrev.com/c/3195185.",
      "parentUuid": "036bafee_413f9a6a",
      "range": {
        "startLine": 39,
        "startChar": 3,
        "endLine": 39,
        "endChar": 22
      },
      "revId": "3139396d63020684cf96ade53b0e12f2e928d3d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "afadcbfb_6701af3d",
        "filename": "src/chromiumos/tast/services/cros/lacros/update_test_service.proto",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2021-09-30T18:31:21Z",
      "side": 1,
      "message": "In that case you can even bundle the provisioning in the VerifyUpdate as well. :)",
      "parentUuid": "bd816178_13b2fb0f",
      "range": {
        "startLine": 39,
        "startChar": 3,
        "endLine": 39,
        "endChar": 22
      },
      "revId": "3139396d63020684cf96ade53b0e12f2e928d3d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c1502f36_1a0a93a1",
        "filename": "src/chromiumos/tast/services/cros/lacros/update_test_service.proto",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2021-09-30T18:39:46Z",
      "side": 1,
      "message": "Yea, actually I gave it a thought. \nIt could probably be a good idea post MVP if everything could be done on a DUT and TLS is reliably accessible from a DUT. Currently the remote test is at the center orchestrating provision with TLS, and verification on a DUT though.",
      "parentUuid": "afadcbfb_6701af3d",
      "range": {
        "startLine": 39,
        "startChar": 3,
        "endLine": 39,
        "endChar": 22
      },
      "revId": "3139396d63020684cf96ade53b0e12f2e928d3d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "614de074_47ac2823",
        "filename": "src/chromiumos/tast/services/cros/lacros/update_test_service.proto",
        "patchSetId": 6
      },
      "lineNbr": 84,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2021-09-30T17:50:13Z",
      "side": 1,
      "message": "nit: Use protobuf.Empty?\nNo request + response",
      "range": {
        "startLine": 84,
        "startChar": 6,
        "endLine": 84,
        "endChar": 68
      },
      "revId": "3139396d63020684cf96ade53b0e12f2e928d3d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9bbec532_6415e7df",
        "filename": "src/chromiumos/tast/services/cros/lacros/update_test_service.proto",
        "patchSetId": 6
      },
      "lineNbr": 84,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2021-09-30T18:12:05Z",
      "side": 1,
      "message": "I was wondering that too, but ended up with empty message instead of protobuf.Empty in case the request is needed for conditional cleanup (binary or user data) or removing certain components.\n\nThis could be a overthought, but generally when we want to add a request to this API, it would be a build breaking change (if we don\u0027t update clients using it atomically), not a client breaking change. just referred to https://yaqs.corp.google.com/eng/q/4638494726291456",
      "parentUuid": "614de074_47ac2823",
      "range": {
        "startLine": 84,
        "startChar": 6,
        "endLine": 84,
        "endChar": 68
      },
      "revId": "3139396d63020684cf96ade53b0e12f2e928d3d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6600f172_3bf3a4d0",
        "filename": "src/chromiumos/tast/services/cros/lacros/update_test_service.proto",
        "patchSetId": 6
      },
      "lineNbr": 84,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2021-09-30T18:31:21Z",
      "side": 1,
      "message": "\"Empty should be used if the API method is designed to be returning Empty for the life time of this API method. It gives a clear signal to caller that the interface will stay with it without any possibility of change. On the other hand, if you are not sure while designing the API, define the MethodResponse.\"\n\nGreat to know, but I think for tast IIUC everything will be in sync(?) - since these aren\u0027t public facing + exposed to the world but between DUT + runner.",
      "parentUuid": "9bbec532_6415e7df",
      "range": {
        "startLine": 84,
        "startChar": 6,
        "endLine": 84,
        "endChar": 68
      },
      "revId": "3139396d63020684cf96ade53b0e12f2e928d3d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}