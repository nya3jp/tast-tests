{
  "comments": [
    {
      "key": {
        "uuid": "6b00c9b9_c6da24c5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1404997
      },
      "writtenOn": "2020-09-24T06:05:15Z",
      "side": 1,
      "message": "I would need to shuffle some code around for  dual qual, but nothing that is majorly would get in the way, so LGTM",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "64ed3c79_8019eaae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2020-09-25T04:47:40Z",
      "side": 1,
      "message": "Let me defer +2 to hidehiko@.",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c61949e4_1ce20612",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-09-25T08:02:52Z",
      "side": 1,
      "message": "Oops, sorry I overlooked...",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47d86f49_4c26f621",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-09-25T08:02:52Z",
      "side": 1,
      "message": "nit:\n\nI overlooked in the last iteration, but just \"Val: setupBenchmarks,\" should work? If so, could you for simplicity?\nDitto for other params.",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa8fc095_70bc2c07",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1390217
      },
      "writtenOn": "2020-09-28T02:17:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "47d86f49_4c26f621",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6490eb7d_5b19068e",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 300,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-09-25T08:02:52Z",
      "side": 1,
      "message": "Oh, so this is \"stress test for storage during suspend\" rather than stress test of suspending storage.\n\nHow about runStressOnSuspend or runStressTestOnSuspend() or ... something?",
      "range": {
        "startLine": 300,
        "startChar": 5,
        "endLine": 300,
        "endChar": 25
      },
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9400dc83_ef1392a1",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 300,
      "author": {
        "id": 1390217
      },
      "writtenOn": "2020-09-28T02:17:20Z",
      "side": 1,
      "message": "This function runs a continuous disk stress which is periodically (~every minute) interrupted by a power suspend and resumes after wakeup. I updated the description to make it clearer.",
      "parentUuid": "6490eb7d_5b19068e",
      "range": {
        "startLine": 300,
        "startChar": 5,
        "endLine": 300,
        "endChar": 25
      },
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a0914022_a6e5e96c",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 305,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-09-25T08:02:52Z",
      "side": 1,
      "message": "Conflicting with the comment above.\n\"timeout\" in ctx looks not respected.\nCould you exit on timeout?\n\nAlso, in Tast, \"timeout\" is handled as error in general, so what is the expected behavior?\nIs it something exceptional use here?",
      "range": {
        "startLine": 303,
        "startChar": 1,
        "endLine": 305,
        "endChar": 2
      },
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f890ab62_35bc8882",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 305,
      "author": {
        "id": 1390217
      },
      "writtenOn": "2020-09-28T02:17:20Z",
      "side": 1,
      "message": "This function is expected to timeout by the caller, therefore I don\u0027t have any specific timeout handling here.",
      "parentUuid": "a0914022_a6e5e96c",
      "range": {
        "startLine": 303,
        "startChar": 1,
        "endLine": 305,
        "endChar": 2
      },
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2499d562_266f4a31",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 308,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-09-25T08:02:52Z",
      "side": 1,
      "message": "Hmm... should this be a part of \"storage\" category...? It looks like independent?",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58d7450c_6f8e46a8",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 308,
      "author": {
        "id": 1390217
      },
      "writtenOn": "2020-09-28T02:17:20Z",
      "side": 1,
      "message": "This function doesn\u0027t perform any storage stress, rather running in parallel to the storage stress, hence different name.",
      "parentUuid": "2499d562_266f4a31",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36ec721d_48bda852",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 309,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-09-25T08:02:52Z",
      "side": 1,
      "message": "# To double check IIUC.\n\nThis is the background job trying to suspend repeatedly,\nwhile the main tests is the current suspendStorageStress, right?\n\nCould you describe details what is the expectation?\nSpecifically, what should be interpreted as \"pass\" and should be interpreted \"fail\". How \"timeout\" should be handled?\n\nAlso, if this function is just a background job, could you write so rather than making this as if a subtest?\n\nE.g.\n\nrunSuspendStressTest(...) {\n  ch :\u003d make(chan strcut{})\n  go func() {\n    ... suspend periodically with random sleep.\n    ... respect channel to terminate the job, too.\n  }()\n  defer close(ch)\n\n  ... mostly the content of the current suspendStorageStress().\n  ... timeout should be respected.\n  ... error should be handled properly, too.\n}",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73d7b3a8_bcd3877c",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 309,
      "author": {
        "id": 1390217
      },
      "writtenOn": "2020-09-28T02:17:20Z",
      "side": 1,
      "message": "The test consist of two parallel subtests: stress and power suspend. The goal for this test is to run for a long period of time without errors, no results are produced by the test itself.\n\nStorage subtest is not a background, it is part of the test, the same is with suspend subtest.\n\nThe reason why I\u0027m using runParallelSubTests and treating all subtests as equal parts of the test is that I\u0027m planning to add more types of parallel tests in addition to the current \"retention\" and \"suspend\", all of them will have multiple parallel subtests. Additionally, there will be more than 2 parallel subtests, for example: the subtest for SWAP partition will be added to the current tests.",
      "parentUuid": "36ec721d_48bda852",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d2727be_9511b2d8",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 309,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-09-29T16:00:14Z",
      "side": 1,
      "message": "Hmm... it is still unclear for me.\n\nMy understanding is;\n- You\u0027re testing a task runFioStress, under the condition that stress.Suspend() is periodically called.\n\nAm I correct?\nIf not, could you describe what is the testing main scenario in this function (not in suspendStorageStress), since I cannot find any code that exercises the storage in suspendPowerSuspend()?\n\nIf so, suspendPowerStress look not a subtest, but a part of setting up testing environment for \"suspendTestBlock\" subtest. So, could you update the code to follow the go\u0027s common approach?",
      "parentUuid": "73d7b3a8_bcd3877c",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5eaeb7a9_f92c9859",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 371,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-09-25T08:02:52Z",
      "side": 1,
      "message": "nit/style\n\nif err :\u003d ioutil.WriteFile(...); err !\u003d nil {\n  ...",
      "range": {
        "startLine": 370,
        "startChar": 1,
        "endLine": 371,
        "endChar": 16
      },
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eeae952a_bee69640",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/full_qualification_stress.go",
        "patchSetId": 6
      },
      "lineNbr": 371,
      "author": {
        "id": 1390217
      },
      "writtenOn": "2020-09-28T02:17:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5eaeb7a9_f92c9859",
      "range": {
        "startLine": 370,
        "startChar": 1,
        "endLine": 371,
        "endChar": 16
      },
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f625f93d_454f1d63",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/stress/disk_info.go",
        "patchSetId": 6
      },
      "lineNbr": 105,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2020-09-25T08:02:52Z",
      "side": 1,
      "message": "Looks wrong rounding?\n\nreturn int(math.Round(float64(device.Size)/1e9)), nil\n\nIIUC.",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aad0b81b_102af3a0",
        "filename": "src/chromiumos/tast/local/bundles/cros/storage/stress/disk_info.go",
        "patchSetId": 6
      },
      "lineNbr": 105,
      "author": {
        "id": 1390217
      },
      "writtenOn": "2020-09-28T02:17:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f625f93d_454f1d63",
      "revId": "4fad8bbf5094f34461728dfcaa91c2619de8ef14",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}