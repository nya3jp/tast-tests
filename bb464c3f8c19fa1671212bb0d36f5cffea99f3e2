{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a35d5a8d_3d47ad23",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 25
      },
      "lineNbr": 0,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-02T12:25:39Z",
      "side": 1,
      "message": "+Ben also for OWNERs, know you are NYC for other matters. PTAL if you have time. ",
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4d417fb8_a97953ad",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-02T13:39:59Z",
      "side": 1,
      "message": "although this is internal utility, what\u0027s returned is not trivial. Could you document? Ditto for all the below.",
      "range": {
        "startLine": 34,
        "startChar": 70,
        "endLine": 34,
        "endChar": 76
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ed074de_4e0340bb",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-02T13:39:59Z",
      "side": 1,
      "message": "this is package scope, so looks too generic for \"platform\".\nCOuld you introduce a subpackage? Or, give concrete naming?",
      "range": {
        "startLine": 34,
        "startChar": 5,
        "endLine": 34,
        "endChar": 11
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bbce4c55_60c0fd3d",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-02T13:39:59Z",
      "side": 1,
      "message": "instead of testing State, could you return error and handle in caller?\nDitto for below.",
      "range": {
        "startLine": 34,
        "startChar": 32,
        "endLine": 34,
        "endChar": 49
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fbbdc731_778c0d31",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-02T15:53:59Z",
      "side": 1,
      "message": "The return is the stdout of a POSIX using system call viz., a string. Unless I am missing something, an output string is trivial, no?",
      "parentUuid": "4d417fb8_a97953ad",
      "range": {
        "startLine": 34,
        "startChar": 70,
        "endLine": 34,
        "endChar": 76
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "069bc443_64e220f3",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-02T15:53:59Z",
      "side": 1,
      "message": "All these POSIX-like functions fail if ever `err !\u003d nil`. Test should immediately fail and exit.  Better done in function imho, looking at the call site.",
      "parentUuid": "bbce4c55_60c0fd3d",
      "range": {
        "startLine": 34,
        "startChar": 32,
        "endLine": 34,
        "endChar": 49
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3c11649_521e421a",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-02T15:53:59Z",
      "side": 1,
      "message": "My apologies: this is the 3rd go program I have ever written in my life :) \"package scope\" and \"subpackage\" are meaningless to me as a new-to-go programmer.\n\nDidn\u0027t quite follow the \"concrete naming\" advice either.  I read `create(file)` creates a file.",
      "parentUuid": "6ed074de_4e0340bb",
      "range": {
        "startLine": 34,
        "startChar": 5,
        "endLine": 34,
        "endChar": 11
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3ecdd60_d478582f",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-03T09:01:54Z",
      "side": 1,
      "message": "you changed the code :-). The output is not stdout.\nRather than implementation details great to document \"what\" should be conceptually returned is important often. Could you document?",
      "parentUuid": "fbbdc731_778c0d31",
      "range": {
        "startLine": 34,
        "startChar": 70,
        "endLine": 34,
        "endChar": 76
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cfc65516_fc72fdb9",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-03T09:01:54Z",
      "side": 1,
      "message": "You can fail the test in caller.\nIt is also recommended in go/tast-writing not to take testing.State* in sub function in general (while it is mentioned in a different scope, though).\n\nIn general, it introduces unneeded dependencies, and makes it hard to maintain. Also for consistency, could you follow the guideline?",
      "parentUuid": "069bc443_64e220f3",
      "range": {
        "startLine": 34,
        "startChar": 32,
        "endLine": 34,
        "endChar": 49
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82ff42df_62964a1d",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-03T09:01:54Z",
      "side": 1,
      "message": "no worries. Everyone is new at the first time!\n\nhttps://go.dev/ref/spec#Packages\n\nso go puts files under a directory into the same group, named package.\nSo, this is a \"chromiumos/tast/local/bundles/cros/platform\" package.\nScope is actually the scope of the variables/functions/methods etc. I meant, like as you can fine in many of other languages.\n\nI meant, \"create\" here is referred as chromiumos/tast/local/bundles/cros/platform.create. And this is visible from other files in the same directory. The name will be conflicting if other test is using the same name.\n\nCould you introduce some specific (probably new) package under the current one, and move utilities to there (i.e. create a new directory here, and move utilities under the directory)?\nBecause platform contains a lot of more variation of tests, naming create, read etc. looks too generic while these are designed to be focused on the use of this file only.\n\nNote that, go does not support file-scoped variables. (like file-scope static variables in C, or anonymous namespace in C++ etc.). We need to deal with them.\n\n\u003e  I read  create(file)  creates a file.\n\nWithout context like this case, i do not think it\u0027s trivial.\nWhy you think it is \"POSIX compatible\" create? Rather than create some mocks, create  a service, etc.? The name is just \"create\" and we don\u0027t have any other hints to udnerstand, unless we go deeper. My suggestion is to make it clearer by renaming or making another package focusing on your context.",
      "parentUuid": "a3c11649_521e421a",
      "range": {
        "startLine": 34,
        "startChar": 5,
        "endLine": 34,
        "endChar": 11
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1b1346f_e7730fd2",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-08T13:29:10Z",
      "side": 1,
      "message": "Removed the testing.State* from the sub function, by removing this sub function.",
      "parentUuid": "cfc65516_fc72fdb9",
      "range": {
        "startLine": 34,
        "startChar": 32,
        "endLine": 34,
        "endChar": 49
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e0dab1d3_ca30037b",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-08T13:29:10Z",
      "side": 1,
      "message": "Yes, was learning go here.  Thanks for the package tips, might be a bit more than needed for this particular test.\n\nI removed all sub helper functions and simplified the code (was from 200 lines, now 88 lines, which seems like a win in every way).",
      "parentUuid": "82ff42df_62964a1d",
      "range": {
        "startLine": 34,
        "startChar": 5,
        "endLine": 34,
        "endChar": 11
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e9cd2946_b0e53c6c",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 34,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-08T13:32:23Z",
      "side": 1,
      "message": "\u003e you changed the code :-). \n\nYeah and my apols, I changed all the code again :) by incorporating everyone\u0027s feedback and advice.  Hope I got everything, and PTAL again.",
      "parentUuid": "b3ecdd60_d478582f",
      "range": {
        "startLine": 34,
        "startChar": 70,
        "endLine": 34,
        "endChar": 76
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8b9ba403_b202ed85",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 75,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-02T13:39:59Z",
      "side": 1,
      "message": "where does this 6 comes from? Any comments?",
      "range": {
        "startLine": 75,
        "startChar": 21,
        "endLine": 75,
        "endChar": 22
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b271611_97815889",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 75,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-02T15:53:59Z",
      "side": 1,
      "message": "No meaning in 6. Files shorter than that will s.Fatal and fail this tast test.",
      "parentUuid": "8b9ba403_b202ed85",
      "range": {
        "startLine": 75,
        "startChar": 21,
        "endLine": 75,
        "endChar": 22
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28d8eb55_a6a637e0",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 75,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-03T09:01:54Z",
      "side": 1,
      "message": "Sorry, I\u0027m confused. File can be empty in theory. Why less than 6 is the condition to be fail here, for seeking?\nAlso, hard coding \"6\" to a \"seek\" function sounds weird to me. I believe you\u0027d agree that if lseek system call seeks at 6 byte position, it\u0027s very surprising, right?",
      "parentUuid": "1b271611_97815889",
      "range": {
        "startLine": 75,
        "startChar": 21,
        "endLine": 75,
        "endChar": 22
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a89e09cf_95bbeced",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 75,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-08T13:29:10Z",
      "side": 1,
      "message": "The file system hello file contains \"hello world\", offset 6 read 5 \u003d\u003e \"world\" and a bit magic, yes.  I removed the seek reader :)",
      "parentUuid": "28d8eb55_a6a637e0",
      "range": {
        "startLine": 75,
        "startChar": 21,
        "endLine": 75,
        "endChar": 22
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "556b2437_1fb897f8",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 79,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-02T13:39:59Z",
      "side": 1,
      "message": "ditto. Looks magic number?",
      "range": {
        "startLine": 79,
        "startChar": 22,
        "endLine": 79,
        "endChar": 23
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0fe1405b_9ff377e4",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 79,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-02T15:53:59Z",
      "side": 1,
      "message": "go code magic: a buffer of 5 bytes.  It seems to somehow tell f.Read(data) to try read 5 bytes, but again, I am a go novice.  \n\nTest immediately fails with s.Fatalf() if I got this wrong.",
      "parentUuid": "556b2437_1fb897f8",
      "range": {
        "startLine": 79,
        "startChar": 22,
        "endLine": 79,
        "endChar": 23
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e29e8099_7f0a512f",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 79,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-03T09:01:54Z",
      "side": 1,
      "message": "Sorry for miscommunication. I\u0027m asking likely a background why 5 is hard coded here?\nI know this code makes 5-bytes buffer, and tries to read byte bytes. My question is, why it is \"5 bytes\"?\n\nAlso, why you read 5 bytes here? As you did seeking at 6, so it reads the file [6:11] data. Though it\u0027s confusing to me why it is a part of \"seeking\" operation?",
      "parentUuid": "0fe1405b_9ff377e4",
      "range": {
        "startLine": 79,
        "startChar": 22,
        "endLine": 79,
        "endChar": 23
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd5715bd_56347ac0",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 79,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-08T13:29:10Z",
      "side": 1,
      "message": "The file system hello file contains \"hello world\", offset 6 read 5 \u003d\u003e \"world\" and a bit magic yes.  I removed the seek reader.",
      "parentUuid": "e29e8099_7f0a512f",
      "range": {
        "startLine": 79,
        "startChar": 22,
        "endLine": 79,
        "endChar": 23
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ffdb033_5f9b229a",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 97,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-02T13:39:59Z",
      "side": 1,
      "message": "could you not using command execution? Instead, could you use go\u0027s library function?\nDitto for all the below.",
      "range": {
        "startLine": 93,
        "startChar": 1,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "21a4a370_f3f81992",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 97,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-02T15:53:59Z",
      "side": 1,
      "message": "Either is fine.  Nigel (who is a go expert) and I discussed this off-line: use go\u0027s library or use testexec.CommandContext?\n\nnoel: does go\u0027s library support `rm -rf`?  Nigel: Nope, IIRC it does not.\n\nSo ok, we decide either way is fine: go\u0027s lib, or else use testexec.CommandContext for underlying POSIX system call implementation variety.",
      "parentUuid": "5ffdb033_5f9b229a",
      "range": {
        "startLine": 93,
        "startChar": 1,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "229db737_983108b2",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 97,
      "author": {
        "id": 1237531
      },
      "writtenOn": "2022-06-03T05:22:33Z",
      "side": 1,
      "message": "If you\u0027re essentially running a bunch of basic POSIX commands (ls, mkdir, etc), you could just exec those commands instead of having a custom \"func cp\", \"func mkdir\", etc in Go).\n\nSomething like\nhttps://go.dev/play/p/T1bkCddNh-9",
      "parentUuid": "21a4a370_f3f81992",
      "range": {
        "startLine": 93,
        "startChar": 1,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a709585_2e86931a",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 97,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-03T06:02:35Z",
      "side": 1,
      "message": "Like that: a command runner().\n\nLet\u0027s address a TDO: implement FUSE op Rename (so we can do a /bin/mv) in the fake file system.\n\nSent https://chromium-review.googlesource.com/c/chromiumos/platform2/+/3686972 for that PTAL.",
      "parentUuid": "229db737_983108b2",
      "range": {
        "startLine": 93,
        "startChar": 1,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c73569ab_4cd471a5",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 97,
      "author": {
        "id": 1237531
      },
      "writtenOn": "2022-06-03T07:01:29Z",
      "side": 1,
      "message": "Or, if you don\u0027t like putting a \"type runner\" at the top level (in the package scope), you can use an anonymous closure:\n\nhttps://go.dev/play/p/HnvosBBTKiX",
      "parentUuid": "1a709585_2e86931a",
      "range": {
        "startLine": 93,
        "startChar": 1,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b17d80e_98b71e1b",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 97,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-03T09:01:54Z",
      "side": 1,
      "message": "Lessons we learnt from autotest is, using external command line makes it hard to maintain, and we\u0027re really giving it a try to minimize the external dependencies for maintenance perspective.\nCould you minimize the use of external commands?\n\nas fro rm-rf: https://pkg.go.dev/os#RemoveAll",
      "parentUuid": "c73569ab_4cd471a5",
      "range": {
        "startLine": 93,
        "startChar": 1,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "36f07601_a54a8c52",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 97,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-08T13:29:10Z",
      "side": 1,
      "message": "The ideas in https://go.dev/play/p/HnvosBBTKiX were interesting and new to me: use a go closure.  Exploring that idea lead to even more code simplification:\n\n  case \"$mvENOTSUP\":\n    removed: implemented Rename in the fake file system to rid us of ENOTSUP\n    \n  case \"$write\":\n    if we use go\u0027s os package, we\u0027d need one case statement for each RemoveAll\n    etc op needed from the os package provides, versus, no need for such case\n    statements if we can find a simpler way to a write (I found one).\n\n  split function\n    found a helper in the go strings package for this: strings.Fields, and it\n    works well for this case: wrote a test https://go.dev/play/p/mANh9j5CUTR\n    \nWe these, the runner closure became very simple, and while autotest might be hard to maintain (due to a different problem being solved, perhaps), here the commands are contained together in 10 adjacent lines of code.\n\nI don\u0027t foresee a maintenance issue in this part of the code. The entire code is now 88 lines, and less code is better for maintenance, too. The closure idea provided a nice balance b/w the various concerns, I think.\n\nI also added a test debug Var you asked for.  It would be awesome if I could access the tast `-verbose` command line Var from the TestState, but found no way to do that.",
      "parentUuid": "3b17d80e_98b71e1b",
      "range": {
        "startLine": 93,
        "startChar": 1,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc0058c8_43574b6f",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 97,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-09T14:35:18Z",
      "side": 1,
      "message": "Hmm... I have not yet fully agreed here.\n\ncommand execution does more than calling syscalls.\nSo, question.\n\nDo you want to exercise the \"command line execution behavior\"?\nOr, the behavior on syscalls on the file system?\n\nIf the former, yes we need commandline execution, because that is what we would like to check.\nIf the latter, no, still better not to use commandline execution, even if it looks \"shorter\".\n\nIn terms of maintainability, my recommendation is \"not to have unneeded layers\". Even if the code looks shorter, that is the complexity concerned.\nIn general, integration tests are affected by so many things, and, in many cases, we have seen a lot of \"mysterious\" situations, which we often do not imagine on writing the code at the beginning.\nMinimizing the layers is one of the best practices I learnt, and would like to encourage to you to avoid future accidents/flakiness, and to help investigation then.\nAlso, you\u0027ll be the primary to investigate the issue if happens, but many others, such as sheriffs, gardeners, infra team etc. may need to go deeper in various situations. I\u0027m still thinking it\u0027ll be better to minimize the complexity for them, too. Thoughts?",
      "parentUuid": "36f07601_a54a8c52",
      "range": {
        "startLine": 93,
        "startChar": 1,
        "endLine": 97,
        "endChar": 0
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73078415_332808e2",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 140,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-02T13:39:59Z",
      "side": 1,
      "message": "failing mv does not mean ENOTSUP?",
      "range": {
        "startLine": 140,
        "startChar": 29,
        "endLine": 140,
        "endChar": 36
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b06cfea3_c7f6e447",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 140,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-02T15:53:59Z",
      "side": 1,
      "message": "This case it noted in the change description, and in go/fusebox-tast-tests PTAL\n\nENOTSUP is a POSIX \"operation is not supported\" and the fake file system does not support this operation, per the change description.",
      "parentUuid": "73078415_332808e2",
      "range": {
        "startLine": 140,
        "startChar": 29,
        "endLine": 140,
        "endChar": 36
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c3449be_bc618dd7",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 140,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-03T09:01:54Z",
      "side": 1,
      "message": "Another sorry for miscommunication.\nWe cannot make sure failing mv command means caused by ENOTSUP. (This is another reason I recommend not to depend on command execution).\nYou can make sure errno by os.* function, I think.",
      "parentUuid": "b06cfea3_c7f6e447",
      "range": {
        "startLine": 140,
        "startChar": 29,
        "endLine": 140,
        "endChar": 36
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d2dbed9c_7a6a8f6e",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 140,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-08T13:29:10Z",
      "side": 1,
      "message": "Rename was not supported by the fake file system at the time.  I sent a separate CL to add Rename support.",
      "parentUuid": "1c3449be_bc618dd7",
      "range": {
        "startLine": 140,
        "startChar": 29,
        "endLine": 140,
        "endChar": 36
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8ff03b0_bcc3cc05",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 190,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-02T13:39:59Z",
      "side": 1,
      "message": "style: \"else\" is not needed\n\n if err !\u003d nil {\n   ...\n }\n if m.SourcePath !\u003d source {\n   ...\n }\n ...",
      "range": {
        "startLine": 181,
        "startChar": 1,
        "endLine": 190,
        "endChar": 2
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e829cb8b_fa96c906",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 190,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-02T15:53:59Z",
      "side": 1,
      "message": "style?  For the record, I have have had three views in go code reviews re: else or else if needed or not, so far ðŸ˜Š.  Confusing.\n\nA go code presubmit would resolve it once and for all, save us all time etc, but there is no such presubmit at this time, sadly.\n\nGo presubmits did not complain, and so I assumed the presubmits were happy and ok with it.  I wrote this block of code the same way, in 3 patches, so I\u0027m kinda adverse to writing it differently in this CL.\n\nWhat would you recommend here?",
      "parentUuid": "e8ff03b0_bcc3cc05",
      "range": {
        "startLine": 181,
        "startChar": 1,
        "endLine": 190,
        "endChar": 2
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e42e9ca2_57706f33",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 190,
      "author": {
        "id": 1237531
      },
      "writtenOn": "2022-06-03T05:22:33Z",
      "side": 1,
      "message": "As somebody who has done over 1000 Go readability reviews and was on the Go team for some years, the \"else\" here is fine.",
      "parentUuid": "e829cb8b_fa96c906",
      "range": {
        "startLine": 181,
        "startChar": 1,
        "endLine": 190,
        "endChar": 2
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "274d7ffc_471089ff",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 190,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-03T09:01:54Z",
      "side": 1,
      "message": "pls find a guideline at: Indent error flow section of go/go-style/decisions.\nNote that s.Fatal() effectively returns from the function.",
      "parentUuid": "e42e9ca2_57706f33",
      "range": {
        "startLine": 181,
        "startChar": 1,
        "endLine": 190,
        "endChar": 2
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "79f356bf_213a2570",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 190,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-08T13:29:10Z",
      "side": 1,
      "message": "I think automatic style based on presumbit best solves cases like this and saves our collective time. I leave this one for you two decide.",
      "parentUuid": "274d7ffc_471089ff",
      "range": {
        "startLine": 181,
        "startChar": 1,
        "endLine": 190,
        "endChar": 2
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e6a0cefe_816c5268",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 190,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-08T13:41:21Z",
      "side": 1,
      "message": "Err, I then I also re-wrote this block of code too :)",
      "parentUuid": "79f356bf_213a2570",
      "range": {
        "startLine": 181,
        "startChar": 1,
        "endLine": 190,
        "endChar": 2
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c485578d_1a0d9501",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 216,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-02T13:39:59Z",
      "side": 1,
      "message": "Could you make this variable so that future developers do not need to modify the code to trigger this.",
      "range": {
        "startLine": 216,
        "startChar": 4,
        "endLine": 216,
        "endChar": 9
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d77108f1_82039e60",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 216,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-02T15:53:59Z",
      "side": 1,
      "message": "This tast test is neither curious nor dependent on the output: the test either works (PASS) or it does not (FAIL).  No real need for a variable, imho.\n\nThis false was more for test debug.  At one point during development, I thought this test would use a golden file to compare test output expectations.  I later dropped that idea (not needed), but the leftover is this `if false` for debugging this test if it goes wrong.",
      "parentUuid": "c485578d_1a0d9501",
      "range": {
        "startLine": 216,
        "startChar": 4,
        "endLine": 216,
        "endChar": 9
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ac6c3e3_8af49f40",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 216,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-06-03T09:01:54Z",
      "side": 1,
      "message": "I understood the intention, but my recommendation is different point.\n\ncould you use \nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#Runtime-variables\nto control the behavior, instead of hard coding \"false\" and let developers edit for debuggin? Helpful to investigate release cases.",
      "parentUuid": "d77108f1_82039e60",
      "range": {
        "startLine": 216,
        "startChar": 4,
        "endLine": 216,
        "endChar": 9
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a97ed44_529f7a32",
        "filename": "src/chromiumos/tast/local/bundles/cros/platform/fusebox_fuse_frontend.go",
        "patchSetId": 25
      },
      "lineNbr": 216,
      "author": {
        "id": 1109754
      },
      "writtenOn": "2022-06-07T00:03:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ac6c3e3_8af49f40",
      "range": {
        "startLine": 216,
        "startChar": 4,
        "endLine": 216,
        "endChar": 9
      },
      "revId": "bb464c3f8c19fa1671212bb0d36f5cffea99f3e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}