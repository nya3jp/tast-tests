{
  "comments": [
    {
      "key": {
        "uuid": "a4e3572c_7154fab7",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/overview_drag_window_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2019-12-13T01:45:22Z",
      "side": 1,
      "message": "Maybe we should expand and consolidate GetPanelRotation in display.go instead of obtaining differently.",
      "range": {
        "startLine": 115,
        "startChar": 5,
        "endLine": 115,
        "endChar": 16
      },
      "revId": "7f4b2112fc4617ae31798dc33b7b127deb932971",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e49df82_22835a55",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/overview_drag_window_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2019-12-13T15:55:55Z",
      "side": 1,
      "message": "Panel rotation does not work. Per W3C spec, angle 0 should be used for both landscape-primary and portrait-primary (on devices other than Krane). But the two should be handled differently. So we need the orientation here.\n\nOut of scope of this CL, it seems that Krane breaks the spec as its landscape-primary has angle 90. It seems that we included physical panel orientation there. Not sure whether it is a bug or not. We might need a different way to implement display.GetPanelRotation.",
      "parentUuid": "a4e3572c_7154fab7",
      "range": {
        "startLine": 115,
        "startChar": 5,
        "endLine": 115,
        "endChar": 16
      },
      "revId": "7f4b2112fc4617ae31798dc33b7b127deb932971",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f55cfd4e_6c5c3611",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/overview_drag_window_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2019-12-13T16:58:45Z",
      "side": 1,
      "message": "I meant to change GetPanelRotation (or a renamed one) to return a struct instead of an int, which holds both rotation and natural orientation.\ntype Orientation {\n  Angle int\n  Type OrientationType\n}\n\nfunc GetPanelRotation(...) (*Orientation, error)\n\n\nRegarding the Krane orientation -- I am not sure if this is breaking the spec or not. At least oshima recommended me to use this property to detect the physical panel rotation, so this would be the intended behavior.",
      "parentUuid": "1e49df82_22835a55",
      "range": {
        "startLine": 115,
        "startChar": 5,
        "endLine": 115,
        "endChar": 16
      },
      "revId": "7f4b2112fc4617ae31798dc33b7b127deb932971",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c457bdd5_d6ac6615",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/overview_drag_window_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2019-12-13T17:26:40Z",
      "side": 1,
      "message": "Oops, misread the comment. \n\nThis makes sense. Let me prepare a pre-CL to do that.",
      "parentUuid": "f55cfd4e_6c5c3611",
      "range": {
        "startLine": 115,
        "startChar": 5,
        "endLine": 115,
        "endChar": 16
      },
      "revId": "7f4b2112fc4617ae31798dc33b7b127deb932971",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef9caed2_2ca5cc8f",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/overview_drag_window_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2019-12-13T01:45:22Z",
      "side": 1,
      "message": "I believe tconn.Eval() is just fine since it can be obtained synchronously (please check the implementation of GetPanelRotation in chrome/display/display.go)",
      "range": {
        "startLine": 116,
        "startChar": 17,
        "endLine": 119,
        "endChar": 5
      },
      "revId": "7f4b2112fc4617ae31798dc33b7b127deb932971",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db62777b_d0c0d3c3",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/overview_drag_window_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2019-12-13T15:55:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ef9caed2_2ca5cc8f",
      "range": {
        "startLine": 116,
        "startChar": 17,
        "endLine": 119,
        "endChar": 5
      },
      "revId": "7f4b2112fc4617ae31798dc33b7b127deb932971",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10d76145_91e7aa1a",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/overview_drag_window_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2019-12-13T01:45:22Z",
      "side": 1,
      "message": "I\u0027m a bit worried if this works with Krane devices. Did you try this on Krane?",
      "range": {
        "startLine": 123,
        "startChar": 1,
        "endLine": 132,
        "endChar": 2
      },
      "revId": "7f4b2112fc4617ae31798dc33b7b127deb932971",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e32b97f_200cdd71",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/overview_drag_window_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2019-12-13T15:55:55Z",
      "side": 1,
      "message": "Yes, this works on Krane because display.GetPanelRotation returns angle 90 for landscape-primary. Swiping to left is properly mapped to swiping to top.",
      "parentUuid": "10d76145_91e7aa1a",
      "range": {
        "startLine": 123,
        "startChar": 1,
        "endLine": 132,
        "endChar": 2
      },
      "revId": "7f4b2112fc4617ae31798dc33b7b127deb932971",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}