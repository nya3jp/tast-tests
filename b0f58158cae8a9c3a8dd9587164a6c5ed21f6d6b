{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "61bec3a4_b4dfe2f0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2022-11-10T22:51:02Z",
      "side": 1,
      "message": "LGTM from tast owner perspective.",
      "revId": "b0f58158cae8a9c3a8dd9587164a6c5ed21f6d6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "06ed0090_b3efdfd7",
        "filename": "src/chromiumos/tast/local/bundles/cros/cryptohome/auth_session_unlock.go",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1344767
      },
      "writtenOn": "2022-11-11T00:01:55Z",
      "side": 1,
      "message": "nit: with the introduction of the new fail cases I think renaming this as wrongPassword would make it easier to follow.",
      "range": {
        "startLine": 45,
        "startChar": 2,
        "endLine": 45,
        "endChar": 17
      },
      "revId": "b0f58158cae8a9c3a8dd9587164a6c5ed21f6d6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5a404f7_84435afc",
        "filename": "src/chromiumos/tast/local/bundles/cros/cryptohome/auth_session_unlock.go",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1344767
      },
      "writtenOn": "2022-11-10T20:35:13Z",
      "side": 1,
      "message": "I think this is not a supported use case: mounting a second user before unmounting the first one. First user should be unmounted first.",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 101,
        "endChar": 81
      },
      "revId": "b0f58158cae8a9c3a8dd9587164a6c5ed21f6d6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c501943_af7ce51c",
        "filename": "src/chromiumos/tast/local/bundles/cros/cryptohome/auth_session_unlock.go",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1546868
      },
      "writtenOn": "2022-11-10T20:39:36Z",
      "side": 1,
      "message": "That\u0027s reasonable, I assume for the same reasons it doesn\u0027t make sense to allow multiple ephemeral users to exist at once. But if so, should we be enforcing this?",
      "parentUuid": "b5a404f7_84435afc",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 101,
        "endChar": 81
      },
      "revId": "b0f58158cae8a9c3a8dd9587164a6c5ed21f6d6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f2a5a54_bd8c1d01",
        "filename": "src/chromiumos/tast/local/bundles/cros/cryptohome/auth_session_unlock.go",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1344767
      },
      "writtenOn": "2022-11-10T20:44:05Z",
      "side": 1,
      "message": "b:232852030 should enforce this when it is done",
      "parentUuid": "9c501943_af7ce51c",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 101,
        "endChar": 81
      },
      "revId": "b0f58158cae8a9c3a8dd9587164a6c5ed21f6d6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3eadb04a_4dffee7b",
        "filename": "src/chromiumos/tast/local/bundles/cros/cryptohome/auth_session_unlock.go",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1546868
      },
      "writtenOn": "2022-11-10T20:46:53Z",
      "side": 1,
      "message": "I don\u0027t see how that would solve it? Terminating an AuthSession doesn\u0027t unmount. It wouldn\u0027t even fail this code, since this test never has more than one AuthSession active at once.\n\nI think we\u0027d need an explicit check in PreparePresistentVault that prevents you from mounting a vault if there\u0027s already one mounted.",
      "parentUuid": "3f2a5a54_bd8c1d01",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 101,
        "endChar": 81
      },
      "revId": "b0f58158cae8a9c3a8dd9587164a6c5ed21f6d6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79ac52a7_2151f62d",
        "filename": "src/chromiumos/tast/local/bundles/cros/cryptohome/auth_session_unlock.go",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1546868
      },
      "writtenOn": "2022-11-10T21:08:21Z",
      "side": 1,
      "message": "From the discussion in chat with antrim@ it sounds like we still need multi-mount to work, so at least for now this is probably worth keeping? If it\u0027s to be eventually deprecated and removed we can of course remove this as well at that point.",
      "parentUuid": "3eadb04a_4dffee7b",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 101,
        "endChar": 81
      },
      "revId": "b0f58158cae8a9c3a8dd9587164a6c5ed21f6d6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2549d2c_371563d6",
        "filename": "src/chromiumos/tast/local/bundles/cros/cryptohome/auth_session_unlock.go",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1344767
      },
      "writtenOn": "2022-11-11T00:01:55Z",
      "side": 1,
      "message": "Sounds good, lets keep this and remove after the feature is deprecated.",
      "parentUuid": "79ac52a7_2151f62d",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 101,
        "endChar": 81
      },
      "revId": "b0f58158cae8a9c3a8dd9587164a6c5ed21f6d6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6aa08d87_63379535",
        "filename": "src/chromiumos/tast/local/bundles/cros/cryptohome/auth_session_unlock.go",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1344767
      },
      "writtenOn": "2022-11-11T00:01:55Z",
      "side": 1,
      "message": "nit: authentication with the other user\u0027s password should have failed, but succeeded.",
      "range": {
        "startLine": 120,
        "startChar": 22,
        "endLine": 120,
        "endChar": 71
      },
      "revId": "b0f58158cae8a9c3a8dd9587164a6c5ed21f6d6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64d19941_4e057ace",
        "filename": "src/chromiumos/tast/local/bundles/cros/cryptohome/auth_session_unlock.go",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1126309
      },
      "writtenOn": "2022-11-11T00:20:34Z",
      "side": 1,
      "message": "nit: This block of code looks like a mostly copy-paste of the block above. In principle, the only differences can be parameterized as a tuple `(userName, password, wrongPassword, otherUserPassword)`.\n\nShould we extract this code into a helper function with these parameters and just call it twice (or actually three times, assuming that the code below after the password change does the same)? I think it\u0027ll significantly improve the readability.",
      "revId": "b0f58158cae8a9c3a8dd9587164a6c5ed21f6d6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23292c59_91aa2f91",
        "filename": "src/chromiumos/tast/local/bundles/cros/cryptohome/auth_session_unlock_ephemeral.go",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1126309
      },
      "writtenOn": "2022-11-11T00:20:34Z",
      "side": 1,
      "message": "Ditto - please add a comment to explain the magic of this parametrization.",
      "revId": "b0f58158cae8a9c3a8dd9587164a6c5ed21f6d6b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}