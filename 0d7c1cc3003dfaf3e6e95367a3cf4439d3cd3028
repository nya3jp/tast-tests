{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7551dea0_f3992fbf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-08-01T01:10:20Z",
      "side": 1,
      "message": "This gives me:\n2022-08-01T01:09:24.426258Z projector.SharedScreencast [ FAIL ] runtime variable projector.sharedScreencastLink is missing",
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7bb75ade_d839ff42",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1351120
      },
      "writtenOn": "2022-08-01T16:57:55Z",
      "side": 1,
      "message": "Hi Georg, that variable lives here [1]. If the test is not finding it, then you are probably not running a Google-internal branded build?\n\n[1] https://source.corp.google.com/chromeos_internal/src/platform/tast-tests-private/vars/projector.yaml;l\u003d1?q\u003df:projector.yaml",
      "parentUuid": "7551dea0_f3992fbf",
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56b740d4_9ffad84e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1351120
      },
      "writtenOn": "2022-08-01T17:04:20Z",
      "side": 1,
      "message": "Could you try setting is_chrome_branded \u003d true in your build args.gn?",
      "parentUuid": "7bb75ade_d839ff42",
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5a61b7f_e34d9d95",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-08-02T01:49:58Z",
      "side": 1,
      "message": "Hi Toby,\n\nwhich args.gn are you talking about? I have this set for my Chromium builds but those have nothing to do with Tast. I\u0027m running Tast inside the cros_sdk.",
      "parentUuid": "56b740d4_9ffad84e",
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9d8e24ab_98dac9a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1351120
      },
      "writtenOn": "2022-07-29T23:04:19Z",
      "side": 1,
      "message": "Thanks for working on this! It\u0027s cool to add test coverage for web app URL link handling in Lacros.",
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "56c26e47_cc26346a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1351120
      },
      "writtenOn": "2022-08-01T16:57:55Z",
      "side": 1,
      "message": "LGTM % others.",
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07367293_b452076a",
        "filename": "src/chromiumos/tast/local/bundles/cros/projector/shared_screencast.go",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1351120
      },
      "writtenOn": "2022-08-01T16:57:55Z",
      "side": 1,
      "message": "Please remove this TODO.",
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "231de043_fd40d94c",
        "filename": "src/chromiumos/tast/local/bundles/cros/projector/shared_screencast.go",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1351120
      },
      "writtenOn": "2022-07-29T23:04:19Z",
      "side": 1,
      "message": "Running the projector.SharedScreencast.lacros test locally failed for me with this error message [1].\n\nWhat\u0027s happening: the purpose of ReloadActiveTab() is to launch the Projector app. When the app launches, the browser window closes (WAI) and the app window opens. Because Projector is a system web app (SWA), the app browser window is always Ash Chrome. ReloadActiveTab() [2] waits for the ready state to equal complete after reloading the app. In the Ash variant, the app sets the ready state to complete after the app loads. However, in the Lacros variant, there\u0027s a mismatch between the browser type (Lacros) and the SWA type (Ash), so the ready state never becomes complete and the test times out.\n\nHow should we fix this?\n\n[1] https://paste.googleplex.com/5722368468058112\n[2] https://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/chrome/browser/browser.go;l\u003d125?q\u003dreloadactivetab",
      "range": {
        "startLine": 77,
        "startChar": 14,
        "endLine": 77,
        "endChar": 29
      },
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfc09fc2_d9fcbf83",
        "filename": "src/chromiumos/tast/local/bundles/cros/projector/shared_screencast.go",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2022-07-30T02:07:57Z",
      "side": 1,
      "message": "Thanks Toby for all the useful info! \nBtw, this change doesn\u0027t fail for me with the latest build in \u0027lacrosprimary\u0027 mode and is working fine for both ash and lacros variants without crash.\n\n+Georg, do you have any thoughts on ReloadActiveTab? (found your name in git blame)",
      "parentUuid": "231de043_fd40d94c",
      "range": {
        "startLine": 77,
        "startChar": 14,
        "endLine": 77,
        "endChar": 29
      },
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3362c0c6_b84f609b",
        "filename": "src/chromiumos/tast/local/bundles/cros/projector/shared_screencast.go",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-08-02T03:22:27Z",
      "side": 1,
      "message": "I can\u0027t reproduce the issue.\n\nHere\u0027s what I\u0027m observing: br.NewConn opens a second Lacros window. That window shows some error saying the Screencast app is needed to watch something. The subsequent br.ReloadActiveTab has the effect of opening said Screencast app.",
      "parentUuid": "bfc09fc2_d9fcbf83",
      "range": {
        "startLine": 77,
        "startChar": 14,
        "endLine": 77,
        "endChar": 29
      },
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e936e0cd_9905c85c",
        "filename": "src/chromiumos/tast/local/chrome/projector/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-08-01T13:16:29Z",
      "side": 1,
      "message": "I think func(opts []chrome.Option) []chrome.Option is what you need?",
      "range": {
        "startLine": 24,
        "startChar": 31,
        "endLine": 24,
        "endChar": 53
      },
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "218d35fd_24695a4a",
        "filename": "src/chromiumos/tast/local/chrome/projector/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-08-01T13:16:29Z",
      "side": 1,
      "message": "So, this should be passed to fOpts to pass lacros.NewConfig() ?",
      "range": {
        "startLine": 86,
        "startChar": 21,
        "endLine": 86,
        "endChar": 77
      },
      "revId": "0d7c1cc3003dfaf3e6e95367a3cf4439d3cd3028",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}