{
  "comments": [
    {
      "key": {
        "uuid": "a0768fb5_c788ca1d",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-02-28T21:41:29Z",
      "side": 1,
      "message": "can this be a part of dbusutil package?\n\nAlso I like the name starting with a verb; getDbusProperty (or getProperty) sounds better to me personally.",
      "range": {
        "startLine": 17,
        "startChar": 5,
        "endLine": 17,
        "endChar": 20
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58bbe3ca_9b9795a4",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1368712
      },
      "writtenOn": "2020-03-02T07:39:39Z",
      "side": 1,
      "message": "It\u0027s actually in github.com/godbus/dbus/object.go, which I will switch to.\n\nOne thing to note is that BusObject.PropertyGet doesn\u0027t take a context and just uses context.Background(), which might be an issue?",
      "parentUuid": "a0768fb5_c788ca1d",
      "range": {
        "startLine": 17,
        "startChar": 5,
        "endLine": 17,
        "endChar": 20
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3380bbc_1f274656",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 17,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-03-02T19:19:33Z",
      "side": 1,
      "message": "I am not saying you should switch to dbus.Object.GetProperty by the way; I think this would be a common utility so you might want to have it in our own dbusutil package so that you can share the same thing with other packages. And so suggesting to rename since starting a verb would be the common pattern.\n\nI was guessing you created this because dbus.Object does not support the context, and it is great to have that in your way. I just filed https://github.com/godbus/dbus/issues/195 for the reminder.",
      "parentUuid": "58bbe3ca_9b9795a4",
      "range": {
        "startLine": 17,
        "startChar": 5,
        "endLine": 17,
        "endChar": 20
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3c343aa_88265a15",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 29,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-02-28T21:41:29Z",
      "side": 1,
      "message": "same suggestion: might be in dbusutil?  name woulld be setProperty or setDbusProperty?",
      "range": {
        "startLine": 29,
        "startChar": 5,
        "endLine": 29,
        "endChar": 20
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b4c570f_07c18082",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 29,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-02-28T21:41:29Z",
      "side": 1,
      "message": "The value parameter -- I think it\u0027s nicer to be just interface{} and creating a variant (dbus.MakeVariant) within this method.",
      "range": {
        "startLine": 29,
        "startChar": 82,
        "endLine": 29,
        "endChar": 100
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18da5728_e8b75b91",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 29,
      "author": {
        "id": 1368712
      },
      "writtenOn": "2020-03-02T07:39:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "7b4c570f_07c18082",
      "range": {
        "startLine": 29,
        "startChar": 82,
        "endLine": 29,
        "endChar": 100
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7732174_373e52a1",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 29,
      "author": {
        "id": 1368712
      },
      "writtenOn": "2020-03-02T07:39:39Z",
      "side": 1,
      "message": "It\u0027s also in github.com/godbus/dbus/object.go, but it\u0027s not in my local copy.\n\nIt was added in this commit: https://github.com/godbus/dbus/commit/6985d94ca06887d09055ce7c7d8471a76d897de3 13 months ago.\n\nDo you know how I can update the dependencies?",
      "parentUuid": "f3c343aa_88265a15",
      "range": {
        "startLine": 29,
        "startChar": 5,
        "endLine": 29,
        "endChar": 20
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d489da6_ad14d355",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 39,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-02-28T21:41:29Z",
      "side": 1,
      "message": "I couldn\u0027t find the definition of cleanupcallback. Maybe in another CL?",
      "range": {
        "startLine": 39,
        "startChar": 44,
        "endLine": 39,
        "endChar": 59
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b81356d7_03ca7314",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 39,
      "author": {
        "id": 1368712
      },
      "writtenOn": "2020-03-02T07:39:39Z",
      "side": 1,
      "message": "It\u0027s at the bottom of the stack, I made a helper that makes sure cleanup callbacks get run even if there are panics. It also aggregates error checking so 75% of your setup code isn\u0027t error checking.\n\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/2028328/11",
      "parentUuid": "8d489da6_ad14d355",
      "range": {
        "startLine": 39,
        "startChar": 44,
        "endLine": 39,
        "endChar": 59
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d588f305_41aa33c2",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 54,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-02-28T21:41:29Z",
      "side": 1,
      "message": "conn.Close() should be called? Otherwise the connection will never be closed. Same on other early returns.",
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0bc7497_f404e1e6",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 58,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-02-28T21:41:29Z",
      "side": 1,
      "message": "nit: \"Bluetooth\"",
      "range": {
        "startLine": 58,
        "startChar": 41,
        "endLine": 58,
        "endChar": 49
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e773ede3_af7a8d31",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 58,
      "author": {
        "id": 1368712
      },
      "writtenOn": "2020-03-02T07:39:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a0bc7497_f404e1e6",
      "range": {
        "startLine": 58,
        "startChar": 41,
        "endLine": 58,
        "endChar": 49
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63db4e29_734b13a0",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 59,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-02-28T21:41:29Z",
      "side": 1,
      "message": "personally, I like to return a function which does nothing (i.e. return func(ctx context.Context) error { return nil }, nil) instead of nil. It\u0027s easier to use -- will return a function when there are no errors.",
      "range": {
        "startLine": 59,
        "startChar": 9,
        "endLine": 59,
        "endChar": 12
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1c2a141_aa1a99ab",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 59,
      "author": {
        "id": 1368712
      },
      "writtenOn": "2020-03-02T07:39:39Z",
      "side": 1,
      "message": "It\u0027s meant to be used with a power.Setup.Add, which does the nil check for you.",
      "parentUuid": "63db4e29_734b13a0",
      "range": {
        "startLine": 59,
        "startChar": 9,
        "endLine": 59,
        "endChar": 12
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d5b9f39_46a402e5",
        "filename": "src/chromiumos/tast/local/power/setup/setup_bluetooth.go",
        "patchSetId": 5
      },
      "lineNbr": 70,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-02-28T21:41:29Z",
      "side": 1,
      "message": "If dbusPropertySet fails here, \"conn\" is not closed. I think it should be closed regardless, am I missing something?",
      "range": {
        "startLine": 70,
        "startChar": 3,
        "endLine": 70,
        "endChar": 13
      },
      "revId": "52649c81fac49a37d8dda5a56df1138b4aa6b2f9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}