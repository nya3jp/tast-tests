{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6d09a192_fa3e5254",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1512082
      },
      "writtenOn": "2021-07-28T11:12:49Z",
      "side": 1,
      "message": "Thanks for the review, Oleh.",
      "revId": "ecde3956172396ea5dbd23510f08b5d323128ae9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "78bfdc10_d94175a0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1483403
      },
      "writtenOn": "2021-07-29T15:27:24Z",
      "side": 1,
      "message": "Adding an example of how to use servo in a local test to the codelab would be nice also.",
      "revId": "ecde3956172396ea5dbd23510f08b5d323128ae9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "36691041_129db7ce",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1512082
      },
      "writtenOn": "2021-07-29T16:28:40Z",
      "side": 1,
      "message": "Thank you, Jeremy.",
      "revId": "ecde3956172396ea5dbd23510f08b5d323128ae9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ba3f439_daee67e7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1512082
      },
      "writtenOn": "2021-07-29T16:28:40Z",
      "side": 1,
      "message": "Definitely, I\u0027ll add an example.\n\nYou are okay with this approach, right? (serving the ssh private key as an internal data file)\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/3058137/3/src/chromiumos/tast/local/bundles/cros/policy/device_power_peak_shift.go#68\n\nPlease let me know. Thanks.",
      "parentUuid": "78bfdc10_d94175a0",
      "revId": "ecde3956172396ea5dbd23510f08b5d323128ae9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8f98f92_1c6a73dd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1483403
      },
      "writtenOn": "2021-07-29T17:40:05Z",
      "side": 1,
      "message": "I think local tests should use servo without a proxy. A new constructor should be added to servo to make that easier. I.e.\n\nfunc NewDirect(ctx context.Context, spec string) (*Servo, error)  {\n\thost, port, _, err :\u003d splitHostPort(spec)\n\tif err !\u003d nil {\n\t\treturn nil, err\n\t}\n\treturn New(ctx, host, port)\n}\n\nHowever, I realize there is another thing to check. Can\u0027t the test just use the ectool cli?",
      "parentUuid": "6ba3f439_daee67e7",
      "revId": "ecde3956172396ea5dbd23510f08b5d323128ae9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9fc9cb46_47865b3f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2021-07-31T08:13:59Z",
      "side": 1,
      "message": "ectool won\u0027t work for us, because we are writing tests for Dell devices with Dell EC.\n\nAlso, we cannot connect to servod without proxy in our setup. Are there some extra firewall rules in the lab to expose 9999 port to the local network?",
      "parentUuid": "d8f98f92_1c6a73dd",
      "revId": "ecde3956172396ea5dbd23510f08b5d323128ae9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa2f5556_8f0ae084",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1512082
      },
      "writtenOn": "2021-07-31T22:15:00Z",
      "side": 1,
      "message": "Hi Jeremy, I have added the NewDirect method that you suggested and it\u0027s very possible to use it in local tests.\nAs Oleh rightly pointed, at dev setup, there are few things the developers need to be aware of (especially as we are all accustomed to writing/running servo in remote setup). I have added the full details in the readme. Do let me know, it we have to add something more.\n\n\u003e Also, we cannot connect to servod without proxy in our setup.\n\nThis problem has been resolved after allowing the port 9999 on iptables and binding servod to a network interface (instead of loopback, as usual) [details in readme].\n\n\u003e Are there some extra firewall rules in the lab to expose 9999 port to the local network?\nAlso, it would be really helpful if you could confirm it. Another way is to put the CL in CQ : ). Thanks.",
      "parentUuid": "9fc9cb46_47865b3f",
      "revId": "ecde3956172396ea5dbd23510f08b5d323128ae9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b58f588_3df77708",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1512082
      },
      "writtenOn": "2021-08-04T16:35:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fa2f5556_8f0ae084",
      "revId": "ecde3956172396ea5dbd23510f08b5d323128ae9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}