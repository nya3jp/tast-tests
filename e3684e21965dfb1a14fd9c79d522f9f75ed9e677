{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "37203271_4b7d11a6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 21
      },
      "lineNbr": 0,
      "author": {
        "id": 1520127
      },
      "writtenOn": "2022-04-07T14:50:22Z",
      "side": 1,
      "message": "Hi. I\u0027ve just uploaded the latest patchset.\n\n@hyung: I\u0027ve mentioned before about my intention to use a single command line that would run all variations on this test. So that idea is implemented now using `VarDeps`, where I\u0027m enforcing the test to always run with the `lacrosDeployedBinary` var, otherwise it fails. \n\nI\u0027m really curious how Chromium builders, specifically Crosbolt, will deal with this `VarDeps` idea. Probably some tweaks will be needed. I\u0027m looking at these now - is there anywhere else I should pay attention in terms of builders?\nhttps://chromium.googlesource.com/chromiumos/third_party/autotest/+/refs/heads/main/server/site_tests/tast/control.crosbolt-perbuild-shard-1\nhttps://chromium.googlesource.com/chromiumos/third_party/autotest/+/refs/heads/main/server/site_tests/tast/control.lacros\n\n@hidehiko: I\u0027m looking forward to analyzing the effects of the results developed here in Crosbolt next and follow-up with eventual changes if necessary. Tha said, I believe this CL is quite ready for your consideration now. Could you PTAL?\n\nThank you,",
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d588b82_eece2911",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 21
      },
      "lineNbr": 81,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-04-07T16:00:55Z",
      "side": 1,
      "message": "as these requires to download lacros image for each case from the internet,\nI\u0027m slightly worried about the lab network capacity. Seewai, do you know who\u0027s the best person to clarify?",
      "range": {
        "startLine": 65,
        "startChar": 5,
        "endLine": 81,
        "endChar": 3
      },
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c67bc35_70034310",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 21
      },
      "lineNbr": 101,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-04-07T16:00:55Z",
      "side": 1,
      "message": "how do you deploy lacros, i.e. where the deployed lacros comes from?\n\nAlso, why do you need this independent?\nrootfs_primary + variable should just work, I think.",
      "range": {
        "startLine": 81,
        "startChar": 5,
        "endLine": 101,
        "endChar": 4
      },
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5abe794_8fbc2128",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 21
      },
      "lineNbr": 134,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-04-07T16:00:55Z",
      "side": 1,
      "message": "nit/style: could you merge these lines?\n\nif err :\u003d performInitialLogin(...); err !\u003d nil {\n  ...",
      "range": {
        "startLine": 133,
        "startChar": 2,
        "endLine": 134,
        "endChar": 17
      },
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b4df832d_2753565e",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 21
      },
      "lineNbr": 153,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-04-07T16:00:55Z",
      "side": 1,
      "message": "maybe, move this out from the for-loop?",
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e30879ad_2862b7b3",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 21
      },
      "lineNbr": 175,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-04-07T16:00:55Z",
      "side": 1,
      "message": "nit/style: you can directly return.\n\nreturn httptest.NewServer(...",
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a39d234_76092e89",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 21
      },
      "lineNbr": 182,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-04-07T16:00:55Z",
      "side": 1,
      "message": "could you avoid passing state directly?\nInstead, could you pass variables, outdir and HasError one by one?\nAlso return error instead of s.Fatal/s.Error?",
      "range": {
        "startLine": 182,
        "startChar": 46,
        "endLine": 182,
        "endChar": 62
      },
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f92d0316_22b4c6a1",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 21
      },
      "lineNbr": 192,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-04-07T16:00:55Z",
      "side": 1,
      "message": "could you run the retured closure later on success, which releases some internal state in go, too?",
      "range": {
        "startLine": 191,
        "startChar": 28,
        "endLine": 192,
        "endChar": 57
      },
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e508caf_d2cdc5d2",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 21
      },
      "lineNbr": 220,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-04-07T16:00:55Z",
      "side": 1,
      "message": "ditto: could you avoid passing testing.State to utility function?",
      "range": {
        "startLine": 220,
        "startChar": 46,
        "endLine": 220,
        "endChar": 62
      },
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01ba53ba_7111782c",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 21
      },
      "lineNbr": 258,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-04-07T16:00:55Z",
      "side": 1,
      "message": "Clarification: this performs fake login, which is different from actual login flow.\nI was thinking you\u0027d like to perform actual login with a test gaia account. WDYT?",
      "range": {
        "startLine": 256,
        "startChar": 1,
        "endLine": 258,
        "endChar": 36
      },
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c252455_6c6f5854",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 21
      },
      "lineNbr": 291,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-04-07T16:00:55Z",
      "side": 1,
      "message": "nit: time.Since returns time.Duration, so you don\u0027t need to call it here explicitly.",
      "range": {
        "startLine": 291,
        "startChar": 9,
        "endLine": 291,
        "endChar": 22
      },
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d6ec3a1_d19138bf",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 21
      },
      "lineNbr": 323,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-04-07T16:00:55Z",
      "side": 1,
      "message": "I saw this pattern several times, but in general testing.Sleep is the source of flakiness.\nCould you file a bug to get rid of this pattern?",
      "range": {
        "startLine": 320,
        "startChar": 1,
        "endLine": 323,
        "endChar": 34
      },
      "revId": "e3684e21965dfb1a14fd9c79d522f9f75ed9e677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}