{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5000627e_030a3e58",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2021-09-22T17:25:16Z",
      "side": 1,
      "message": "IIRC, termina-dlc is preloading the DLC onto stateful for test image.\nRef: https://source.corp.google.com/chromeos_public/src/third_party/chromiumos-overlay/chromeos-base/termina-dlc/termina-dlc-9999.ebuild;l\u003d58?q\u003dtermina-dlc\n\nFor preloaded DLCs, OOBE completion doesn\u0027t matter actually.\nOnly when dlcsevice \"asks\" update_engine to install the DLC from Omaha does OOBE block installation at the moment.\n\nQuestion 1: Did the device you\u0027re testing on have DLC preloaded at `/var/cache/dlc-images/termina-dlc`?\nQuestion 2: Are there run previous to the failing tests that wipe stateful + no get provisioned in the lab due to OS being on the requested version?",
      "revId": "54fdf5b10765331d8b1c676a451667a9c79bd677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "72430503_3b18d977",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2021-09-22T17:32:17Z",
      "side": 1,
      "message": "LGTM",
      "revId": "54fdf5b10765331d8b1c676a451667a9c79bd677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23b34378_22ffe21c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1366225
      },
      "writtenOn": "2021-09-27T00:32:14Z",
      "side": 1,
      "message": "\u003e Did the device you\u0027re testing on have DLC preloaded at `/var/cache/dlc-images/termina-dlc`?\n\nYes for my local DUT, but some boards in the lab probably didn\u0027t. Is `SoftwareDeps: []string{\"dlc\"}` enough? Is there any other flag that we can use?\n\n\u003e Are there run previous to the failing tests that wipe stateful + no get provisioned in the lab due to OS being on the requested version?\n\nNo (https://stainless.corp.google.com/browse/chromeos-test-logs/test-runner/prod/2021-09-26/b3e7f978-9f9d-45d1-96b4-5e3948fdc0cf/). Are you saying the stateful will be wiped after a failing test?",
      "parentUuid": "5000627e_030a3e58",
      "revId": "54fdf5b10765331d8b1c676a451667a9c79bd677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c48e523_509b1f34",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1366225
      },
      "writtenOn": "2021-09-27T07:17:13Z",
      "side": 1,
      "message": "From https://stainless.corp.google.com/search?first_date\u003d2021-09-21\u0026last_date\u003d2021-09-27\u0026owner\u003d\u0026builder_name\u003d\u0026master_builder_name\u003d\u0026branch\u003d\u0026suite\u003d\u0026declared_name\u003d\u0026test\u003d\u0026build\u003d%5ER96%5C-14244%5C.0%5C.0%24\u0026board\u003d%5Eatlas%24\u0026model\u003d%5Eatlas%24\u0026shard\u003d\u0026hostname\u003d\u0026status\u003dFAIL\u0026status\u003dERROR\u0026status\u003dABORT\u0026reason\u003dvmDLC%3A%20Failed%20to%20install%20DLC%3A%20failed%20to%20install%3A%20context%20deadline%20exceeded\u0026exclude_reason\u003d\u0026retry\u003d\u0026task_reference_type\u003d\u0026firmware_ro_version\u003d\u0026firmware_rw_version\u003d\u0026buildbucket_id\u003d\u0026exclude_cts\u003dfalse\u0026exclude_not_run\u003dfalse\u0026exclude_non_release\u003dtrue\u0026exclude_au\u003dtrue\u0026exclude_acts\u003dtrue\u0026exclude_retried\u003dfalse\u0026exclude_non_production\u003dfalse\u0026view\u003dlist\n\n```\n/mnt/stateful_partition/var_overlay/cache/dlc-images\n|-- libsoda\n|   `-- package\n|       `-- dlc.img\n|-- libsoda-model-en-us\n|   `-- package\n|       `-- dlc.img\n|-- pita\n|   `-- package\n|       `-- dlc.img\n|-- sample-dlc\n|   `-- package\n|       `-- dlc.img\n`-- termina-dlc\n    `-- package\n        `-- dlc.img\n```\n\nThe only thing that I can think of is the 10s timeout of the dlc fixture.\n\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/vm/dlc/fixture.go;l\u003d44?q\u003dfixture.go%20dlc%20p:chromeos_.*\n\nLet\u0027s give 1 minute a try?",
      "parentUuid": "23b34378_22ffe21c",
      "revId": "54fdf5b10765331d8b1c676a451667a9c79bd677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2fda521_82c37e69",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1351160
      },
      "writtenOn": "2021-09-27T17:45:06Z",
      "side": 1,
      "message": "b/200637442#comment5, yes 1 minute should resolve this.\n\nIf you look at the pastebin log, it does infact preload the DLC, just not enough time is given for the fixture.",
      "parentUuid": "4c48e523_509b1f34",
      "revId": "54fdf5b10765331d8b1c676a451667a9c79bd677",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}