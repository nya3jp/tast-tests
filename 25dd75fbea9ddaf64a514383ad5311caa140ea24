{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "751d9e7c_098bd7da",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2022-05-25T23:30:49Z",
      "side": 1,
      "message": "This is a WIP, largely for reference, but maybe worth adding?\n\nStill TODO: Setting up Layer 3. It would be nice to at least get this set up enough to start a captive portal probe that results in \"offline\".\n",
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f7678fca_2b8221bd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-05-26T02:47:17Z",
      "side": 1,
      "message": "Thanks for upload this patch!\nI also have a WIP patch (sorry that I should mention this earlier) which adds a package to provide the similar functionality (but including L3 setup).\nI think I can upload that patch today and then let\u0027s discuss the next step.",
      "parentUuid": "751d9e7c_098bd7da",
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "98060f82_abe09915",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2022-05-26T15:02:08Z",
      "side": 1,
      "message": "That would be great! The only parts of this test that I think are interesting are:\n1. Casting Device.SelectedService correctly to get the associated Service (and confirming that Shill did indeed create one).\n2. Manager.PushTestProfile as a convenient helper for pushing and deferring a test profile pop.",
      "parentUuid": "f7678fca_2b8221bd",
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "876826ea_00b4b25d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1530382
      },
      "writtenOn": "2022-05-26T15:49:30Z",
      "side": 1,
      "message": "Looks great as a step towards captive portal tests. Thank you Steven!",
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7181acd2_d26acfdd",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_veth.go",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1238096
      },
      "writtenOn": "2022-05-26T03:47:51Z",
      "side": 1,
      "message": "Note that we are considering changing network interface autodetection in the future such that we have less name-based autodetection. For tests concretely this would mean calling systematically ClaimDevice / UnclaimDevice. For now this is fine to acknowledge these name patterns.",
      "range": {
        "startLine": 51,
        "startChar": 2,
        "endLine": 51,
        "endChar": 88
      },
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e6e24d8_17eca9b7",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_veth.go",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2022-05-26T15:02:08Z",
      "side": 1,
      "message": "Ack. I should probably be clear that we are intentionally not using the \"veth\" prefix since here we *do* want Shill to manage the connection :-)",
      "parentUuid": "7181acd2_d26acfdd",
      "range": {
        "startLine": 51,
        "startChar": 2,
        "endLine": 51,
        "endChar": 88
      },
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca7eca8c_15e8c443",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_veth.go",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 1238096
      },
      "writtenOn": "2022-05-26T03:47:51Z",
      "side": 1,
      "message": "These two names are a bit misleading here: one side is hinting that this simulates an interface of type ethernet, but the other side is hinting that this is used to simulate an AP.\n\nThe names should maybe better reflect that technology we expect shill to pick here (kEthernet I believe).",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 52,
        "endChar": 28
      },
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a92c3f5_e7bc1b5d",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_veth.go",
        "patchSetId": 2
      },
      "lineNbr": 52,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2022-05-26T15:02:08Z",
      "side": 1,
      "message": "I am happy to take specific suggestions (it wasn\u0027t clear to me whether you were suggesting \"ethernet\"? except IIUC we\u0027ll want to distinguish this from the existing \"ethernet\" Device), I\u0027ll take a closer look at what \"hostapdIface\" actually maps to, I just copied this from ethernet_8021x and inverted the name so that Shill wouldn\u0027t ignore it.",
      "parentUuid": "ca7eca8c_15e8c443",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 52,
        "endChar": 28
      },
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e2b3b48_1b098167",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_veth.go",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1530382
      },
      "writtenOn": "2022-05-26T15:49:30Z",
      "side": 1,
      "message": "nit: Device",
      "range": {
        "startLine": 77,
        "startChar": 25,
        "endLine": 77,
        "endChar": 31
      },
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2cd1c0d2_a32272f7",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_veth.go",
        "patchSetId": 2
      },
      "lineNbr": 101,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-05-26T02:47:17Z",
      "side": 1,
      "message": "One concern here is (as mentioned in my doc) that, if the physical Ethernet is unstable (disconnected and connected again during the test, we observed this behavior in the VPNConnect tests in the lab), it will load this priority and thus become the default network. So I would still prefer introducing an addtional temporary property to differentiate Ethernet services in the tests.\n\nWDYT?",
      "range": {
        "startLine": 101,
        "startChar": 46,
        "endLine": 101,
        "endChar": 69
      },
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14b943cc_1aa24feb",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_veth.go",
        "patchSetId": 2
      },
      "lineNbr": 101,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2022-05-26T15:02:08Z",
      "side": 1,
      "message": "Since this is a local test, I don\u0027t think that shouldn\u0027t matter: \n* If Shill crashes or the DUT reboots during the test, the test profile will not be reloaded.\n* Otherwise the defer function will remove the test profile.\n\nThere isn\u0027t any particular need to set the Priority in this particular test, I just wanted to verify that we could. (It\u0027s something we will eventually want to do to verify that a network in a captive portal state is lower priority than an online network, even if has a higher Priority).",
      "parentUuid": "2cd1c0d2_a32272f7",
      "range": {
        "startLine": 101,
        "startChar": 46,
        "endLine": 101,
        "endChar": 69
      },
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6276e33_3518966e",
        "filename": "src/chromiumos/tast/local/shill/manager.go",
        "patchSetId": 2
      },
      "lineNbr": 442,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2022-05-26T15:02:08Z",
      "side": 1,
      "message": "DUT",
      "range": {
        "startLine": 442,
        "startChar": 10,
        "endLine": 442,
        "endChar": 13
      },
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83af1568_10e25e35",
        "filename": "src/chromiumos/tast/local/shill/manager.go",
        "patchSetId": 2
      },
      "lineNbr": 446,
      "author": {
        "id": 1530382
      },
      "writtenOn": "2022-05-26T15:49:30Z",
      "side": 1,
      "message": "Would it be valuable to be able to push multiple test profiles with different names? If that\u0027s the case, we should pass the profile name into the function call.",
      "range": {
        "startLine": 446,
        "startChar": 32,
        "endLine": 446,
        "endChar": 47
      },
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "99fc3f6e_b60a356f",
        "filename": "src/chromiumos/tast/local/shill/manager.go",
        "patchSetId": 2
      },
      "lineNbr": 446,
      "author": {
        "id": 1000191
      },
      "writtenOn": "2022-05-26T15:52:50Z",
      "side": 1,
      "message": "The intention here is for this to provide an east way to create a single temporary profile so that properties that are saved will not be persisted. If a test needs to manage more than one profile for some reason it should probably call the profile management functions directly.",
      "parentUuid": "83af1568_10e25e35",
      "range": {
        "startLine": 446,
        "startChar": 32,
        "endLine": 446,
        "endChar": 47
      },
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6eda4c6c_8478ec0f",
        "filename": "src/chromiumos/tast/local/shill/manager.go",
        "patchSetId": 2
      },
      "lineNbr": 455,
      "author": {
        "id": 1530382
      },
      "writtenOn": "2022-05-26T15:49:30Z",
      "side": 1,
      "message": "nit:\n```\nif _, err :\u003d m.PushProfile(ctx, testProfileName); err !\u003d nil {\n    return nil, errors.Wrap(err, \"PushProfile failed\")\n}\n```",
      "range": {
        "startLine": 452,
        "startChar": 1,
        "endLine": 455,
        "endChar": 2
      },
      "revId": "25dd75fbea9ddaf64a514383ad5311caa140ea24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}