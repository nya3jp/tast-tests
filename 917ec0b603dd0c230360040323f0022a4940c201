{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "052a4ff5_6779a41d",
        "filename": "src/chromiumos/tast/local/input/touch.go",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2021-02-01T00:25:30Z",
      "side": 1,
      "message": "Delaying with sleep should be avoided. It will either be too short, leading to wasted time, or too long, leading to flakes. Is there something specific that we can wait on here?",
      "range": {
        "startLine": 181,
        "startChar": 0,
        "endLine": 181,
        "endChar": 34
      },
      "revId": "917ec0b603dd0c230360040323f0022a4940c201",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b514c247_27c9b8a7",
        "filename": "src/chromiumos/tast/local/input/touch.go",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1398964
      },
      "writtenOn": "2021-02-01T18:54:36Z",
      "side": 1,
      "message": "I agree, but I couldn\u0027t find any proper solution even after talking to platform. I was able to find following examples that use sleep:\nhttps://lwn.net/Articles/717761/\nhttps://www.kernel.org/doc/html/v4.12/input/uinput.html\nhttps://gist.github.com/toinsson/7e9fdd3c908b3c3d3cd635321d19d44d",
      "parentUuid": "052a4ff5_6779a41d",
      "range": {
        "startLine": 181,
        "startChar": 0,
        "endLine": 181,
        "endChar": 34
      },
      "revId": "917ec0b603dd0c230360040323f0022a4940c201",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2393f15_1b584ab5",
        "filename": "src/chromiumos/tast/local/input/touch.go",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2021-02-02T01:29:00Z",
      "side": 1,
      "message": "Without this sleep, what is failing? Can we use testing.Poll to wait until it succeeds?\n\nAlso, I see a handful of other places that call createVirtual. Do those sites have the same problem?",
      "parentUuid": "b514c247_27c9b8a7",
      "range": {
        "startLine": 181,
        "startChar": 0,
        "endLine": 181,
        "endChar": 34
      },
      "revId": "917ec0b603dd0c230360040323f0022a4940c201",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "899d22ba_fe0deaba",
        "filename": "src/chromiumos/tast/local/input/touch.go",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1398964
      },
      "writtenOn": "2021-02-02T19:45:07Z",
      "side": 1,
      "message": "The test case is simulating a touch event on the maximize/restore button. If VirtualTouchDevice is not ready, that event doesn\u0027t happen and the test will fail. So polling is not going to help, because the event is missed and the changes in the state of the activity wonâ€™t happen ever. \nI found this old bug that is marked as won\u0027t fix (crbug.com/1015264) that addresses same issue. In the tast-test project there are other places that use the same trick (sleep) to deal with this issue. I changed the way I implemented sleep() to comply with those.",
      "parentUuid": "e2393f15_1b584ab5",
      "range": {
        "startLine": 181,
        "startChar": 0,
        "endLine": 181,
        "endChar": 34
      },
      "revId": "917ec0b603dd0c230360040323f0022a4940c201",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "207eadd2_42a33b84",
        "filename": "src/chromiumos/tast/local/input/touch.go",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2021-02-03T00:47:09Z",
      "side": 1,
      "message": "Ack\nI guess there\u0027s not much we can do about poorly designed linux APIs.",
      "parentUuid": "899d22ba_fe0deaba",
      "range": {
        "startLine": 181,
        "startChar": 0,
        "endLine": 181,
        "endChar": 34
      },
      "revId": "917ec0b603dd0c230360040323f0022a4940c201",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e845cc7b_5db3130d",
        "filename": "src/chromiumos/tast/local/input/touch.go",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1398964
      },
      "writtenOn": "2021-02-03T01:02:20Z",
      "side": 1,
      "message": "I totally agree with you, the good thing is this won\u0027t affect any real physical devices test.",
      "parentUuid": "207eadd2_42a33b84",
      "range": {
        "startLine": 181,
        "startChar": 0,
        "endLine": 181,
        "endChar": 34
      },
      "revId": "917ec0b603dd0c230360040323f0022a4940c201",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}