{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8fa7dfdd_6d830cf6",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1379515
      },
      "writtenOn": "2021-08-16T23:50:50Z",
      "side": 1,
      "message": "nit: consider adding a third IME here to ensure that ctrl+space is different to ctrl+shift+space?",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96edb2da_928240f4",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-17T00:03:51Z",
      "side": 1,
      "message": "As you mentioned the IME ordering is changing soon. Should we add it later?",
      "parentUuid": "8fa7dfdd_6d830cf6",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1d9e14a_6cedda57",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-08-17T00:29:55Z",
      "side": 1,
      "message": "Can we obtain the order of the installed input methods before the switches? I don\u0027t know if there is a backend API for this, but such information at least shows in the inputs settings in both the OS setting page and the quicksettings panel. \n\nThis may be robust and insensative to the backend ordering implementations.",
      "parentUuid": "96edb2da_928240f4",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3743d986_f4314657",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1333018
      },
      "writtenOn": "2021-08-17T02:51:21Z",
      "side": 1,
      "message": "IIUC tranbaoduy@ mentioned he was changing input method order to be alphabetical. Maybe we could assume that?",
      "parentUuid": "c1d9e14a_6cedda57",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ba122629_ca065e88",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-17T02:55:53Z",
      "side": 1,
      "message": "I think we can put this on hold. Once the ordering is decided, I can add one input method here.",
      "parentUuid": "3743d986_f4314657",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e486e5b_a6286736",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1291291
      },
      "writtenOn": "2021-08-17T05:11:21Z",
      "side": 1,
      "message": "Yes, they will soon be sorted by their full display names, according to the system locale\u0027s sorting rules.\n\nHowever, don\u0027t think the ordering should be assumed in tests. The tests should \"read\" the list being displayed (just like a humans do), then use that info as the basis to verify if the input method being switched to is correct.\n\nNothing should be assumed; the system can decide to change the ordering at will. The only thing that\u0027s stable is the behaviour of Ctrl+Space and Ctrl+Shift+Space (one toggles between current and last-used, one cycles through the list; I don\u0027t remember which is which though).\n\n+1 to John\u0027s \"add a 3rd one\" to verify different behaviours between Ctrl+Space and Ctrl+Shift+Space.",
      "parentUuid": "ba122629_ca065e88",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b136991d_a1af3784",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-17T06:30:49Z",
      "side": 1,
      "message": "When I personally switch input method, I only remember which one is the most recent. User does not open a list to see how it is ordered. If we can know it from an api, we can probably use it to validate the next IME in Ctrl+Shift+Space. Otherwise to add more IMEs does not help without a clear expectation.",
      "parentUuid": "8e486e5b_a6286736",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33df9516_fe6ed840",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1291291
      },
      "writtenOn": "2021-08-17T07:37:08Z",
      "side": 1,
      "message": "As I said, there\u0027s two kinds of switching shortcuts: Ctrl+Space and Ctrl+Shift+Space, one does toggle with last-used, one cycles through the list (I can\u0027t remember which is which).\n\nYour personal use case is most suited with the one that toggles with last-used, but people have reason to use the other one. The expectation for the other one is very clear: it cycles through input methods in the order shown to the user.\n\nThe user may just have a few enabled so probably remember the order (so knowing whether to do the shortcut once or twice to get to what they need). Cycling through the list is the specs of the shortcut.",
      "parentUuid": "b136991d_a1af3784",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b81c745_5e2fb97a",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-08-17T07:47:54Z",
      "side": 1,
      "message": "I think we all agreed that we need a third input method. The issue here is how to get the order list of the input methods? I can see there are three options here:\n\n1, assume the order is fixed (i.e, in the alphabetic order), and use this order when it is implemented in the backend.\n2, have a backend API to get the list.\n3, directly check from the UI, since we already have such information in the input settings page or the quicksettings panel. \n\nThe first two are backend-dependent while the third one is decoupled from the backend, which might be a better choice.\n\nAre we voting on these options? Please feel free to add any other options.",
      "parentUuid": "33df9516_fe6ed840",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30fd8a3e_771778a6",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1291291
      },
      "writtenOn": "2021-08-17T07:50:21Z",
      "side": 1,
      "message": "I prefer #3, as it correctly mimics how things work for a real user, unless you advise that it\u0027s a very difficult thing to do...",
      "parentUuid": "4b81c745_5e2fb97a",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a12147d_311a18a9",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1508900
      },
      "writtenOn": "2021-08-18T00:06:17Z",
      "side": 1,
      "message": "2 votes for #3.\n\n@Jun, do you want me to help add a func util.InstalledInputMethods(..) in a following CL? This func might be useful in some other scenrios, I guess.",
      "parentUuid": "30fd8a3e_771778a6",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3cd182c9_b6995068",
        "filename": "src/chromiumos/tast/local/bundles/cros/inputs/physical_keyboard_change_input.go",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-08-18T00:21:49Z",
      "side": 1,
      "message": "It is not needed. ime.InstalledInputMethods() is already there. Question: This is the result from Chrome API, it can be reordered when display on the screen. So the input should be from UI?",
      "parentUuid": "7a12147d_311a18a9",
      "range": {
        "startLine": 89,
        "startChar": 0,
        "endLine": 89,
        "endChar": 49
      },
      "revId": "e6666ced3d0c55cf191267e045eb1a827d3fcef2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}