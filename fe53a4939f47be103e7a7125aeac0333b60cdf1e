{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e0d70992_02b730b3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2021-10-08T18:28:58Z",
      "side": 1,
      "message": "Looking good, running out of battery.",
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b13c248_0d8ce887",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/bitstream.go",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2021-10-08T18:28:58Z",
      "side": 1,
      "message": "nit: I usually refer to \"bitstream\" as the whole encoded sequence,\nso here I\u0027d use \"encoded chunk\" or so, e.g.\n\n  // Skip the encoded chunk b if it belongs to a temporal layer higher than temporalId.\n  \nWDYT?",
      "range": {
        "startLine": 80,
        "startChar": 6,
        "endLine": 80,
        "endChar": 85
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ef10ee1_8fbcd587",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/bitstream.go",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1196199
      },
      "writtenOn": "2021-10-11T03:17:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0b13c248_0d8ce887",
      "range": {
        "startLine": 80,
        "startChar": 6,
        "endLine": 80,
        "endChar": 85
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7846e271_81c6067a",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/encode.go",
        "patchSetId": 1
      },
      "lineNbr": 319,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2021-10-08T18:28:58Z",
      "side": 1,
      "message": "nit: naming suggestion: prepareYUVFileWithTLs() ? Just wanted to \nhardcode in the name that there\u0027s a number of temporal layers\nin the produced file, so those should be plural.",
      "range": {
        "startLine": 319,
        "startChar": 5,
        "endLine": 319,
        "endChar": 24
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90037db9_3d749d7c",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/encode.go",
        "patchSetId": 1
      },
      "lineNbr": 319,
      "author": {
        "id": 1196199
      },
      "writtenOn": "2021-10-11T03:17:14Z",
      "side": 1,
      "message": "Very sadly, the naming \"WithTLs\" is got a warning to say \"WithTLS\" thanks to https://github.com/golang/go/wiki/CodeReviewComments#initialisms.\n\nI just changed to WithTL. Do you have some other idea?",
      "parentUuid": "7846e271_81c6067a",
      "range": {
        "startLine": 319,
        "startChar": 5,
        "endLine": 319,
        "endChar": 24
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e424b07_61390e0d",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/encode.go",
        "patchSetId": 1
      },
      "lineNbr": 319,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2021-10-13T16:55:26Z",
      "side": 1,
      "message": "Sorry for the delay, I had a comment here but somehow it got\nlost (maybe I reviewed from another machine?). Anyway, naming\nwise I\u0027ve seen (heard) WebRTC folks referring to the process \nof removing layers as \"peeling\". OTOH the \"WithTL\" might be \nmisleading because we\u0027re not adding anything... Suggestion:\n  \n - s/saveBitstreamWithTL/peelLayersAndSaveBistream/ \n   -- or maybe simply s/saveBistreamWithTL/saveTemporalLayerBitstream/ \n\n -  s/prepareYUVFileWithTLs/peelLayersFromYUVFile/ \n\nWDYT?",
      "parentUuid": "90037db9_3d749d7c",
      "range": {
        "startLine": 319,
        "startChar": 5,
        "endLine": 319,
        "endChar": 24
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ed15391_9aa5c19a",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/encode.go",
        "patchSetId": 1
      },
      "lineNbr": 319,
      "author": {
        "id": 1196199
      },
      "writtenOn": "2021-10-14T01:58:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e424b07_61390e0d",
      "range": {
        "startLine": 319,
        "startChar": 5,
        "endLine": 319,
        "endChar": 24
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4da66cac_c36b8dc2",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/encode.go",
        "patchSetId": 1
      },
      "lineNbr": 342,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2021-10-08T18:28:58Z",
      "side": 1,
      "message": "nit: there\u0027s a Go math.RoundToEven() function (but uses float64):\n\n  int64(math.RoundToEven(w) * math.RoundToEven(h) / 2.0)\n  \nnot sure if it\u0027s better (it certainly is verbose) but it\u0027s easier to\nread.",
      "range": {
        "startLine": 342,
        "startChar": 19,
        "endLine": 342,
        "endChar": 40
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8040c605_07c95d86",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/encode.go",
        "patchSetId": 1
      },
      "lineNbr": 342,
      "author": {
        "id": 1196199
      },
      "writtenOn": "2021-10-11T03:17:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4da66cac_c36b8dc2",
      "range": {
        "startLine": 342,
        "startChar": 19,
        "endLine": 342,
        "endChar": 40
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "131a116e_f6c1ebfc",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/encode.go",
        "patchSetId": 1
      },
      "lineNbr": 351,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2021-10-08T18:28:58Z",
      "side": 1,
      "message": "nit: len(tids) is used in a few places and it might benefit from\nhaving a name, what about in l.341 or so\n  numYUVFrames :\u003d len(tids)\n  \n?",
      "range": {
        "startLine": 351,
        "startChar": 17,
        "endLine": 351,
        "endChar": 26
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d74699f7_88a0ab9e",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/encode.go",
        "patchSetId": 1
      },
      "lineNbr": 351,
      "author": {
        "id": 1196199
      },
      "writtenOn": "2021-10-11T03:17:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "131a116e_f6c1ebfc",
      "range": {
        "startLine": 351,
        "startChar": 17,
        "endLine": 351,
        "endChar": 26
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bae3a93d_576b3f56",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/encode.go",
        "patchSetId": 1
      },
      "lineNbr": 370,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2021-10-08T18:28:58Z",
      "side": 1,
      "message": "micro-nit: maybe\n  if tids[1] \u003e tid {\n    continue;\n  }\n  writeSize, err :\u003d ...\n  \n?",
      "range": {
        "startLine": 362,
        "startChar": 2,
        "endLine": 370,
        "endChar": 3
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f73d83f_a8ccf7e7",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/webcodecs/encode.go",
        "patchSetId": 1
      },
      "lineNbr": 370,
      "author": {
        "id": 1196199
      },
      "writtenOn": "2021-10-11T03:17:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bae3a93d_576b3f56",
      "range": {
        "startLine": 362,
        "startChar": 2,
        "endLine": 370,
        "endChar": 3
      },
      "revId": "fe53a4939f47be103e7a7125aeac0333b60cdf1e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}