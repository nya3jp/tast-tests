{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8914ce90_bdf6c5ee",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1108259
      },
      "writtenOn": "2022-03-25T01:42:54Z",
      "side": 1,
      "message": "please spell out the command you run for future reference.\n`tast run dut multivm.Login.novm`\n\nWhat would you check for in the output? \nmanatee_XXX_memXXX  in the XML file?",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 23
      },
      "revId": "59105aeb1874087371c116808762cff7ee55dfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5599c271_62469dbb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2022-03-25T02:21:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8914ce90_bdf6c5ee",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 23
      },
      "revId": "59105aeb1874087371c116808762cff7ee55dfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "02d4e636_5a8d1496",
        "filename": "src/chromiumos/tast/local/memory/manatee.go",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1108259
      },
      "writtenOn": "2022-03-25T01:42:54Z",
      "side": 1,
      "message": "do we want to log anything here since I can imagine us wondering if this worked or not in the future.",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 33,
        "endChar": 2
      },
      "revId": "59105aeb1874087371c116808762cff7ee55dfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "81715f55_8af2335e",
        "filename": "src/chromiumos/tast/local/memory/manatee.go",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2022-03-25T02:21:17Z",
      "side": 1,
      "message": "Whether or not the manatee_ metrics show up in results-chart.json should be a good enough indicator. A log statement here wouldn\u0027t be useful for general purpose debugging, so it would just end up being debug logspam.",
      "parentUuid": "02d4e636_5a8d1496",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 33,
        "endChar": 2
      },
      "revId": "59105aeb1874087371c116808762cff7ee55dfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa6b3d32_8f721145",
        "filename": "src/chromiumos/tast/local/memory/manatee.go",
        "patchSetId": 3
      },
      "lineNbr": 63,
      "author": {
        "id": 1368712
      },
      "writtenOn": "2022-03-25T04:33:28Z",
      "side": 1,
      "message": "Won\u0027t this over count by the number of crosvm processes per VM?\n\nI think we can just use Pss? In ChromeOS we had to do lots of extra work because smaps doesn\u0027t compute Pss for swapped out parts of a shmem region properly, but that is not a problem in the hypervisor.",
      "revId": "59105aeb1874087371c116808762cff7ee55dfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e03867a_9e5612f4",
        "filename": "src/chromiumos/tast/local/memory/manatee.go",
        "patchSetId": 3
      },
      "lineNbr": 63,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2022-03-25T05:24:18Z",
      "side": 1,
      "message": "I thought I would need to do that at first. But at least on my non-manatee kled, pgrep only returns the root crosvm process (manatee still uses --disable-sandbox, so I can\u0027t test on manatee). Are there some kernels/devices where that is not the case?",
      "parentUuid": "aa6b3d32_8f721145",
      "revId": "59105aeb1874087371c116808762cff7ee55dfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd40edf7_46ad5302",
        "filename": "src/chromiumos/tast/local/memory/manatee.go",
        "patchSetId": 3
      },
      "lineNbr": 63,
      "author": {
        "id": 1108259
      },
      "writtenOn": "2022-03-25T05:47:06Z",
      "side": 1,
      "message": "eh, is this because busybox pgrep output is different? \n\nand because disable-sandbox.",
      "parentUuid": "0e03867a_9e5612f4",
      "revId": "59105aeb1874087371c116808762cff7ee55dfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1f14a268_9924cc08",
        "filename": "src/chromiumos/tast/local/memory/manatee.go",
        "patchSetId": 3
      },
      "lineNbr": 63,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2022-03-25T05:54:11Z",
      "side": 1,
      "message": "I\u0027m not sure how to test pgrep with respect to sandboxed devices on manatee. But it\u0027s probably better to assume that busybox pgrep behaves the same as regular pgrep, rather than to assume it\u0027s different. If that assumption is wrong, it should be very obvious whenever we re-enable sandboxing.",
      "parentUuid": "cd40edf7_46ad5302",
      "revId": "59105aeb1874087371c116808762cff7ee55dfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "502b157f_2670fc24",
        "filename": "src/chromiumos/tast/local/memory/manatee.go",
        "patchSetId": 3
      },
      "lineNbr": 63,
      "author": {
        "id": 1108259
      },
      "writtenOn": "2022-03-25T05:58:47Z",
      "side": 1,
      "message": "Well in regular CrOS, you can check their behavior.\n\n\n```\nlocalhost ~ # pgrep crosvm\n25228\nlocalhost ~ # busybox pgrep crosvm\n25228\n25243\n25245\n25246\n25247\n25248\n25249\n25251\n25253\n25254\n25255\n25259\n25260\n25261\n25266\n25268\n25269\n25271\n25272\n25279\n25280\n25282\n25283\n25284\n25285\n25286\n25287\n25288\n25293\n25295\n25297\n25298\n25299\n25300\n25301\n25303\n```",
      "parentUuid": "1f14a268_9924cc08",
      "revId": "59105aeb1874087371c116808762cff7ee55dfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0cb781a2_fb6d0638",
        "filename": "src/chromiumos/tast/local/memory/manatee.go",
        "patchSetId": 3
      },
      "lineNbr": 63,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2022-03-25T07:51:25Z",
      "side": 1,
      "message": "Ah, I didn\u0027t realize busybox was on regular CrOS images. I\u0027ve updated the code to filter out crosvm child processes. I think it\u0027s preferable to use rss rather than pss because rss requires processing significantly less smaps once sandboxing is re-enabled.",
      "parentUuid": "502b157f_2670fc24",
      "revId": "59105aeb1874087371c116808762cff7ee55dfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e5e185e_e4440c04",
        "filename": "src/chromiumos/tast/local/memory/manatee.go",
        "patchSetId": 3
      },
      "lineNbr": 63,
      "author": {
        "id": 1108259
      },
      "writtenOn": "2022-03-30T23:37:24Z",
      "side": 1,
      "message": "Charles ?",
      "parentUuid": "0cb781a2_fb6d0638",
      "revId": "59105aeb1874087371c116808762cff7ee55dfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}