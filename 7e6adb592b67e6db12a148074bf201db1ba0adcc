{
  "comments": [
    {
      "key": {
        "uuid": "49631b6a_e956450e",
        "filename": "src/chromiumos/tast/local/chrome/ash/launcher.go",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2020-01-09T00:58:29Z",
      "side": 1,
      "message": "add a note here that this function creates temporary directories for the returned paths and it\u0027s up to the caller to delete them",
      "revId": "7e6adb592b67e6db12a148074bf201db1ba0adcc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25e467b2_9b2d71e3",
        "filename": "src/chromiumos/tast/local/chrome/ash/launcher.go",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-01-09T01:43:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "49631b6a_e956450e",
      "revId": "7e6adb592b67e6db12a148074bf201db1ba0adcc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a312f40_42b887f6",
        "filename": "src/chromiumos/tast/local/chrome/ash/launcher.go",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1001380
      },
      "writtenOn": "2020-01-07T22:51:29Z",
      "side": 1,
      "message": "may be add a guard to check if the file exists and fail early?",
      "revId": "7e6adb592b67e6db12a148074bf201db1ba0adcc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a878ada3_f6fa486c",
        "filename": "src/chromiumos/tast/local/chrome/ash/launcher.go",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-01-08T23:19:40Z",
      "side": 1,
      "message": "not sure about what you meant -- the directories are created through TempDir within this function, so it won\u0027t conflict with existing files. Am I missing some conditions?",
      "parentUuid": "5a312f40_42b887f6",
      "revId": "7e6adb592b67e6db12a148074bf201db1ba0adcc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91097af3_e9294815",
        "filename": "src/chromiumos/tast/local/chrome/ash/launcher.go",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1001380
      },
      "writtenOn": "2020-01-08T23:25:57Z",
      "side": 1,
      "message": "ah nvm then",
      "parentUuid": "a878ada3_f6fa486c",
      "revId": "7e6adb592b67e6db12a148074bf201db1ba0adcc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17a4dd8e_f1999dad",
        "filename": "src/chromiumos/tast/local/chrome/ash/launcher.go",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2020-01-09T00:58:29Z",
      "side": 1,
      "message": "const",
      "revId": "7e6adb592b67e6db12a148074bf201db1ba0adcc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d637072_201886bf",
        "filename": "src/chromiumos/tast/local/chrome/ash/launcher.go",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-01-09T01:43:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17a4dd8e_f1999dad",
      "revId": "7e6adb592b67e6db12a148074bf201db1ba0adcc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7cd1ed66_b921e2b8",
        "filename": "src/chromiumos/tast/local/chrome/ash/launcher.go",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2020-01-09T00:58:29Z",
      "side": 1,
      "message": "when you bail out of this loop through errors, you return nil for the paths so nobody can delete the paths you\u0027ve already created.  Add in an extra step to delete the files created so far",
      "revId": "7e6adb592b67e6db12a148074bf201db1ba0adcc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ca55695_495f7d50",
        "filename": "src/chromiumos/tast/local/chrome/ash/launcher.go",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-01-09T01:43:15Z",
      "side": 1,
      "message": "Done, thanks for catching!\nSince such cleanup would be quite similar to the caller\u0027s code of removing them at the end, I\u0027ve changed this function to return a cleanup function as the second return value.",
      "parentUuid": "7cd1ed66_b921e2b8",
      "revId": "7e6adb592b67e6db12a148074bf201db1ba0adcc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8bb7b571_871cc01f",
        "filename": "src/chromiumos/tast/local/chrome/ash/launcher.go",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1002858
      },
      "writtenOn": "2020-01-09T21:57:19Z",
      "side": 1,
      "message": "how about asking the caller to pass in a temp directory and this function can create all files within that directory?  Then the caller is responsible for creating *and* deleting just one directory, and you don\u0027t have to pass around this extra return value",
      "parentUuid": "5ca55695_495f7d50",
      "revId": "7e6adb592b67e6db12a148074bf201db1ba0adcc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93a45d66_96b57981",
        "filename": "src/chromiumos/tast/local/chrome/ash/launcher.go",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1000479
      },
      "writtenOn": "2020-01-09T22:21:08Z",
      "side": 1,
      "message": "that is possible but the caller needs to care about the permissions;\n- the default owners of tempdir is root:root and permission 0700, the contents in the directory isn\u0027t accessible to the browser process (UID chronos:chronos)\n- chrome.go can take care of the permission/ownership of the directory for an extension (https://chromium.googlesource.com/chromiumos/platform/tast-tests.git/+/refs/heads/master/src/chromiumos/tast/local/chrome/chrome.go#490), but it does not modify its parent directory.\n\n\nUploaded a new patchset where I modified chrome package to allow that design. Please take a look at it.",
      "parentUuid": "8bb7b571_871cc01f",
      "revId": "7e6adb592b67e6db12a148074bf201db1ba0adcc",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}