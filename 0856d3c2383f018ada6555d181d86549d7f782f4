{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6db0ce94_820cdd85",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-03-09T13:15:59Z",
      "side": 1,
      "message": "Dealing with older branches in the ToT code is concerned approach, IMO, as we don\u0027t have such use cases in general.\n\nFirst of all, could you describe why you need to run tests with older branches, like m90, even if it is known to fail? What\u0027s the benefit/value that failure produces? Why it is necessary to maintain in ToT while there\u0027s no continuous ways to run it against older branches (AFAIK)?",
      "revId": "0856d3c2383f018ada6555d181d86549d7f782f4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db850628_6d31cffb",
        "filename": "src/chromiumos/tast/local/memory/available.go",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-03-09T10:06:00Z",
      "side": 1,
      "message": "I don\u0027t think we should ignore the error here. At least callers should have responsibility. But moreover, the metrics availability should be deterministic, and we should be avoid initializing if not available.",
      "revId": "0856d3c2383f018ada6555d181d86549d7f782f4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "734ebbbd_67e608c2",
        "filename": "src/chromiumos/tast/local/memory/available.go",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1516044
      },
      "writtenOn": "2022-03-09T10:09:32Z",
      "side": 1,
      "message": "please see my other comment.  In m90, resourced did not exist, so the metrics that are resulted by this function did not exist, either.\nAs for \"we should not be initializing\"  - this is exactly what this code does.. it bypasses execution very early, when we detect that resourced is not available.",
      "parentUuid": "db850628_6d31cffb",
      "revId": "0856d3c2383f018ada6555d181d86549d7f782f4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c01cf5dd_22349600",
        "filename": "src/chromiumos/tast/local/memory/available.go",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-03-09T13:15:59Z",
      "side": 1,
      "message": "\u003e this is exactly what this code does\n\nI meant, this should keep reporting errors, and if a test needs to run with m90 even if it is known to fail, I think it is callers responsibility not to call this then.\n\nUnder the regular condition (i.e. w/ ToT chrome os), in case of resourced error, we should report errors as it is not expected, right?",
      "parentUuid": "734ebbbd_67e608c2",
      "revId": "0856d3c2383f018ada6555d181d86549d7f782f4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c228e9a7_cbc296bf",
        "filename": "src/chromiumos/tast/local/memory/available.go",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1516044
      },
      "writtenOn": "2022-03-10T01:24:00Z",
      "side": 1,
      "message": "Thanks for the input, I followed your recommendation abandoned the plan to run against older version -  meaning that this change will no longer be needed.",
      "parentUuid": "c01cf5dd_22349600",
      "revId": "0856d3c2383f018ada6555d181d86549d7f782f4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1ebb1ac_c2643aa0",
        "filename": "src/chromiumos/tast/local/resourced/client.go",
        "patchSetId": 2
      },
      "lineNbr": 239,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-03-09T10:06:00Z",
      "side": 1,
      "message": "currently it\u0027s m101, and m93 is very old.\nTast test is tied to the release version, so the error case wouldn\u0027t happen (unless you plan to cherry pick this into very old branches).",
      "range": {
        "startLine": 233,
        "startChar": 1,
        "endLine": 239,
        "endChar": 2
      },
      "revId": "0856d3c2383f018ada6555d181d86549d7f782f4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fe421292_82805569",
        "filename": "src/chromiumos/tast/local/resourced/client.go",
        "patchSetId": 2
      },
      "lineNbr": 239,
      "author": {
        "id": 1516044
      },
      "writtenOn": "2022-03-09T10:09:32Z",
      "side": 1,
      "message": "This is the intention, to run this test against m90 (see the change description).",
      "parentUuid": "e1ebb1ac_c2643aa0",
      "range": {
        "startLine": 233,
        "startChar": 1,
        "endLine": 239,
        "endChar": 2
      },
      "revId": "0856d3c2383f018ada6555d181d86549d7f782f4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89c7e5d9_912daa89",
        "filename": "src/chromiumos/tast/local/resourced/client.go",
        "patchSetId": 2
      },
      "lineNbr": 239,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-03-09T13:15:59Z",
      "side": 1,
      "message": "I may not fully understand your intention.\nIf it is known to fail on m90, why do you need to run the test?\nAlso, if the test is known to fail, then you can ignore such \"intended failures\" in your side, right?\n\nStepping back, in general, there\u0027s no guarantee that test on ToT can work against older release images. The tast tests is tied to the current version of chrome os. And, that\u0027s why we make branches of tast tests together with OS releases.\n\nIf you need to run it for some reasons manually one time even if it is known to fail, i wouldn\u0027t block you of course, but making some changes to deal with such an exceptional cases sounds like a worried piece from over-all maintenance perspective.",
      "parentUuid": "fe421292_82805569",
      "range": {
        "startLine": 233,
        "startChar": 1,
        "endLine": 239,
        "endChar": 2
      },
      "revId": "0856d3c2383f018ada6555d181d86549d7f782f4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "02ea640d_9fa47e35",
        "filename": "src/chromiumos/tast/local/resourced/client.go",
        "patchSetId": 2
      },
      "lineNbr": 239,
      "author": {
        "id": 1516044
      },
      "writtenOn": "2022-03-10T01:24:00Z",
      "side": 1,
      "message": "Thanks for taking time to explain in detail. I followed your recommendation and abandoned the milestone checks.\n\nTo explain the background further:\n- The test doesn\u0027t really \"fail\" on m90... It breaks because this method of extracting metrics did not exist back then.\n- The fundamental reason to run against m90:  it\u0027s because lately, we have introduced new metrics (unrelated to this change), which did not exist in m90.  For historical purposes, I want to get those metrics from m90 (which is roughly the start of the recent push for ARCVM optimizations) and archive them.\n\nWhat I plan to do instead:\n- I\u0027ll just apply local patches, run against m90 and save the results.  That way there\u0027s no need to maintain the milestone comparison code, or deviate from tast\u0027s current branching strategy.",
      "parentUuid": "89c7e5d9_912daa89",
      "range": {
        "startLine": 233,
        "startChar": 1,
        "endLine": 239,
        "endChar": 2
      },
      "revId": "0856d3c2383f018ada6555d181d86549d7f782f4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}