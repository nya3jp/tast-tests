{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9aec5946_e8217fee",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 78,
      "author": {
        "id": 1181774
      },
      "writtenOn": "2022-09-12T21:49:10Z",
      "side": 1,
      "message": "It seems like we\u0027re just repeating the same thing we were doing in the poll immediately before.\n\nIs there a way (use a variable as a closure maybe?) you can retain the returned directory name from within the poll function? That avoids the repetition here.",
      "range": {
        "startLine": 74,
        "startChar": 0,
        "endLine": 78,
        "endChar": 2
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "72d2c1f0_9e87fef9",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 78,
      "author": {
        "id": 1527433
      },
      "writtenOn": "2022-09-13T19:50:23Z",
      "side": 1,
      "message": "Done. I can assign the \"dir\" variable in the anonymous polling function as long as it\u0027s not in the if statement. Now, we won\u0027t need to successfully run getServoKeyboardDir twice to get the servo keyboard location.",
      "parentUuid": "9aec5946_e8217fee",
      "range": {
        "startLine": 74,
        "startChar": 0,
        "endLine": 78,
        "endChar": 2
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "153df53b_f3c3e88f",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 170,
      "author": {
        "id": 1181774
      },
      "writtenOn": "2022-09-12T21:16:38Z",
      "side": 1,
      "message": "Use `defer`, so that it is guaranteed to run even if the test fails.",
      "range": {
        "startLine": 167,
        "startChar": 0,
        "endLine": 170,
        "endChar": 2
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ab6b836_b65b4aee",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 170,
      "author": {
        "id": 1527433
      },
      "writtenOn": "2022-09-13T19:50:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "153df53b_f3c3e88f",
      "range": {
        "startLine": 167,
        "startChar": 0,
        "endLine": 170,
        "endChar": 2
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "225d9ce7_bf7ca1c1",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 184,
      "author": {
        "id": 1181774
      },
      "writtenOn": "2022-09-12T21:16:38Z",
      "side": 1,
      "message": "How about we just create the `dutfs` object once and pass it around everywhere as a pointer? It seems like this setup code is common to all the helpers.",
      "range": {
        "startLine": 180,
        "startChar": 0,
        "endLine": 184,
        "endChar": 31
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "383427d2_494e1085",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 184,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2022-09-12T21:29:47Z",
      "side": 1,
      "message": "+1, Also, I think the client (cl) should be close after it is done.",
      "parentUuid": "225d9ce7_bf7ca1c1",
      "range": {
        "startLine": 180,
        "startChar": 0,
        "endLine": 184,
        "endChar": 31
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37eb4705_9c453912",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 184,
      "author": {
        "id": 1431492
      },
      "writtenOn": "2022-09-12T22:14:51Z",
      "side": 1,
      "message": "One more thing I forgot to mention, you probably cannot use the same client between suspend/resume cycle. Please make sure to use a new client after resume.",
      "parentUuid": "383427d2_494e1085",
      "range": {
        "startLine": 180,
        "startChar": 0,
        "endLine": 184,
        "endChar": 31
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "252b26c5_f6fc50c2",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 184,
      "author": {
        "id": 1527433
      },
      "writtenOn": "2022-09-13T19:50:23Z",
      "side": 1,
      "message": "Done. Now only using one `dutfs` object which gets passed to the functions that use it with a pointer. The `cl` variable declared on L61 will be closed by `defer cl.Close(ctx)` on L65. The `cl` and `fs` variables are also reassigned at L128 and L176 to get a new client after each resume.",
      "parentUuid": "37eb4705_9c453912",
      "range": {
        "startLine": 180,
        "startChar": 0,
        "endLine": 184,
        "endChar": 31
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8691243_6546d2e2",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 207,
      "author": {
        "id": 1181774
      },
      "writtenOn": "2022-09-12T21:16:38Z",
      "side": 1,
      "message": "Use filepath utils to ensure separators are handled correctly, for example (but any other package which does the same thing is equally fine): https://pkg.go.dev/path/filepath#Join",
      "range": {
        "startLine": 207,
        "startChar": 9,
        "endLine": 207,
        "endChar": 39
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "086515ab_76195262",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 207,
      "author": {
        "id": 1527433
      },
      "writtenOn": "2022-09-13T19:50:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d8691243_6546d2e2",
      "range": {
        "startLine": 207,
        "startChar": 9,
        "endLine": 207,
        "endChar": 39
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe576c0d_572a2645",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 231,
      "author": {
        "id": 1181774
      },
      "writtenOn": "2022-09-12T21:16:38Z",
      "side": 1,
      "message": "Use bool or an enum here instead (you can always translate it to whatever string is required internally).",
      "range": {
        "startLine": 231,
        "startChar": 103,
        "endLine": 231,
        "endChar": 120
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "92d19ee9_48ed7fc3",
        "filename": "src/chromiumos/tast/remote/bundles/cros/power/hid_wake.go",
        "patchSetId": 8
      },
      "lineNbr": 231,
      "author": {
        "id": 1527433
      },
      "writtenOn": "2022-09-13T19:50:23Z",
      "side": 1,
      "message": "Done. Using a bool",
      "parentUuid": "fe576c0d_572a2645",
      "range": {
        "startLine": 231,
        "startChar": 103,
        "endLine": 231,
        "endChar": 120
      },
      "revId": "8c0c03888b3e0cdefccdd46587a8aa192e7b44b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}