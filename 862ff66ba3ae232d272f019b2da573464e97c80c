{
  "comments": [
    {
      "key": {
        "uuid": "570457a8_410a1128",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 3
      },
      "lineNbr": 580,
      "author": {
        "id": 1195459
      },
      "writtenOn": "2020-01-07T09:22:26Z",
      "side": 1,
      "message": "Nya-san, I\u0027m wondering if you know whether crash logs in /home/chronos/crash is also uploaded to stainless like /var/spool/crash? I remember I saw chrome crash dump on stainless in the past but couldn\u0027t remember the location.",
      "range": {
        "startLine": 580,
        "startChar": 24,
        "endLine": 580,
        "endChar": 43
      },
      "revId": "862ff66ba3ae232d272f019b2da573464e97c80c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a3e2720_f7e57aa5",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 3
      },
      "lineNbr": 580,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-08T08:50:14Z",
      "side": 1,
      "message": "Sorry I\u0027ve just remembered that the chrome package clears /home/chronos on starting Chrome.\nhttps://cs.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/chrome/chrome.go?rcl\u003d86c25a3dcca56f46e01dadded0ab1a1ba822253c\u0026l\u003d644\n\nSo we should save to /var/spool/crash instead...",
      "parentUuid": "570457a8_410a1128",
      "range": {
        "startLine": 580,
        "startChar": 24,
        "endLine": 580,
        "endChar": 43
      },
      "revId": "862ff66ba3ae232d272f019b2da573464e97c80c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc9728cb_018788c1",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 3
      },
      "lineNbr": 580,
      "author": {
        "id": 1195459
      },
      "writtenOn": "2020-01-08T09:03:33Z",
      "side": 1,
      "message": "hmm... when called from ArcCrashCollector, it seems crash_reporter does not have permission to write to /var/spool/crash. Do you have any suggestions for the locations we can keep these crash logs?\n\nFYI, /var/spool/crash is owned by root:crash-access while /home/.../crash is owned by chronos:crash-user-access.",
      "parentUuid": "3a3e2720_f7e57aa5",
      "range": {
        "startLine": 580,
        "startChar": 24,
        "endLine": 580,
        "endChar": 43
      },
      "revId": "862ff66ba3ae232d272f019b2da573464e97c80c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db91c8c7_0cf64e13",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 3
      },
      "lineNbr": 580,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-01-08T09:26:19Z",
      "side": 1,
      "message": "Ugh... does it mean that crash_reporter runs as chronos when ARC crashes are reported? That\u0027s very unfortunate...\n\nThen how about saving ARC crashes to /home/chronos/crash (as you do in this CL) and updating the chrome package to move crashes under /home/chronos/crash to /var/spool/crash when it clears /home/chronos? It\u0027s suboptimal (I guess Tast framework should handle securing crash dumps), but it\u0027s better than losing crash dumps.",
      "parentUuid": "bc9728cb_018788c1",
      "range": {
        "startLine": 580,
        "startChar": 24,
        "endLine": 580,
        "endChar": 43
      },
      "revId": "862ff66ba3ae232d272f019b2da573464e97c80c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1563fad5_00559bef",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 3
      },
      "lineNbr": 580,
      "author": {
        "id": 1195459
      },
      "writtenOn": "2020-01-09T08:13:19Z",
      "side": 1,
      "message": "Updated. Two side notes:\n\n1. In https://crrev.com/c/1986701 we\u0027re going to default all crashes to /home/chronos/crash for test images, so we don\u0027t need the switch anymore.\n2. If we collect the crashes in chrome.New() I guess crashes from the last test may not be collected and it\u0027s not intuitive, so let\u0027s collect them in Close().",
      "parentUuid": "db91c8c7_0cf64e13",
      "range": {
        "startLine": 580,
        "startChar": 24,
        "endLine": 580,
        "endChar": 43
      },
      "revId": "862ff66ba3ae232d272f019b2da573464e97c80c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}