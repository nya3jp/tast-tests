{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9b3323fb_a7bb78ba",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2022-09-23T23:43:45Z",
      "side": 1,
      "message": "LGTM! Thanks so much for taking time to address the comments, and very excited to see this coming in.",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ce56bd8_bcbf619f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "Many thanks for the review! Can you please have another look?",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88c4f7a6_e51b6c65",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 143,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-26T04:36:00Z",
      "side": 1,
      "message": "internal",
      "range": {
        "startLine": 143,
        "startChar": 44,
        "endLine": 143,
        "endChar": 52
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c0103f7e_8a9d4200",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 143,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "88c4f7a6_e51b6c65",
      "range": {
        "startLine": 143,
        "startChar": 44,
        "endLine": 143,
        "endChar": 52
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "954b3cf4_f46cc4b2",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 145,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-26T04:36:00Z",
      "side": 1,
      "message": "fail",
      "range": {
        "startLine": 145,
        "startChar": 35,
        "endLine": 145,
        "endChar": 40
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "871135d6_04a9b1ef",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 145,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "954b3cf4_f46cc4b2",
      "range": {
        "startLine": 145,
        "startChar": 35,
        "endLine": 145,
        "endChar": 40
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d82704b3_b60369d3",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 190,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-26T04:36:00Z",
      "side": 1,
      "message": "Please update the comment.",
      "range": {
        "startLine": 190,
        "startChar": 46,
        "endLine": 190,
        "endChar": 78
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54966a54_4b227f30",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 190,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d82704b3_b60369d3",
      "range": {
        "startLine": 190,
        "startChar": 46,
        "endLine": 190,
        "endChar": 78
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d63a4aa_d1520890",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 239,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-26T04:36:00Z",
      "side": 1,
      "message": "produces",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "02c8f3c4_6ff99dc9",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 239,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1d63a4aa_d1520890",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "372e7197_02ca8fc9",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 256,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-26T04:36:00Z",
      "side": 1,
      "message": "produces",
      "range": {
        "startLine": 256,
        "startChar": 41,
        "endLine": 256,
        "endChar": 48
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b39fdf7b_8ebc20c2",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 256,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "372e7197_02ca8fc9",
      "range": {
        "startLine": 256,
        "startChar": 41,
        "endLine": 256,
        "endChar": 48
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11c45c5a_160a6720",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 271,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-26T04:36:00Z",
      "side": 1,
      "message": "If you use a switch then here we\u0027d get reminded of what the remaining case is.",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3165bac_70dbef5b",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 271,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "I agree - that would be true. However - I do not really like such long case statements either (and creating sub-functions for each case would require a lot of passed variables. \nNote also that this is the only place where this gets looked at. So if someone would add a new enum up there something would need to be added here too.\n\n\nSo unless you really want this to be a case statement I would rather like to keep it this way.",
      "parentUuid": "11c45c5a_160a6720",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0cb6701_bc1ff73c",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 271,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-28T03:52:56Z",
      "side": 1,
      "message": "My point is solely about seeing which case we\u0027re in. Right now, as a reader, I have to not only scroll up to see the definition of the enum but also check all cases handled by the previous if statements and then subtract them to see what\u0027s left. If you use a switch-case then I can immediately see it.\n\nThe points about length of code blocks and extending the enum are orthogonal to my suggestion.\n\nSo yes, I think I really want this to be a case statemtent. Thankfully, in Go, the indentation won\u0027t get deeper.",
      "parentUuid": "e3165bac_70dbef5b",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b4d2f792_a9cb46e1",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 271,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-30T20:15:21Z",
      "side": 1,
      "message": "Done\n\nNote: If someone adds a new state and it is not used here it is useless. But sure.",
      "parentUuid": "f0cb6701_bc1ff73c",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18ddd977_e92aef04",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 332,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-26T04:36:00Z",
      "side": 1,
      "message": "I think this should be: Connect to the new tab and ...",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3c522b4_b7b05fc5",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 332,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "18ddd977_e92aef04",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f9e72b2_9c7822d5",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 350,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-26T04:36:00Z",
      "side": 1,
      "message": "You can make this simpler and avoid uiauto by using ctrl+l, e.g. as in https://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/example/keyboard.go;drc\u003d8fbf2c53960bc8917a6a01fda5405cad7c17201e;l\u003d110",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfedc79c_34626be7",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 350,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "Hmm. This was from another example as provided by Hidehiko.\n\nI am not sure which of the two is more prone of being broken at some point in time as things might change. I have heard that there was some effort underway which re-thinks keyboard shortcuts. So I think it might be safer to keep it as it is now?",
      "parentUuid": "4f9e72b2_9c7822d5",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8febefd0_46a1f86d",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 350,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-28T05:23:01Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bfedc79c_34626be7",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ccdb71e7_187f0091",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 356,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-26T04:36:00Z",
      "side": 1,
      "message": "There\u0027s a good chance this will still flake sometimes.\nCan you instead wait for some condition to become true (probably depending on the openLocation mode)?",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78aab096_6d786acd",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 356,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "I would appreciate a suggestion here...",
      "parentUuid": "ccdb71e7_187f0091",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b843224d_28158bc1",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 356,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-28T05:23:01Z",
      "side": 1,
      "message": "I took a closer look but I don\u0027t understand why the sleep here makes a difference. The main test code calls navigateSingleTabToURLInLacros and then it already waits for whatever window/target it expects (depending on the mode), doesn\u0027t it?",
      "parentUuid": "78aab096_6d786acd",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "39f805fd_60b365fe",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 356,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-30T20:15:21Z",
      "side": 1,
      "message": "There are some cases which can be explicitly checked for - and there was one case we could not check for as we did not know what might go wrong.\n\nAs I do not like this particular sleep here either (even though I have seen it in e.g. memory.go being used as well), I have moved all checks into individual timed poll mechanisms per case. Makes the code longer and more complex - but it should alleviate the concerns.\n\nTo avoid the last failure for the unknown wait, I changed the test somewhat to also check there for the title. I fear that title checking might be a maintenance nightmare over time, but for now this works.",
      "parentUuid": "b843224d_28158bc1",
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93ed50c0_38bdfc50",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 379,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2022-09-23T23:43:45Z",
      "side": 1,
      "message": "(not blocking this CL submission, maybe in a follow up) now that ash.Window includes the app ID associated with the windows, you can probably do this:\n\n    return w.AppID \u003d\u003d apps.LacrosID \u0026\u0026 w.IsVisible\nalso the one above for ash windows with\n\n    return (w.AppID \u003d\u003d apps.Chrome.ID || w.AppID \u003d\u003d apps.Chromium.ID) \u0026\u0026 w.IsVisible",
      "range": {
        "startLine": 379,
        "startChar": 0,
        "endLine": 379,
        "endChar": 53
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf6ea495_07ec2730",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 379,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-26T04:36:00Z",
      "side": 1,
      "message": "Can\u0027t we use the existing abstraction wm.BrowserTypeMatch(browser.TypeLacros) here? No test should have to deal with a magic string like \"ExoShellSurface\".\n\nSame for Ash above (though there I\u0027m not sure about the application windows).",
      "parentUuid": "93ed50c0_38bdfc50",
      "range": {
        "startLine": 379,
        "startChar": 0,
        "endLine": 379,
        "endChar": 53
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a741b86_6b0c1d27",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 379,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "I tired that and it did not work - because of the application window. If not mistaken I left previously a comment about that.",
      "parentUuid": "cf6ea495_07ec2730",
      "range": {
        "startLine": 379,
        "startChar": 0,
        "endLine": 379,
        "endChar": 53
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "22898de5_3847d49f",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 389,
      "author": {
        "id": 1119597
      },
      "writtenOn": "2022-09-26T04:36:00Z",
      "side": 1,
      "message": "unsuccessful",
      "range": {
        "startLine": 389,
        "startChar": 18,
        "endLine": 389,
        "endChar": 31
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cbf9e004_591d734a",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/url_redirect.go",
        "patchSetId": 9
      },
      "lineNbr": 389,
      "author": {
        "id": 1001410
      },
      "writtenOn": "2022-09-28T02:08:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "22898de5_3847d49f",
      "range": {
        "startLine": 389,
        "startChar": 18,
        "endLine": 389,
        "endChar": 31
      },
      "revId": "de09962075f5795aad81446a2b7d09ee8b8c0789",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}