{
  "comments": [
    {
      "key": {
        "uuid": "7e36c796_e8388251",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 157,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-12-18T03:46:04Z",
      "side": 1,
      "message": "You may just use:\ntimeout :\u003d 10*time.Second\n\nYou may consider define a const in file scope:\nconst shillPollingTimeout \u003d 10*time.Second",
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1639a2c7_81a97639",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 157,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2019-12-19T05:08:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7e36c796_e8388251",
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "518c6bd4_69233694",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 158,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-12-18T03:46:04Z",
      "side": 1,
      "message": "You don\u0027t need the named return value. The reason why the example I gave you use the named return value is because it wants to override the outer scope \"path\" and it needs to define a local \"e\":\n\nfunc(ctx context.Context) (e error) {\n\tpath, e \u003d m.findMatchingService(ctx, expectProps, complete)\n\treturn e\n}\n\nif it writes:\n\nfunc(ctx context.Context) error {\n\tpath, e :\u003d m.findMatchingService(ctx, expectProps, complete)\n\treturn e\n}\n\nThen the outer path is not changed.\nIn this case, you just need to:\n\nfunc(ctx context.Context) error {\n\treturn hasShillStopped(ctx)\n}",
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00a7a5c9_e361687c",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 158,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2019-12-19T05:08:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "518c6bd4_69233694",
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e071454_d90ea896",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 168,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-12-18T03:46:04Z",
      "side": 1,
      "message": "I would suggest you put the polling mechanism here. It doesn\u0027t change much for stop. But for waiting shill being started, it can save two duplicate code piece.\n\nIt can be:\n\nfunc waitShillStopped(ctx context.Context) error {\n\treturn testing.Poll(ctx, func(ctx context.Context) (e error) {\n\t\tif findPid(ctx, \"shill) !\u003d \"\" {\n\t\t\treturn errors.New(\"shill process is not yet stopped\")\n\t\t}\n\t\treturn nil\n\t}, \u0026testing.PollOptions{Timeout: timeout})\n}",
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0293d80_66e972ba",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 168,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2019-12-19T05:08:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e071454_d90ea896",
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a356988b_a3dcc4ed",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 170,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-12-18T03:46:04Z",
      "side": 1,
      "message": "is not yet stopped",
      "range": {
        "startLine": 170,
        "startChar": 42,
        "endLine": 170,
        "endChar": 69
      },
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df2816f3_11f55e8c",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 170,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2019-12-19T05:08:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a356988b_a3dcc4ed",
      "range": {
        "startLine": 170,
        "startChar": 42,
        "endLine": 170,
        "endChar": 69
      },
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bc795fd_a8b5885d",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 178,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-12-18T03:46:04Z",
      "side": 1,
      "message": "is not started yet",
      "range": {
        "startLine": 178,
        "startChar": 42,
        "endLine": 178,
        "endChar": 69
      },
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63de35c5_c2e58e77",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 178,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2019-12-19T05:08:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7bc795fd_a8b5885d",
      "range": {
        "startLine": 178,
        "startChar": 42,
        "endLine": 178,
        "endChar": 69
      },
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "551f0520_9d28ea76",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 229,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2019-12-18T03:46:04Z",
      "side": 1,
      "message": "If we have waitShillStarted(), we can just:\n\nreturn waitShillStarted(ctx)",
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f192d974_7e2d6052",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 7
      },
      "lineNbr": 229,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2019-12-19T05:08:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "551f0520_9d28ea76",
      "revId": "8ec6b8e8a343daa6627fde975e1c24ae9e182218",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}