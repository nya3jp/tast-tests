{
  "comments": [
    {
      "key": {
        "uuid": "7da42554_4c44d7ff",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 179,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-12-04T12:16:54Z",
      "side": 1,
      "message": "nti: Enrollment.",
      "range": {
        "startLine": 179,
        "startChar": 3,
        "endLine": 179,
        "endChar": 13
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "022efdb8_38d0b54d",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 179,
      "author": {
        "id": 1313390
      },
      "writtenOn": "2019-12-16T16:11:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7da42554_4c44d7ff",
      "range": {
        "startLine": 179,
        "startChar": 3,
        "endLine": 179,
        "endChar": 13
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "301fdfaa_c6428f0b",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 547,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-12-04T12:16:54Z",
      "side": 1,
      "message": "nit: enrollment.",
      "range": {
        "startLine": 547,
        "startChar": 102,
        "endLine": 547,
        "endChar": 112
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da883b7d_72c4e447",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 547,
      "author": {
        "id": 1313390
      },
      "writtenOn": "2019-12-16T16:11:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "301fdfaa_c6428f0b",
      "range": {
        "startLine": 547,
        "startChar": 102,
        "endLine": 547,
        "endChar": 112
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d09317e2_05ec24ec",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 875,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-12-03T05:17:25Z",
      "side": 1,
      "message": "Actually, the regex matches with the suffix of the domain. Thus, domainRe does not check if \u0027@\u0027 appears exact once. E.g. \"@@foo.com\" can match with the regexp, and does not report an error.\n\nSuggestion:\n`^[^@]+@([^@])+¥.[^@]*$` if you chose regex.",
      "range": {
        "startLine": 871,
        "startChar": 1,
        "endLine": 875,
        "endChar": 2
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc72942e_90a5064c",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 875,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-12-04T12:16:54Z",
      "side": 1,
      "message": "What does `¥` mean?\n\nAlso, isn\u0027t simpler to find first `@` symbol, then remove everything before and including first `@` and after that verify that domain does not have `@`? It\u0027ll be much easier to read code.",
      "parentUuid": "d09317e2_05ec24ec",
      "range": {
        "startLine": 871,
        "startChar": 1,
        "endLine": 875,
        "endChar": 2
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a1c7383_635c20b1",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 875,
      "author": {
        "id": 1313390
      },
      "writtenOn": "2019-12-04T15:55:35Z",
      "side": 1,
      "message": "You also do not want the \".com\" or \".XXX\" portion after (and including) the final \".\" following the \"@\". There has been some discussion on previous versions about this",
      "parentUuid": "fc72942e_90a5064c",
      "range": {
        "startLine": 871,
        "startChar": 1,
        "endLine": 875,
        "endChar": 2
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a14b3a38_0102daef",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 875,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-12-05T15:44:25Z",
      "side": 1,
      "message": "Oops `¥` means `\\` (for historical reason, these shared same ascii code 0x5C, and sometimes used interchangeably).",
      "parentUuid": "4a1c7383_635c20b1",
      "range": {
        "startLine": 871,
        "startChar": 1,
        "endLine": 875,
        "endChar": 2
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0117ecc0_bf2839a2",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 875,
      "author": {
        "id": 1313390
      },
      "writtenOn": "2019-12-16T16:11:48Z",
      "side": 1,
      "message": "This is up to you guys (Oleh/Hidehiko). for now I updated the regex, but if we want to change to  a string search/split I propose something like the solution below:\n\n\n    if strings.Count(c.user, \"@\") !\u003d 1{\n        return \"\", errors.New(\"invalid domain. Must have exactly 1 \u0027@\u0027\")\n    }\n    substr :\u003d c.user[strings.Index(c.user, \"@\") + 1: strings.LastIndex(c.user, \".\")]\n    if strings.Count(substr, \".\") \u003c 1 {\n        return \"\", errors.New(`invalid domain. Must have at least 1 \".\" provided`)\n    }\n    return (strings.Replace(substr, \".\", \"\", -1))\n\n\n\nThoughts?",
      "parentUuid": "a14b3a38_0102daef",
      "range": {
        "startLine": 871,
        "startChar": 1,
        "endLine": 875,
        "endChar": 2
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43580e80_c7e3e673",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 875,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-12-17T16:20:33Z",
      "side": 1,
      "message": "I think regex is much simpler, at the moment. Any thoughts, Oleh?\n\n\u003e     if strings.Count(c.user, \"@\") !\u003d 1{\n        return \"\", errors.New(\"invalid domain. Must have exactly 1 \u0027@\u0027\")\n    }\n    substr :\u003d c.user[strings.Index(c.user, \"@\") + 1: strings.LastIndex(c.user, \".\")]\n    if strings.Count(substr, \".\") \u003c 1 {\n        return \"\", errors.New(`invalid domain. Must have at least 1 \".\" provided`)\n    }\n    return (strings.Replace(substr, \".\", \"\", -1))\n\nThis won\u0027t work. bad examples are \".@abc\" (invalid case, will panic), and \"foo@gmail.com\" (valid but will return an error, etc.\ncould you define the behavior for any possible input, decide the precise behavior (incl. returning an expected value for valid input cases, and returning an error for invalid input cases, no panic pls), and implement so in precise?",
      "parentUuid": "0117ecc0_bf2839a2",
      "range": {
        "startLine": 871,
        "startChar": 1,
        "endLine": 875,
        "endChar": 2
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bbeef0f_a6d22be1",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 875,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-12-17T16:48:44Z",
      "side": 1,
      "message": "I am ok with regex if there will be comment with few examples.",
      "parentUuid": "43580e80_c7e3e673",
      "range": {
        "startLine": 871,
        "startChar": 1,
        "endLine": 875,
        "endChar": 2
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce111788_f90d2259",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 879,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2019-12-04T12:16:54Z",
      "side": 1,
      "message": "nit: waits",
      "range": {
        "startLine": 879,
        "startChar": 32,
        "endLine": 879,
        "endChar": 41
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe896a4d_438a096b",
        "filename": "src/chromiumos/tast/local/chrome/chrome.go",
        "patchSetId": 19
      },
      "lineNbr": 879,
      "author": {
        "id": 1313390
      },
      "writtenOn": "2019-12-16T16:11:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ce111788_f90d2259",
      "range": {
        "startLine": 879,
        "startChar": 32,
        "endLine": 879,
        "endChar": 41
      },
      "revId": "7f8da9279cfee9e788f572fcaefaafdd18aa607a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}