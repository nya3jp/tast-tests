{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "42a6094c_4c5935c8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2022-06-08T23:36:09Z",
      "side": 1,
      "message": "Could you add more details about what was changed here?\nI think that the widest impact of this change is that it adds browser type attribute to the Browser object. (Browser object is used more often than the CUJ recorder.)\n\nAnd then we use Browser object with the new type attribute to store metrics per browser type in the CUJ recorder.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 64
      },
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d0795f1d_0c64c5d3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2022-06-08T22:18:34Z",
      "side": 1,
      "message": "I don\u0027t understand this change. Could you, please, elaborate?\n\nI.e. if this is a way to \"automatically switch between Ash and Lacros when collecting metrics\" I don\u0027t think this is correct approach, i.e. we should not be replacing everything with cr.Browser(). We should go through each test, split the metrics and set up test connections.",
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "28f700c5_8de9c9c2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1424719
      },
      "writtenOn": "2022-06-08T22:36:22Z",
      "side": 1,
      "message": "Hi Alexander, thanks for the review. This CL is to address the comment from Hidehiko on https://crrev.com/c/3656132 that we should use browser.Browser to track the metrics collection, in stead of using chrome.TestConn. (see [this comment](https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/3656132/comments/3754f6f5_a1622418)).\n\nThis CL is not intended to split each CUJ\u0027s UMA collection. It just changes the recorder.AddCollectedMetrics() func signature.",
      "parentUuid": "d0795f1d_0c64c5d3",
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84ab60f6_60431a48",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2022-06-08T23:14:28Z",
      "side": 1,
      "message": "I read that comment differently, I think he suggested using Browser type defined here: \nhttps://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast-tests/src/chromiumos/tast/local/chrome/browser/browser.go?q\u003dbrowser.go\n\nHidehiko-san, could you help us understand what your idea was?",
      "parentUuid": "28f700c5_8de9c9c2",
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "afc495ff_871d0513",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2022-06-08T23:22:56Z",
      "side": 1,
      "message": "Ah, ok, I was wrong.\nYou actually implemented everything that was needed.",
      "parentUuid": "84ab60f6_60431a48",
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3fc0bd43_a180386c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1424719
      },
      "writtenOn": "2022-06-08T23:28:06Z",
      "side": 1,
      "message": "Thanks Alexander! Actually after reading your comment, I realized I need to update https://crrev.com/c/3656132 to use browser Type as the map key, instead of *browser.Browser. I\u0027ll change that!",
      "parentUuid": "afc495ff_871d0513",
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce3d3060_db794d7a",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/google_slides_cuj.go",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2022-06-08T23:36:09Z",
      "side": 1,
      "message": "I feel that bBrowser is confusing.\nCould we maybe call it \"br\" as I see in some tests below?",
      "range": {
        "startLine": 71,
        "startChar": 5,
        "endLine": 71,
        "endChar": 13
      },
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "472ed552_2eedea86",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/quick_check_cuj.go",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2022-06-08T22:18:34Z",
      "side": 1,
      "message": "I don\u0027t think this is correct change.\n\nI think that \"Ash.Smoothness.PercentDroppedFrames_1sWindow\" should be collected from Ash.",
      "range": {
        "startLine": 107,
        "startChar": 40,
        "endLine": 107,
        "endChar": 53
      },
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "00e4cb16_bb477e9b",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/quick_check_cuj.go",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1424719
      },
      "writtenOn": "2022-06-08T22:36:22Z",
      "side": 1,
      "message": "This CL doesn\u0027t change the way of each test\u0027s UMA collection. It just changes the recorder.AddCollectedMetrics() API to use *Browser instead of *TestConn. The test originally collects metrics from Ash, so it keeps the Ash browser here.",
      "parentUuid": "472ed552_2eedea86",
      "range": {
        "startLine": 107,
        "startChar": 40,
        "endLine": 107,
        "endChar": 53
      },
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82e6081c_0e9fffaf",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/quick_check_cuj.go",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2022-06-08T23:18:22Z",
      "side": 1,
      "message": "\u003e This CL doesn\u0027t change the way of each test\u0027s UMA collection. It just changes the recorder.AddCollectedMetrics() API to use *Browser instead of *TestConn. The test originally collects metrics from Ash, so it keeps the Ash browser here.\n\n\nIt does not keep the original behavior. See line 77 in this file.\nI.e. lacros.Browser() will return lacros connection, won\u0027t it?",
      "parentUuid": "00e4cb16_bb477e9b",
      "range": {
        "startLine": 107,
        "startChar": 40,
        "endLine": 107,
        "endChar": 53
      },
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a89f0426_9fddf25d",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/quick_check_cuj.go",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2022-06-08T23:22:56Z",
      "side": 1,
      "message": "Ah, it seems that I was wrong. Yes, cr.Browser() will always be Ash.",
      "parentUuid": "82e6081c_0e9fffaf",
      "range": {
        "startLine": 107,
        "startChar": 40,
        "endLine": 107,
        "endChar": 53
      },
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ddc7bece_8d30ca7a",
        "filename": "src/chromiumos/tast/local/ui/cujrecorder/recorder.go",
        "patchSetId": 2
      },
      "lineNbr": 461,
      "author": {
        "id": 1003168
      },
      "writtenOn": "2022-06-08T23:36:09Z",
      "side": 1,
      "message": "nit: recording",
      "range": {
        "startLine": 461,
        "startChar": 19,
        "endLine": 461,
        "endChar": 25
      },
      "revId": "caa91dd86ce27048673cac95964dd5e5fe03abe4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}