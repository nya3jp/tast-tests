{
  "comments": [
    {
      "key": {
        "uuid": "0002e0a7_b52fd370",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 457,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-17T18:04:55Z",
      "side": 1,
      "message": "this is out of date",
      "range": {
        "startLine": 457,
        "startChar": 51,
        "endLine": 457,
        "endChar": 81
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36532d11_d8c875f2",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 457,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-01-21T23:00:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0002e0a7_b52fd370",
      "range": {
        "startLine": 457,
        "startChar": 51,
        "endLine": 457,
        "endChar": 81
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fca3f88_c9ba57b6",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 458,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-17T18:04:55Z",
      "side": 1,
      "message": "I think you can reword this to describe the caller behavior: the caller doesn\u0027t really care *how* we\u0027re stopping the D-Bus monitor -- you should just describe that the returned function will stop the D-Bus monitor and return the called methods and/or error.",
      "range": {
        "startLine": 458,
        "startChar": 3,
        "endLine": 458,
        "endChar": 131
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60079d6e_7a98b612",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 458,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-01-21T23:00:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9fca3f88_c9ba57b6",
      "range": {
        "startLine": 458,
        "startChar": 3,
        "endLine": 458,
        "endChar": 131
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d2ce293_49ad01bd",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 459,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-17T18:04:55Z",
      "side": 1,
      "message": "no longer needed",
      "range": {
        "startLine": 459,
        "startChar": 41,
        "endLine": 459,
        "endChar": 55
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17ac529e_96949f71",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 459,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-17T18:04:55Z",
      "side": 1,
      "message": "feels like dbusEventMonitor() should also return its own errors directly, so the caller doesn\u0027t have to wait all the way until stop() is called before seeing that we failed to start the monitor at all. i.e., the return signature here would be:\n\n  (func() ([]string, error), error)",
      "range": {
        "startLine": 459,
        "startChar": 57,
        "endLine": 459,
        "endChar": 81
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8cee276a_cbf95aeb",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 459,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-01-21T23:00:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17ac529e_96949f71",
      "range": {
        "startLine": 459,
        "startChar": 57,
        "endLine": 459,
        "endChar": 81
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e5c5a470_cd48a0e3",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 459,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-01-21T23:00:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7d2ce293_49ad01bd",
      "range": {
        "startLine": 459,
        "startChar": 41,
        "endLine": 459,
        "endChar": 55
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ee816a5_d92d60cc",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 462,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-17T18:04:55Z",
      "side": 1,
      "message": "this feels like it should move down, to line 474, to make it clear what error line 475 is checking",
      "range": {
        "startLine": 462,
        "startChar": 0,
        "endLine": 462,
        "endChar": 32
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcfcf155_3f6ca049",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 462,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-01-21T23:00:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6ee816a5_d92d60cc",
      "range": {
        "startLine": 462,
        "startChar": 0,
        "endLine": 462,
        "endChar": 32
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "442aea20_8e9642fc",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 479,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-17T18:04:55Z",
      "side": 1,
      "message": "This starts the monitor, but we can\u0027t be totally sure it has started processing D-Bus events yet -- and then we\u0027re still returning. I think this leaves a potential race: that we\u0027ve moved on to perform our test actions, and dbus-monitor may miss them.\n\nTechnically, we probably need another dummy D-Bus call after this, and we only continue after dbus-monitor has seen it. You could probably do this in the goroutine, adding another synchronization step.",
      "range": {
        "startLine": 479,
        "startChar": 0,
        "endLine": 479,
        "endChar": 36
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82c87416_c863e3bd",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 479,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-17T18:12:16Z",
      "side": 1,
      "message": "This is very similar to the TODO Yen-Lin put in for the udev monitoring in udev_rename.go:\n\n        // TODO(yenlinlai): Currently we don\u0027t yet have a good way to wait from restarting\n        // udev until having all rules processed. \"udevadm settle\" may not properly wait if\n        // udev has not gotten into event processing loop. Some examples can be found in\n        // crrev.com/c/1725184.\n        // Our current work-around is to watch the first output of \"udevadm monitor -u\" as\n        // the ready signal. However, there\u0027s still some possible race if udev finishes all\n        // update before \"udevadm monitor\" starts. In this case, it may not catch any event\n        // but wait until timeout error.",
      "parentUuid": "442aea20_8e9642fc",
      "range": {
        "startLine": 479,
        "startChar": 0,
        "endLine": 479,
        "endChar": 36
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0458b5f_9396bc60",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 479,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-01-21T23:00:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82c87416_c863e3bd",
      "range": {
        "startLine": 479,
        "startChar": 0,
        "endLine": 479,
        "endChar": 36
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a393439_13584d34",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 531,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-17T18:04:55Z",
      "side": 1,
      "message": "this arg isn\u0027t used any more",
      "range": {
        "startLine": 531,
        "startChar": 96,
        "endLine": 531,
        "endChar": 110
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8844ab9_76600a36",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/shill_init_scripts.go",
        "patchSetId": 21
      },
      "lineNbr": 531,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-01-21T23:00:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3a393439_13584d34",
      "range": {
        "startLine": 531,
        "startChar": 96,
        "endLine": 531,
        "endChar": 110
      },
      "revId": "7644a7db0795fbdda6c94af7b92a608ec97235a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}