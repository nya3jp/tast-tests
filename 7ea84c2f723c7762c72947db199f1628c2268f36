{
  "comments": [
    {
      "key": {
        "uuid": "1e394bbd_c5574a40",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/hal3_service.go",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-15T08:54:11Z",
      "side": 1,
      "message": "Hi reviewers,\nNeed some advice on how to generate output directory similar to |s.OutDir()| here.\nThe current OutDir generated from |ioutil.TempDir()| may hit permission denied problem because of our gtest binary use \"arc-camera\" uid here:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/camera/hal3/hal3.go;rcl\u003d04f18489c080c1ecf43bbdd23e5caef641815c91;l\u003d159\n\nI would like to follow the same logic generating |OutDir| for client side test,\nbut failed to find out where that generation logic is.\nOr we can just chown directory to arc-camera, or any better suggestion?",
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36fe488b_b83f7261",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/hal3_service.go",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-15T09:52:03Z",
      "side": 1,
      "message": "i guess it\u0027s better to manually chown directory to arc-camera and don\u0027t create your own TempDir function",
      "parentUuid": "1e394bbd_c5574a40",
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ff0de70_74454cac",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/hal3_service.go",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-15T09:52:03Z",
      "side": 1,
      "message": "nit: hal3_outdir_*",
      "range": {
        "startLine": 47,
        "startChar": 36,
        "endLine": 47,
        "endChar": 42
      },
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f56b5f9_f2d3afaa",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/hal3_service.go",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-16T03:46:40Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "36fe488b_b83f7261",
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0fcf6061_44affd4b",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/hal3_service.go",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-16T03:46:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3ff0de70_74454cac",
      "range": {
        "startLine": 47,
        "startChar": 36,
        "endLine": 47,
        "endChar": 42
      },
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8b18b196_c3e82b98",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/hal3_service.go",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-15T08:43:08Z",
      "side": 1,
      "message": "Would it make sense to return the result of RunTest as part of RunTestResponse? It\u0027s more understandable than returning both a response and an error.",
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b54afb18_d3e642de",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/hal3_service.go",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-15T09:15:15Z",
      "side": 1,
      "message": "Sound reasonable to me. But to pass error as part of Response via protobuf, we need to define our own Error type. And the error type and error format emitted from |RunTest| here:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/camera/hal3/hal3.go;rcl\u003d04f18489c080c1ecf43bbdd23e5caef641815c91;l\u003d271\nare quite complex.\nIt may need a quite large mount of work to define those error and error information explicitly.",
      "parentUuid": "8b18b196_c3e82b98",
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9cb571e7_f23d3111",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/hal3_service.go",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-15T11:55:51Z",
      "side": 1,
      "message": "Sending both an error and a response seems to be incorrect: https://github.com/grpc/grpc/issues/12824\n\nIs it not sufficient to forward the error string?",
      "parentUuid": "b54afb18_d3e642de",
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53803c81_93f3f94b",
        "filename": "src/chromiumos/tast/local/bundles/cros/camera/hal3_service.go",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-16T03:46:40Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9cb571e7_f23d3111",
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2b5bcf5c_f8bb44b2",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 5
      },
      "lineNbr": 152,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-15T08:43:21Z",
      "side": 1,
      "message": "nit #1: 5 * time.Second\n\nnit #2: 5 seconds probably too short, what about 20? How long it usually takes to copy file?",
      "range": {
        "startLine": 152,
        "startChar": 37,
        "endLine": 152,
        "endChar": 50
      },
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1adb5812_90c48b02",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 5
      },
      "lineNbr": 152,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-16T03:46:40Z",
      "side": 1,
      "message": "Other tests collect /var/log/message use 5 seconds like here:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/remote/bundles/cros/crash/early_crash.go;rcl\u003d771f90fdc7b37235c2b2529298850ec5dc7644a5;l\u003d116\n\nCurrently, we only collect gtest xml logs and perf logs. The size should be smaller than /var/log/message.",
      "parentUuid": "2b5bcf5c_f8bb44b2",
      "range": {
        "startLine": 152,
        "startChar": 37,
        "endLine": 152,
        "endChar": 50
      },
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a55083f_e719bfb7",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 5
      },
      "lineNbr": 161,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-15T08:43:08Z",
      "side": 1,
      "message": "See proposal in service",
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb20fc0f_b7d8a8e5",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 5
      },
      "lineNbr": 161,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-16T03:46:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1a55083f_e719bfb7",
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ec422771_566dea6a",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 5
      },
      "lineNbr": 162,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-15T08:43:21Z",
      "side": 1,
      "message": "nit: s.Log",
      "range": {
        "startLine": 162,
        "startChar": 2,
        "endLine": 162,
        "endChar": 20
      },
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8999167_4d0c881e",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 5
      },
      "lineNbr": 162,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-16T03:46:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ec422771_566dea6a",
      "range": {
        "startLine": 162,
        "startChar": 2,
        "endLine": 162,
        "endChar": 20
      },
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "93bda7f8_a979bfed",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 5
      },
      "lineNbr": 164,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-06-15T08:43:21Z",
      "side": 1,
      "message": "nit: let\u0027s simplify this block:\n\nif response \u003d\u003d nil {\n    s.Log(ctx, \"Remote call RunTest() on DUT return nil response\")\n    return\n}\n\nif ....",
      "range": {
        "startLine": 161,
        "startChar": 1,
        "endLine": 164,
        "endChar": 0
      },
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a02c92ee_bbbecc29",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 5
      },
      "lineNbr": 164,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-16T03:46:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "93bda7f8_a979bfed",
      "range": {
        "startLine": 161,
        "startChar": 1,
        "endLine": 164,
        "endChar": 0
      },
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "09d4eabf_bc6d51fb",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 5
      },
      "lineNbr": 168,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-15T08:43:08Z",
      "side": 1,
      "message": "Errorf",
      "range": {
        "startLine": 168,
        "startChar": 5,
        "endLine": 168,
        "endChar": 11
      },
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e5b9914_15c50955",
        "filename": "src/chromiumos/tast/remote/bundles/cros/camera/hal3_remote.go",
        "patchSetId": 5
      },
      "lineNbr": 168,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2020-06-16T03:46:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "09d4eabf_bc6d51fb",
      "range": {
        "startLine": 168,
        "startChar": 5,
        "endLine": 168,
        "endChar": 11
      },
      "revId": "7ea84c2f723c7762c72947db199f1628c2268f36",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}