{
  "comments": [
    {
      "key": {
        "uuid": "41101070_751ec2e0",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-02-07T23:46:35Z",
      "side": 1,
      "message": "Please use testexec instead:\n\nhttps://cs.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/testexec/testexec.go?type\u003dcs\u0026q\u003dtestexec+file:%5Esrc/platform/+package:%5Echromeos_public$\u0026g\u003d0\u0026l\u003d5",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 10
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "575f0691_ba2601b9",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-02-08T00:34:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "41101070_751ec2e0",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 10
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a180899_3a2d2dfe",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 13,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-02-07T23:46:35Z",
      "side": 1,
      "message": "Just use builtin library \"context\"",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 27
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a7a28a5_95d4e5e4",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 13,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-02-08T00:34:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9a180899_3a2d2dfe",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 27
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "835be390_d3abb3a9",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 33,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-02-07T23:46:35Z",
      "side": 1,
      "message": "please put into function",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 33,
        "endChar": 1
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6e4e98c_e248449a",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 33,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-02-08T00:34:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "835be390_d3abb3a9",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 33,
        "endChar": 1
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "398f3475_5d4bf2db",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 91,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-02-07T23:46:35Z",
      "side": 1,
      "message": "even after kill you should Wait().",
      "range": {
        "startLine": 91,
        "startChar": 12,
        "endLine": 91,
        "endChar": 30
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "507d354c_1f7c6382",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 91,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-02-08T00:34:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "398f3475_5d4bf2db",
      "range": {
        "startLine": 91,
        "startChar": 12,
        "endLine": 91,
        "endChar": 30
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "65586835_22b54b91",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 122,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-02-07T23:46:35Z",
      "side": 1,
      "message": "Replace `_` to `ctx` since function returns new context which you will use instead of the old one. See function comment: https://cs.corp.google.com/chromeos_public/src/platform/tast/src/chromiumos/tast/timing/timing.go?type\u003dcs\u0026q\u003dtiming+file:%5Esrc/platform/+package:%5Echromeos_public$\u0026g\u003d0\u0026l\u003d71",
      "range": {
        "startLine": 122,
        "startChar": 1,
        "endLine": 122,
        "endChar": 2
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a2cb969_dc43d82f",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 122,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-02-08T00:34:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "65586835_22b54b91",
      "range": {
        "startLine": 122,
        "startChar": 1,
        "endLine": 122,
        "endChar": 2
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85c13c7e_43397a12",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 137,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-02-07T23:46:35Z",
      "side": 1,
      "message": "If you remove all logic about killing process after this line, you can put st.End() into defer right after line 122.",
      "range": {
        "startLine": 137,
        "startChar": 0,
        "endLine": 137,
        "endChar": 9
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "26e138ee_24d211bd",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 137,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-02-08T00:34:10Z",
      "side": 1,
      "message": "Intention is to log time passing for boot, not including the generation of packs.\nBTW. With this approach I don\u0027t see time in the output of the test. I understand it may come to  some json file, however it is convenient to see directly in log.",
      "parentUuid": "85c13c7e_43397a12",
      "range": {
        "startLine": 137,
        "startChar": 0,
        "endLine": 137,
        "endChar": 9
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f961d023_72706dcc",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 137,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-02-10T15:01:23Z",
      "side": 1,
      "message": "Anyway, I would recommend keep timming.Start to put result into JSON. Also, you can add some log message before and after, so you will see time for 2 log messages and calculate the difference in your head. Does it work for you?\n\nNow Tast collects timings into JSON file, so if there will be some UI dashboard you can monitor this metric.",
      "parentUuid": "26e138ee_24d211bd",
      "range": {
        "startLine": 137,
        "startChar": 0,
        "endLine": 137,
        "endChar": 9
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "645d8469_4b9408cc",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 137,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-02-10T18:38:44Z",
      "side": 1,
      "message": "This is not intended to monitor via dashboard. It was just to log in readable form that does not require extra calculation. It is useful while working on this feature. However if you against this, I completely removed this from CL and if needed would have local change.",
      "parentUuid": "f961d023_72706dcc",
      "range": {
        "startLine": 137,
        "startChar": 0,
        "endLine": 137,
        "endChar": 9
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c38be9c_bd2722f2",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 146,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-02-07T23:46:35Z",
      "side": 1,
      "message": "Looks like it will be OK to move this into defer.\n\nSo, in defer statement you just need to put Signal() and Wait().",
      "range": {
        "startLine": 139,
        "startChar": 0,
        "endLine": 146,
        "endChar": 2
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "956836a8_f916dca5",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 146,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-02-08T00:34:10Z",
      "side": 1,
      "message": "It would look bad, significant portion of logic goes into the middle of function. Logically it should be at the end. I do understand closing some files or similar task, but here it is actual payload to wait required data generated.\nMore, how would it possible to return error in case we cannot wait or signal process. IIUC defer function returns nothing.",
      "parentUuid": "9c38be9c_bd2722f2",
      "range": {
        "startLine": 139,
        "startChar": 0,
        "endLine": 146,
        "endChar": 2
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ca61262_658e41ad",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 146,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-02-10T15:01:23Z",
      "side": 1,
      "message": "There is no way to return error that happened inside defer, you can add log message only.\n\nAnyway, it sound reasonable to have shut down logic inside defer statement and only in one place.\n\n\nHere is good example of using function inside defer: https://cs.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/wilco/api_handle_power_event.go?q\u003dshorten+file:go+wilco\u0026sq\u003dpackage:chromeos_public\u0026dr\u003dC\u0026l\u003d40\n\n\nAlso, it\u0027s useful to save some time for clean up in case if there will context deadline:\nhttps://cs.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/wilco/api_handle_power_event.go?q\u003dshorten+file:go+wilco\u0026sq\u003dpackage:chromeos_public\u0026l\u003d72\u0026dr\u003dC",
      "parentUuid": "956836a8_f916dca5",
      "range": {
        "startLine": 139,
        "startChar": 0,
        "endLine": 146,
        "endChar": 2
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e49e7f25_44769976",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ureadahead_pack_service.go",
        "patchSetId": 7
      },
      "lineNbr": 146,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-02-10T18:38:44Z",
      "side": 1,
      "message": "This service is designed to return error. Not generating pack is indeed error. That is why waiting for pack here is must. I moved this to helper function.",
      "parentUuid": "9ca61262_658e41ad",
      "range": {
        "startLine": 139,
        "startChar": 0,
        "endLine": 146,
        "endChar": 2
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f1f6d2a_cfadfb99",
        "filename": "src/chromiumos/tast/remote/bundles/cros/arc/data_collector.go",
        "patchSetId": 7
      },
      "lineNbr": 128,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-02-07T23:22:31Z",
      "side": 1,
      "message": "ooohhh, it\u0027s a valid formatted Go code. But don\u0027t you want to put `,\\n` after `true` here? Or you can do `request :\u003d arcpb.UreadaheadPackRequest{ InitialBoot: true }`",
      "range": {
        "startLine": 128,
        "startChar": 2,
        "endLine": 128,
        "endChar": 19
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a6f2a3b2_55c66f32",
        "filename": "src/chromiumos/tast/remote/bundles/cros/arc/data_collector.go",
        "patchSetId": 7
      },
      "lineNbr": 128,
      "author": {
        "id": 1136699
      },
      "writtenOn": "2020-02-08T00:34:10Z",
      "side": 1,
      "message": "version without \u0027,\u0027 did not compile. That is why I moved } after true.",
      "parentUuid": "6f1f6d2a_cfadfb99",
      "range": {
        "startLine": 128,
        "startChar": 2,
        "endLine": 128,
        "endChar": 19
      },
      "revId": "fe7465db3f3bca458a46ef63e61ecbe5ace09f45",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}