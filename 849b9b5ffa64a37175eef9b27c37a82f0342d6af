{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2634eaf0_400b5242",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2022-11-03T18:45:56Z",
      "side": 1,
      "message": "Feel like we have libdrm on all platforms nowadays. \nWhat about running kmstest/modetst on all platforms then we can decide what to do with the failing one?\n\nWDYT?",
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ca6a1379_c581e873",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000221
      },
      "writtenOn": "2022-11-11T02:07:29Z",
      "side": 1,
      "message": "That is what I was going to write as well.",
      "parentUuid": "2634eaf0_400b5242",
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9f0180d0_686f271a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000221
      },
      "writtenOn": "2022-11-11T02:07:29Z",
      "side": 1,
      "message": "So libdrm.ebuild adds 4 binaries to the release build.\n\nequery-volteer f libdrm | grep test\n/usr/bin/kmstest\n/usr/bin/modetest\n/usr/bin/proptest\n/usr/bin/vbltest\n\nMake one Param test per binary. Run it, save the output to a file.\nIf there was no error you are done.\n\nMain complications:\n- vbltest doesn\u0027t terminate\n- some tests need Chrome or not\n\nBut we can throw the tests into the lab and sort the hwdeps out later as needed.",
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee67cb4a_2414933b",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2022-11-03T18:24:48Z",
      "side": 1,
      "message": "global variable would be shared across all files within the package graphics folder.\nAvoid using generic names to prevent collision.",
      "range": {
        "startLine": 18,
        "startChar": 1,
        "endLine": 18,
        "endChar": 5
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5775c077_e0f3ef46",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2022-11-03T18:24:48Z",
      "side": 1,
      "message": "simply use nil for empty string list.",
      "range": {
        "startLine": 35,
        "startChar": 14,
        "endLine": 35,
        "endChar": 24
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d91ccc70_440d6f68",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2022-11-03T18:24:48Z",
      "side": 1,
      "message": "The string is short, just put []string{\"kmstest\"} here.\nditto to MediaTek, Qualcomm, Rockchip.",
      "range": {
        "startLine": 37,
        "startChar": 14,
        "endLine": 37,
        "endChar": 25
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab630b2c_5d70b404",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2022-11-03T18:24:48Z",
      "side": 1,
      "message": "Do we still have this?",
      "range": {
        "startLine": 37,
        "startChar": 3,
        "endLine": 37,
        "endChar": 10
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa1227ed_bd243473",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000221
      },
      "writtenOn": "2022-11-11T02:07:29Z",
      "side": 1,
      "message": "A quick smoke check using the binaries shipping with libdrm.",
      "range": {
        "startLine": 51,
        "startChar": 17,
        "endLine": 51,
        "endChar": 77
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7747736b_7c04a3bc",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1000221
      },
      "writtenOn": "2022-11-11T02:07:29Z",
      "side": 1,
      "message": "Use Param for different tests, plus hwdeps for different devices.\n\nequery-volteer f libdrm | grep test\n/usr/bin/kmstest\n/usr/bin/modetest\n/usr/bin/proptest\n/usr/bin/vbltest\n\nOne problem is that vbltest doesn\u0027t terminate except when failing. And it needs Chrome.",
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4651d264_de238926",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2022-11-03T18:24:48Z",
      "side": 1,
      "message": "I think this is arch, x86_64, arm, etc. It wouldn\u0027t return mediatek etc.",
      "range": {
        "startLine": 63,
        "startChar": 4,
        "endLine": 63,
        "endChar": 7
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e4249eb3_ebad2919",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 63,
      "author": {
        "id": 1000221
      },
      "writtenOn": "2022-11-11T02:07:29Z",
      "side": 1,
      "message": "These binaries should be there for every kernel now.\nBut IIUC they may not be there for every chipset.\nLets try to just run each binary everywhere and then sort it out.",
      "parentUuid": "4651d264_de238926",
      "range": {
        "startLine": 63,
        "startChar": 4,
        "endLine": 63,
        "endChar": 7
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88ed1bde_8441a9d0",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2022-11-03T18:24:48Z",
      "side": 1,
      "message": "Let\u0027s make testCommon local variable or append([]string{\"modetest\"}, ...)?",
      "range": {
        "startLine": 74,
        "startChar": 17,
        "endLine": 74,
        "endChar": 27
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28c98894_be2c5069",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2022-11-03T18:24:48Z",
      "side": 1,
      "message": "We don\u0027t want to stop/start ui for every tests that doesn\u0027t use chrome. Let\u0027s simply use the fixture \"graphicsNoChrome\".",
      "range": {
        "startLine": 76,
        "startChar": 18,
        "endLine": 76,
        "endChar": 59
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b509aa9d_b7d7ef69",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2022-11-03T18:24:48Z",
      "side": 1,
      "message": "If we don\u0027t need stdout, stderr, simply use Run(testexec.DumpLogOnError). \n```\nif err :\u003d testexec.CommandContext(ctx, ...).Run(...); err !\u003d nil {\n    s.Error(\"%v was not found\", test)\n    continue\n}\n\n// Run the command.\n```\n\nAlso do you have any idea where is \"kmstest\" comes from? Can we assume it is on the test image by default?",
      "range": {
        "startLine": 81,
        "startChar": 2,
        "endLine": 81,
        "endChar": 8
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e84f142_d5c892fb",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2022-11-03T18:45:56Z",
      "side": 1,
      "message": "Ok. kmstest is installed by libdrm ebuild, which is listed as CROS_RDEPEND in target-chromium-os-test-9999.ebuild.\n\nI think we can simply assume it is installed.",
      "parentUuid": "b509aa9d_b7d7ef69",
      "range": {
        "startLine": 81,
        "startChar": 2,
        "endLine": 81,
        "endChar": 8
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "532c6029_ba80baa0",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1000221
      },
      "writtenOn": "2022-11-11T02:07:29Z",
      "side": 1,
      "message": "They are actually installed by release images from all I can tell.",
      "parentUuid": "8e84f142_d5c892fb",
      "range": {
        "startLine": 81,
        "startChar": 2,
        "endLine": 81,
        "endChar": 8
      },
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ca58308_587d64a3",
        "filename": "src/chromiumos/tast/local/bundles/cros/graphics/lib_drm.go",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2022-11-03T18:24:48Z",
      "side": 1,
      "message": "Use s.Error, it wouldn\u0027t abort the tests but would record the error.",
      "revId": "849b9b5ffa64a37175eef9b27c37a82f0342d6af",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}