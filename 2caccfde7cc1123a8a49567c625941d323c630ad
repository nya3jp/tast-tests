{
  "comments": [
    {
      "key": {
        "uuid": "97ed3420_9d7a418b",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/config.go",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 1266306
      },
      "writtenOn": "2020-04-20T20:23:53Z",
      "side": 1,
      "message": "Instead of using NewConfigFactory, can you just create json files for unit testing in another directory and pass that directory to firmwareNewConfig?  That way real tests can keep using firmware.ConfigDir, while unit tests can use its own ConfigDir with whatever it needs.",
      "revId": "2caccfde7cc1123a8a49567c625941d323c630ad",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1dc9834c_76bc72f1",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/config.go",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-04-20T20:36:15Z",
      "side": 1,
      "message": "I looked into doing it that way. But, the unit test needs access to s.DataPath in order to find that data directory, which means it needs to create a testing.State. Because newState, newRootState, and rootState are all not exported in tast/src/chromiumos/tast/testing/state.go, I thought that this would not be possible.",
      "parentUuid": "97ed3420_9d7a418b",
      "revId": "2caccfde7cc1123a8a49567c625941d323c630ad",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da3a0344_15a40f33",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/config.go",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 1266306
      },
      "writtenOn": "2020-04-20T21:07:34Z",
      "side": 1,
      "message": "Can you use testutil to create a temp directory then write the json file contents to it, then use that temp directory as the config dir?  https://godoc.org/chromium.googlesource.com/chromiumos/platform/tast.git/src/chromiumos/tast/testutil",
      "parentUuid": "1dc9834c_76bc72f1",
      "revId": "2caccfde7cc1123a8a49567c625941d323c630ad",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc29c20a_555eeef8",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/config.go",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 1326157
      },
      "writtenOn": "2020-04-20T23:16:22Z",
      "side": 1,
      "message": "Great find! I think that will work. I\u0027ll upload a new patch set in the next few days.",
      "parentUuid": "da3a0344_15a40f33",
      "revId": "2caccfde7cc1123a8a49567c625941d323c630ad",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}