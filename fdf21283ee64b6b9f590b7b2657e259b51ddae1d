{
  "comments": [
    {
      "key": {
        "uuid": "56a6539d_401e0ec8",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 43,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-05T09:05:29Z",
      "side": 1,
      "message": "nit: a wireless interface",
      "range": {
        "startLine": 43,
        "startChar": 39,
        "endLine": 43,
        "endChar": 41
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76aa3689_b1330dd1",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 43,
      "author": {
        "id": 1349650
      },
      "writtenOn": "2019-08-05T17:59:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "56a6539d_401e0ec8",
      "range": {
        "startLine": 43,
        "startChar": 39,
        "endLine": 43,
        "endChar": 41
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a99069e8_59e25a57",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 51,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-05T09:05:29Z",
      "side": 1,
      "message": "huge nit: This is the same as make([]string, len(files)). (capacity defaults to the size)",
      "range": {
        "startLine": 51,
        "startChar": 10,
        "endLine": 51,
        "endChar": 48
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8461c442_cb20475b",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 51,
      "author": {
        "id": 1349650
      },
      "writtenOn": "2019-08-05T17:59:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a99069e8_59e25a57",
      "range": {
        "startLine": 51,
        "startChar": 10,
        "endLine": 51,
        "endChar": 48
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2fe74dc8_2e317b7a",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 70,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-05T09:05:29Z",
      "side": 1,
      "message": "huge nit: trailing period please.",
      "range": {
        "startLine": 70,
        "startChar": 38,
        "endLine": 70,
        "endChar": 42
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33abe3ee_c5d8c435",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 70,
      "author": {
        "id": 1349650
      },
      "writtenOn": "2019-08-05T17:59:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2fe74dc8_2e317b7a",
      "range": {
        "startLine": 70,
        "startChar": 38,
        "endLine": 70,
        "endChar": 42
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d608177a_72303d39",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 80,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-05T09:05:29Z",
      "side": 1,
      "message": "0200 is a bit weird permission... do you really intend it? Typical values are 0777, 0755, 0700, 0666, 0644, 0600.",
      "range": {
        "startLine": 80,
        "startChar": 86,
        "endLine": 80,
        "endChar": 90
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3cc17fe3_d5f7b60f",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 80,
      "author": {
        "id": 1349650
      },
      "writtenOn": "2019-08-05T17:59:01Z",
      "side": 1,
      "message": "Ack. The binaries are already write only for the user. I think it would make sense to keep the permissions the same if possible or at least locked down through philosophy of least privilege access.\n\nHere are the default permissions before running my test.\n`stat -c \"%a %n\" unbind bind`\n200 unbind\n200 bind",
      "parentUuid": "d608177a_72303d39",
      "range": {
        "startLine": 80,
        "startChar": 86,
        "endLine": 80,
        "endChar": 90
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "93487c6b_d2180c9d",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 80,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2019-08-05T20:09:58Z",
      "side": 1,
      "message": "I don\u0027t think we can create files in /sys from Tast anyway, so the \u0027perm\u0027 arg [1] is probably irrelevant anyway. But I agree with Billy anyway, 0200 does make sense.\n\n[1] https://godoc.org/io/ioutil#WriteFile\n\"If the file does not exist, WriteFile creates it with permissions perm\"",
      "parentUuid": "3cc17fe3_d5f7b60f",
      "range": {
        "startLine": 80,
        "startChar": 86,
        "endLine": 80,
        "endChar": 90
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "93190dd4_d7ee314a",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 81,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-05T09:05:29Z",
      "side": 1,
      "message": "huge nit: I recommend avoid the comma to make the message more readable. For example: could not unbind %s driver",
      "range": {
        "startLine": 81,
        "startChar": 51,
        "endLine": 81,
        "endChar": 52
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e21ab22f_8324d498",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 81,
      "author": {
        "id": 1349650
      },
      "writtenOn": "2019-08-05T17:59:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "93190dd4_d7ee314a",
      "range": {
        "startLine": 81,
        "startChar": 51,
        "endLine": 81,
        "endChar": 52
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df2cd511_5566c788",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 92,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-05T09:05:29Z",
      "side": 1,
      "message": "JobExists checks if the job configuration exists or not. I\u0027m afraid this is not what you want.\n\nI think just calling upstart.RestartJob is sufficient.",
      "range": {
        "startLine": 92,
        "startChar": 13,
        "endLine": 92,
        "endChar": 22
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bfc178cc_20976dfe",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 92,
      "author": {
        "id": 1349650
      },
      "writtenOn": "2019-08-05T17:59:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "df2cd511_5566c788",
      "range": {
        "startLine": 92,
        "startChar": 13,
        "endLine": 92,
        "endChar": 22
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cddde8da_88bc6e65",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 92,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2019-08-05T20:09:58Z",
      "side": 1,
      "message": "That sounds like you need to check upstart.JobStatus() instead.",
      "parentUuid": "bfc178cc_20976dfe",
      "range": {
        "startLine": 92,
        "startChar": 13,
        "endLine": 92,
        "endChar": 22
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5dc243d0_a6df002b",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 92,
      "author": {
        "id": 1349650
      },
      "writtenOn": "2019-08-05T21:40:21Z",
      "side": 1,
      "message": "Done. I think this is what I want, since I do want to make sure the service exists before and after the restart process.",
      "parentUuid": "cddde8da_88bc6e65",
      "range": {
        "startLine": 92,
        "startChar": 13,
        "endLine": 92,
        "endChar": 22
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8e0a11e_72e76905",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 123,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-05T09:05:29Z",
      "side": 1,
      "message": "style: interface\n\nAlso this message is a bit difficult to understand (e.g. which is the actual value?). How about:\n\n unexpected network interfaces: got %v, want %v",
      "range": {
        "startLine": 123,
        "startChar": 25,
        "endLine": 123,
        "endChar": 34
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4f358ac_693d1318",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 123,
      "author": {
        "id": 1349650
      },
      "writtenOn": "2019-08-05T17:59:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c8e0a11e_72e76905",
      "range": {
        "startLine": 123,
        "startChar": 25,
        "endLine": 123,
        "endChar": 34
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "874fd8fe_f0ac703b",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 126,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-05T09:05:29Z",
      "side": 1,
      "message": "If you don\u0027t have concrete reason, would you mind using the default interval (100ms)? Shorter interval means shorter runtime.",
      "range": {
        "startLine": 126,
        "startChar": 52,
        "endLine": 126,
        "endChar": 73
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1775933b_2254dd93",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 126,
      "author": {
        "id": 1349650
      },
      "writtenOn": "2019-08-05T17:59:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "874fd8fe_f0ac703b",
      "range": {
        "startLine": 126,
        "startChar": 52,
        "endLine": 126,
        "endChar": 73
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ab043fe_501e4295",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 126,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2019-08-05T20:09:58Z",
      "side": 1,
      "message": "I don\u0027t really object to the decreased poll time, but this test is a bit odd: it performs a \"restart\" action, and then it immediately polls for the device list. Depending on the \"restart\" action, this may or may not be sensible. For unbind/bind restart, that\u0027s probably reasonable - if any device was going to disappear, it should have disappeared already.\n\nBut for udev restart: I\u0027m not really sure when anybody thought it might disappear. I guess as soon as any udev rules get (re)processed, which might rename thing? But we haven\u0027t really synchronized with any udev rule processing, IIUC, so they might still be operating in the middle of this polling loop. And so, PASS/FAIL will really depend on how quickly you poll. If your first poll comes before rule processing, then you might not notice that some later udev rule is going to rename the device.\n\nAgain, that might not mean you want to change the polling loop. But maybe this suggests some additional waiting *before* we get to the polling loop.\n\nAnd actually: that\u0027s what this line is in the original test:\n\n    # We need to wait for udev to rename (or not) the interface!\n    time.sleep(10)\n\nIt\u0027s not beautiful, but it makes the test more effective.",
      "parentUuid": "1775933b_2254dd93",
      "range": {
        "startLine": 126,
        "startChar": 52,
        "endLine": 126,
        "endChar": 73
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d0d7000_9abab38d",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 126,
      "author": {
        "id": 1349650
      },
      "writtenOn": "2019-08-05T21:40:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0ab043fe_501e4295",
      "range": {
        "startLine": 126,
        "startChar": 52,
        "endLine": 126,
        "endChar": 73
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70856165_6262a3b4",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 126,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2019-08-06T03:19:13Z",
      "side": 1,
      "message": "Newbie question: is it not possible to wait udev restart to finish, to avoid false negative without sleep?\nUsing sleep in tests is essentially flaky and should be avoided if possible.",
      "parentUuid": "0d0d7000_9abab38d",
      "range": {
        "startLine": 126,
        "startChar": 52,
        "endLine": 126,
        "endChar": 73
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "561a3a1e_5208c8fb",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 138,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-08-05T09:05:29Z",
      "side": 1,
      "message": "It would be easier to understand the error message if we describe the scenario rather than just mentioning the function name. For example:\n\n Restarting udev: ...\n\n Restarting wireless interface: ...",
      "range": {
        "startLine": 134,
        "startChar": 10,
        "endLine": 138,
        "endChar": 51
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6a961d0_064ff262",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/udev_rename.go",
        "patchSetId": 11
      },
      "lineNbr": 138,
      "author": {
        "id": 1349650
      },
      "writtenOn": "2019-08-05T17:59:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "561a3a1e_5208c8fb",
      "range": {
        "startLine": 134,
        "startChar": 10,
        "endLine": 138,
        "endChar": 51
      },
      "revId": "fdf21283ee64b6b9f590b7b2657e259b51ddae1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}