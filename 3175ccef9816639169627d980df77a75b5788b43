{
  "comments": [
    {
      "key": {
        "uuid": "40fde29b_34c04c4c",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_basic.go",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-09T10:28:37Z",
      "side": 1,
      "message": "crostini_audio_sanity.go should do the same?",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d50bb43d_06962fa4",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_basic.go",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2019-07-11T23:52:44Z",
      "side": 1,
      "message": "This is done in: crrev.com/c/1683692\n\nDid you want me to bring that change forward to this cl?",
      "parentUuid": "40fde29b_34c04c4c",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9929549_98f66cb3",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_basic.go",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-12T06:54:58Z",
      "side": 1,
      "message": "Yes, because the change is conceptually closer to this CL, rather than introducing crostini package.",
      "parentUuid": "d50bb43d_06962fa4",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a5e0e5f_b7cc75ea",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_basic.go",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2019-07-24T02:13:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e9929549_98f66cb3",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f7f02e11_f25dc6f9",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_basic.go",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-09T10:28:37Z",
      "side": 1,
      "message": "(off topic, though): As you touch this line, could you simplify:\n\nif err :\u003d cont.Command(ctx, \"pwd\").Run(testexec.DumpLogOnError); err !\u003d nil {\n  s.Fatal(...)\n}",
      "range": {
        "startLine": 32,
        "startChar": 1,
        "endLine": 34,
        "endChar": 18
      },
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e09dc56e_783e09c4",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/crostini_start_basic.go",
        "patchSetId": 8
      },
      "lineNbr": 34,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2019-07-24T02:13:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f7f02e11_f25dc6f9",
      "range": {
        "startLine": 32,
        "startChar": 1,
        "endLine": 34,
        "endChar": 18
      },
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ce7ca8b_01c814d5",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 21,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-09T10:28:37Z",
      "side": 1,
      "message": "(off topic): There are many \"crostini\" prefixed variables.\nIt\u0027s nice to be considered to introduce a new \"crostini\" package dedicated for crostini utility/test scenarios, later.",
      "range": {
        "startLine": 21,
        "startChar": 6,
        "endLine": 21,
        "endChar": 27
      },
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6172812f_9e05f446",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 21,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2019-07-11T23:52:44Z",
      "side": 1,
      "message": "yes, this i\u0027m planning to do this as part of the refactorings, see crrev.com/c/1683692\n\nDid you also want to put a pre.go in the crostini package?",
      "parentUuid": "7ce7ca8b_01c814d5",
      "range": {
        "startLine": 21,
        "startChar": 6,
        "endLine": 21,
        "endChar": 27
      },
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1e507b6d_766793b1",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 21,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-12T06:54:58Z",
      "side": 1,
      "message": "Maybe, we should, if crostini package is being created.\n\nchromiumos/tast/local/crostini/pre.go",
      "parentUuid": "6172812f_9e05f446",
      "range": {
        "startLine": 21,
        "startChar": 6,
        "endLine": 21,
        "endChar": 27
      },
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30869261_67423a9e",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 21,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2019-07-24T02:13:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1e507b6d_766793b1",
      "range": {
        "startLine": 21,
        "startChar": 6,
        "endLine": 21,
        "endChar": 27
      },
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a2906565_586e9a96",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-09T10:28:37Z",
      "side": 1,
      "message": "I don\u0027t think precondition creation should be exported.\nThen, the only caller will be just L60, L61. Could you inline then?\n\nvar crostiniStartedByArtifactPre \u003d \u0026preImpl{\n  name: \"crostini_started_by_artifact\",\n  timeout: ...,\n  imgPath: CrostiniImageArtifact,\n}\nvar crostiniStartedByDownloadPre \u003d \u0026preImpl{\n  name: ...,\n  timeout: ...,\n}",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4aca6a8a_118845e7",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2019-07-11T23:52:44Z",
      "side": 1,
      "message": "So actually this is what i originally had in patchset #5.\nFrom feedback on that CL i made this modification in-line with the chrome precondition (which exports precondition creation).\n\nWould you prefer if we reverted those changes?",
      "parentUuid": "a2906565_586e9a96",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42767e54_fca84179",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-12T06:54:58Z",
      "side": 1,
      "message": "The Pre instances need to be global, effectively.\nOtherwise, precondition equality check wouldn\u0027t work.\nIn the sense, exposing the precondition create method does not work.",
      "parentUuid": "4aca6a8a_118845e7",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45513644_e7b210dc",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2019-07-16T23:54:24Z",
      "side": 1,
      "message": "I think it is useful to have exposed pre creation function as Chrome.NewPrecondition. \nCan you elaborate how\u0027s the precondition equality works and why it is working in Chrome but not here?",
      "parentUuid": "42767e54_fca84179",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84b8ad71_57c1f6d6",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-17T17:22:48Z",
      "side": 1,
      "message": "Precondition equality check is based on the instance (pointer).\nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/662d9eb134c264e434a80249b9ffa2a4bdea9d35/src/chromiumos/tast/testing/test.go#215\n\nchrome.NewPrecondition is a very special case.\nFor performance, we encourage to share the precondition as much as possible.\nHowever, it turned out that, in video/camera tests, it is necessary to add more flags than usual for better logging and simplification.\nThe condition still is shared across a number of video/camera tests, so we decided to add such a precondition under video package. It requires to access chrome\u0027s precondition creation to share the implementation, so we made it a function and public.\nNote that the number of instances is still limited (i.e. 3), and in general we are recommending to avoid such a variation, though it is very case by case.\n\nIn this specific case, the precondition is designed for crostini, and I couldn\u0027t find needs to share the _creation_ of the precondition with other packages. It is highly recommended to avoid adding such an expose function, unless special needs.",
      "parentUuid": "45513644_e7b210dc",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "937f818c_c2cb1e98",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 1197299
      },
      "writtenOn": "2019-07-17T18:29:26Z",
      "side": 1,
      "message": "Ah. I see. Fair enough.\nIndeed, this change is designed for crostini. Could you modifies go/tast-writing to discourage dev to expose Pre creation unless special needs? :)",
      "parentUuid": "84b8ad71_57c1f6d6",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "035dd640_c70f0732",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 50,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2019-07-24T02:13:17Z",
      "side": 1,
      "message": "resolving to revert s/t arbitrary creation of container-preconditions is disallowed",
      "parentUuid": "937f818c_c2cb1e98",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d2dfefbe_d0907ec5",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-09T10:28:37Z",
      "side": 1,
      "message": "imgPath looks enough. If empty, it\u0027s Download.\nAlong with NewContainerPrecondition removal, could you migrate the comment about image downloading to here?",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "781dc996_1525a62d",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2019-07-11T23:52:44Z",
      "side": 1,
      "message": "(leaving open as this seems related to the above comment)",
      "parentUuid": "d2dfefbe_d0907ec5",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b21f6af8_b7853764",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2019-07-24T02:13:17Z",
      "side": 1,
      "message": "Since we are only allowing crostini preconditions, we will revert to using the boolean (since the crostini artifact\u0027s imgPath is known + fixed)",
      "parentUuid": "781dc996_1525a62d",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc9af2b4_19c1f8f6",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 182,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-07-09T10:28:37Z",
      "side": 1,
      "message": "Clar: why this method is renamed? Looks like this is still only for Crostini precondition.",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "adc7d022_90d7e386",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 182,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2019-07-11T23:52:44Z",
      "side": 1,
      "message": "(leaving open as this seems related to the above comment)",
      "parentUuid": "dc9af2b4_19c1f8f6",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2af3d873_333e0183",
        "filename": "src/chromiumos/tast/local/vm/pre.go",
        "patchSetId": 8
      },
      "lineNbr": 182,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2019-07-24T02:13:17Z",
      "side": 1,
      "message": "ack, named PreData now in accordance with arc/pre.go",
      "parentUuid": "adc7d022_90d7e386",
      "revId": "3175ccef9816639169627d980df77a75b5788b43",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}