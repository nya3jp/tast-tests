{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ab276558_4186025f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1118689
      },
      "writtenOn": "2021-08-27T05:16:14Z",
      "side": 1,
      "message": "The last couple comments on the linked bug says that the snippet itself should call \"sync\" when changing device name. Is this sync call after setting up the snippet for a different problem?",
      "revId": "aa9c105e614e3a2c8181021f454aa6971d2dcb8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "182be5f9_0c39d9d4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1459387
      },
      "writtenOn": "2021-08-27T06:44:28Z",
      "side": 1,
      "message": "The snippet itself is not calling \"sync\", I only expose it as a RPC method and let test client to decide when to call it. The \"sync\" method is exported from Nearby service by the Dev team and mark it as for testing only. http://b/187867513\n\nWe can call \"sync\" directly inside the \"setupDevice\" RPC if you prefer to do in this way.\nhttp://google3/javatests/com/google/android/gmscore/integ/modules/nearby/mobly/snippets/sharing/SharingClientSnippet.java?l\u003d99\u0026rcl\u003d383759889",
      "parentUuid": "ab276558_4186025f",
      "revId": "aa9c105e614e3a2c8181021f454aa6971d2dcb8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c857e4f5_7f953b82",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2021-08-27T06:55:42Z",
      "side": 1,
      "message": "The problem seems to be that the certs are not automatically regenerated when we change the device name using the snippet, so this sync call is here to regenerate them after calling AndroidConfigure (which changes the device name).\n\n@Eric might be nice to have it directly inside \"setupDevice\", what do you think? BTW have you been using the sync RPC in your tests, and if so has it helped improve test stability?",
      "parentUuid": "182be5f9_0c39d9d4",
      "revId": "aa9c105e614e3a2c8181021f454aa6971d2dcb8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "85472f82_9407008e",
        "filename": "src/chromiumos/tast/common/cros/nearbyshare/nearbysetup/nearbysetup.go",
        "patchSetId": 2
      },
      "lineNbr": 216,
      "author": {
        "id": 1118689
      },
      "writtenOn": "2021-08-27T09:02:59Z",
      "side": 1,
      "message": "This is only one of the places AndroidConfigure is called. The other is in the fixture.go. The one in fixture.go is the one that calls between testss.\n\nperhaps just add the sync call to the androidconfigure function",
      "range": {
        "startLine": 216,
        "startChar": 11,
        "endLine": 216,
        "endChar": 27
      },
      "revId": "aa9c105e614e3a2c8181021f454aa6971d2dcb8e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}