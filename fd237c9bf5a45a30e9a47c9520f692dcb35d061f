{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2b49a16c_5657d1a5",
        "filename": "src/chromiumos/tast/local/arc/proc.go",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2021-07-19T03:00:40Z",
      "side": 1,
      "message": "This looks unnecessarily complicated.\nYou can just use pgrep[1] or the process package functions in the test body.\n\n[1]: https://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/arc/containermount/containermount.go;l\u003d108?q\u003dcontainermount.go",
      "revId": "fd237c9bf5a45a30e9a47c9520f692dcb35d061f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f17f100c_88d3dc9f",
        "filename": "src/chromiumos/tast/local/arc/proc.go",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1516044
      },
      "writtenOn": "2021-07-19T10:52:14Z",
      "side": 1,
      "message": "Thanks for the suggestion, but I tried to follow the existing model here, just extending to allow more processes.\nDid you notice that the code within InitPid() is almost entirely re-used? \n\nThe existing model does 2 things that a simple inline pgrep does not:\n1) Abstract the process name, keep it in a single place\n2) Also consider the user name in the search for the process",
      "parentUuid": "2b49a16c_5657d1a5",
      "revId": "fd237c9bf5a45a30e9a47c9520f692dcb35d061f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b12cf490_42cf5dcc",
        "filename": "src/chromiumos/tast/local/arc/proc.go",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2021-07-19T12:25:00Z",
      "side": 1,
      "message": "InitPID() exists here because it\u0027s used by many tests, and it\u0027s useful to abstract the difference between VM and container.\nOTOH currently there is only one test which needs to find the mojo proxy process.\n\nAlso, beacuse there is only one mojo proxy process in the system, there is no need to check the process UID.\n\nPlease stick to the YAGNI principle to avoid making the utility function unnecessarily complicated.\nThe amount of complexity added here exceeds the amount you can reduce from the test body ATM.\n\nIf we find it useful to have a general purpose function to find the PID of a service, we can add it later, probably not in this ARC directory.",
      "parentUuid": "f17f100c_88d3dc9f",
      "revId": "fd237c9bf5a45a30e9a47c9520f692dcb35d061f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8411b268_560d6191",
        "filename": "src/chromiumos/tast/local/arc/proc.go",
        "patchSetId": 4
      },
      "lineNbr": 1,
      "author": {
        "id": 1516044
      },
      "writtenOn": "2021-07-19T23:29:20Z",
      "side": 1,
      "message": "makes sense, I\u0027m convinced to go the simple/YAGNI way.  Added hidehiko@ (author of InitPID() ) just for awareness.",
      "parentUuid": "b12cf490_42cf5dcc",
      "revId": "fd237c9bf5a45a30e9a47c9520f692dcb35d061f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}