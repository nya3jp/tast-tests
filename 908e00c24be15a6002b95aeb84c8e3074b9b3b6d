{
  "comments": [
    {
      "key": {
        "uuid": "c954444f_5edc5d8c",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/wifi_service.go",
        "patchSetId": 14
      },
      "lineNbr": 199,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-05-05T16:50:19Z",
      "side": 1,
      "message": "Shall we return all IPv4 addresses of the interface?",
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bed39ed7_b5c21bca",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/wifi_service.go",
        "patchSetId": 14
      },
      "lineNbr": 199,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-05-06T19:50:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c954444f_5edc5d8c",
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfc1117c_3ba1f5ce",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/wifi_service.go",
        "patchSetId": 14
      },
      "lineNbr": 206,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-05-05T16:50:19Z",
      "side": 1,
      "message": "How about\n\nvar ret network.Addr\nfor ... {\n  if ... {\n    ret.Ipv4 \u003d append(ret.Ipv4, ipnet.IP.String())\n  }\n}\nreturn ret",
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94102afb_d590f7ec",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/wifi_service.go",
        "patchSetId": 14
      },
      "lineNbr": 206,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-05-06T19:50:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dfc1117c_3ba1f5ce",
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b22ca240_1e4bc62b",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/disconnect_clears_ip.go",
        "patchSetId": 14
      },
      "lineNbr": 31,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-05-05T16:50:19Z",
      "side": 1,
      "message": "Note that https://crrev.com/c/2142664 shall be merged soon.",
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a889a1a9_6b83502e",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/disconnect_clears_ip.go",
        "patchSetId": 14
      },
      "lineNbr": 31,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-05-06T19:50:12Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b22ca240_1e4bc62b",
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "74ed971b_46398d2d",
        "filename": "src/chromiumos/tast/remote/wificell/client_iface.go",
        "patchSetId": 14
      },
      "lineNbr": 31,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-05-05T16:50:19Z",
      "side": 1,
      "message": "Do you foresee if any recent Tast port use this? If not, let\u0027s move the logic into disconnect_clears_ip.go.",
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "581399d5_7e6a0ed9",
        "filename": "src/chromiumos/tast/remote/wificell/client_iface.go",
        "patchSetId": 14
      },
      "lineNbr": 31,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-05-06T19:50:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "74ed971b_46398d2d",
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2978e8aa_a7ad530b",
        "filename": "src/chromiumos/tast/remote/wificell/client_iface.go",
        "patchSetId": 14
      },
      "lineNbr": 32,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-05-05T16:50:19Z",
      "side": 1,
      "message": "How about\n\nfunc (c *ClientIface)IPV4Addrs(ctx) ([]string, error)",
      "range": {
        "startLine": 32,
        "startChar": 22,
        "endLine": 32,
        "endChar": 36
      },
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22045c0d_ec411822",
        "filename": "src/chromiumos/tast/remote/wificell/client_iface.go",
        "patchSetId": 14
      },
      "lineNbr": 32,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-05-06T19:50:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2978e8aa_a7ad530b",
      "range": {
        "startLine": 32,
        "startChar": 22,
        "endLine": 32,
        "endChar": 36
      },
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1456eb58_1e1f3e1f",
        "filename": "src/chromiumos/tast/services/cros/network/wifi.proto",
        "patchSetId": 14
      },
      "lineNbr": 22,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-05-05T16:50:19Z",
      "side": 1,
      "message": "I feel a bit sad that we have to name the protocol buffer a different name from rpc getter method. However, use \"Interface\" as rpc method name and \"Iface\" as protocol buffer name definitely brings confusion.\n\nI came out two approaches:\n1. use the stop word, Get, in rpc getter:\nrpc GetInterface(google.protobuf.Empty) returns (Iface) {}\nmessage Interface {\n  string name \u003d 1;\n}\n\n2. use xxxRequest / xxxResponse for request/response of a rpc method:\nrpc Interface(google.protobuf.Empty) returns (InterfaceResponse) {}\nmessage InterfaceResponse {\n  string name \u003d 1;\n}\n\nnya@, what do you think?",
      "range": {
        "startLine": 22,
        "startChar": 6,
        "endLine": 22,
        "endChar": 15
      },
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "879622ee_b1ac0005",
        "filename": "src/chromiumos/tast/services/cros/network/wifi.proto",
        "patchSetId": 14
      },
      "lineNbr": 22,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2020-05-08T05:07:44Z",
      "side": 1,
      "message": "Please name request/response messages as FooBarRequest/FooBarResponse unless using Empty. It is mentioned in go/tast-writing:\nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#Defining-gRPC-services\n\nIt is also the defacto standard naming convention in gRPC.\nhttps://cloud.google.com/apis/design/naming_convention?hl\u003den#request_and_response_messages\n\nFooBarResponse might have only one field but that is perfectly fine.\n\nAs for the method name, I recommend GetInterface. It is a common practice to start a gRPC method name with a verb.\nhttps://cloud.google.com/apis/design/naming_convention?hl\u003den#method_names",
      "parentUuid": "1456eb58_1e1f3e1f",
      "range": {
        "startLine": 22,
        "startChar": 6,
        "endLine": 22,
        "endChar": 15
      },
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47552a38_ca87f2f8",
        "filename": "src/chromiumos/tast/services/cros/network/wifi.proto",
        "patchSetId": 14
      },
      "lineNbr": 22,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-05-08T05:31:19Z",
      "side": 1,
      "message": "Thank you for pointing it out. Sorry we missed the rule. Arowa, please follow the rule. I\u0027ll update other message.\n\nNya, if a gRPC request is coming from another gRPC\u0027s response; or some gRPC shares the same request/response struct, should each request/response stick with GrpcNameRequest / GrpcNameResponse?\n\nFor example, https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/2181681/5/src/chromiumos/tast/services/cros/network/wifi.proto#21 :\nrpc Connect(Config) returns (Service) {}\nrpc QueryService(Service) returns (ServiceInfo) {}\n\nshould we change it to\nrpc Connect(ConnectReqeust) returns (ConnectResponse) {}\nrpc QueryService(QueryServiceRequest) returns (QueryServiceResponse) {}\n\nmessage ConnectRequest {\n  string ssid \u003d 1;\n  bool hidden \u003d 2;\n}\n\nmessage ConnectResponse {\n  string service_path \u003d 1;  \n}\n\nmessage QueryServiceRequest {\n  string service_path \u003d 1;\n}\n\nmessage QueryServiceResponse {\n  string hidden \u003d 1;\n}",
      "parentUuid": "879622ee_b1ac0005",
      "range": {
        "startLine": 22,
        "startChar": 6,
        "endLine": 22,
        "endChar": 15
      },
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76a21840_124f7444",
        "filename": "src/chromiumos/tast/services/cros/network/wifi.proto",
        "patchSetId": 14
      },
      "lineNbr": 22,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-05-08T05:55:39Z",
      "side": 1,
      "message": "Copied from chat:\nYes that is recommended for gRPC in general.\n\nTBH the situation is a bit different in Tast\u0027s usage and and others\u0027 usage of gRPC... Typically gRPC client/server might have different versions, so for version compatibility and extensibility it is recommended to use different messages for different methods. OTOH Tast always builds gRPC client/server from the same snapshot of source code so some of those best practices might not apply. But I still think it\u0027s good and less confusing to follow the established best practices.",
      "parentUuid": "47552a38_ca87f2f8",
      "range": {
        "startLine": 22,
        "startChar": 6,
        "endLine": 22,
        "endChar": 15
      },
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3430fc7_3f2541c1",
        "filename": "src/chromiumos/tast/services/cros/network/wifi.proto",
        "patchSetId": 14
      },
      "lineNbr": 41,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-05-05T16:50:19Z",
      "side": 1,
      "message": "I would prefer rename it as \"name\", just like net.Interface.\n\nhttps://golang.org/pkg/net/#Interface",
      "range": {
        "startLine": 41,
        "startChar": 9,
        "endLine": 41,
        "endChar": 14
      },
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a221ba9c_94e22afa",
        "filename": "src/chromiumos/tast/services/cros/network/wifi.proto",
        "patchSetId": 14
      },
      "lineNbr": 41,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-05-06T19:50:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d3430fc7_3f2541c1",
      "range": {
        "startLine": 41,
        "startChar": 9,
        "endLine": 41,
        "endChar": 14
      },
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b651af5_67a308d3",
        "filename": "src/chromiumos/tast/services/cros/network/wifi.proto",
        "patchSetId": 14
      },
      "lineNbr": 44,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-05-05T16:50:19Z",
      "side": 1,
      "message": "An interface may bind multiple addresses. How about\n\nmessage Addrs {\n  repeated string ipv4 \u003d 1;\n}\n\nNote that I plan to use \"ipv4s\", but the proto compiler converts it to Ipv4S, not Ipv4s...",
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ffb05147_d7e4ad22",
        "filename": "src/chromiumos/tast/services/cros/network/wifi.proto",
        "patchSetId": 14
      },
      "lineNbr": 44,
      "author": {
        "id": 1373754
      },
      "writtenOn": "2020-05-06T19:50:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b651af5_67a308d3",
      "revId": "908e00c24be15a6002b95aeb84c8e3074b9b3b6d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}