{
  "comments": [
    {
      "key": {
        "uuid": "0bd28536_983235ac",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2020-07-08T06:03:57Z",
      "side": 1,
      "message": "this is an initial effort.\n\ngoing forward we will also evaluate while the dut is under CPU/GPU load",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8cf4e651_b099921e",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/mouse_perf.go",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1108834
      },
      "writtenOn": "2020-07-08T18:07:55Z",
      "side": 1,
      "message": "Whats the accuracy of this sleep?  Should you be tracking that as well?  (eg take time before and after sleep)\n\nAlso, is this high enough frequency?  Doesn\u0027t this mean we essentially are giving the system 5ms to react?  And I\u0027m guessing (without thinking this through), that it might actually mean we\u0027ve only got granularity of 2x (10ms).",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60cec9ab_b58204b3",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/mouse_perf.go",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2020-07-08T23:35:10Z",
      "side": 1,
      "message": "\u003e Should you be tracking that as well\n\ndone\n\n\u003e Is this high enough...\n\nIve modified it to 1ms because it seems like faster frequency causes greater imprecision (at 5ms the receive deltas roughly equal the send deltas, at 1ms they are quite different).",
      "parentUuid": "8cf4e651_b099921e",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "32a8f27a_be74e050",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/mouse_perf.go",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1108834
      },
      "writtenOn": "2020-07-09T18:47:24Z",
      "side": 1,
      "message": "So is that the 1ms is adding noise, or the 5ms is just smoothing and hiding what we\u0027re actually trying to determine.  In either case, I think 1ms is better too.\n\nThis post from 10 years ago indicates 125KHz to 1000KHz mouse polling rates being common:\nhttps://www.urbanterror.info/forums/topic/21844-howto-changing-mouse-polling-rate-on-ubuntu/",
      "parentUuid": "60cec9ab_b58204b3",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "564238eb_b02810d8",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/mouse_perf.go",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1108834
      },
      "writtenOn": "2020-07-09T18:47:24Z",
      "side": 1,
      "message": "I somehow had a comment which didn\u0027t get saved.  Can this be moved to the test image like apitrace.  Otherwise this will potentially add network flake.",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6cf4b38_1257a664",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/mouse_perf.go",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1108834
      },
      "writtenOn": "2020-07-08T18:07:55Z",
      "side": 1,
      "message": "How about if outputParsed is empty?",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17db0a19_8ded3bc6",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/mouse_perf.go",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2020-07-08T23:35:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c6cf4b38_1257a664",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "655c185f_6c8d5190",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/mouse_perf.go",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1108834
      },
      "writtenOn": "2020-07-08T18:07:55Z",
      "side": 1,
      "message": "If we\u0027re doing this, shouldn\u0027t this only check if it\u0027s following the alternating pattern?\n\nAlso, does this hold true if the sleep is much smaller above.",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14023586_e7d206ee",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/mouse_perf.go",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2020-07-08T23:35:10Z",
      "side": 1,
      "message": "so given that i dont know whats causing them i cant guarantee they will always alternate (e.g. maybe one day you start getting two false events for every true one). Checking that the events have the same timestamps seems more reliable.\n\nIve included checking that they have the same positions as well, this way we should be robust to actually distinct events occuring at granularities finer than 1ms",
      "parentUuid": "655c185f_6c8d5190",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b9d1d70c_e87f1af7",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/mouse_perf.go",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1108834
      },
      "writtenOn": "2020-07-08T18:07:55Z",
      "side": 1,
      "message": "Nit: Apparently sum of squares is not numerically stable.  Knuth has some other options (and I\"m sure there\u0027s other examples online).  (I don\u0027t feel particular strong about this, but I was schooled in some CR about it. :))",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1227f16f_940c3204",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/mouse_perf.go",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1324920
      },
      "writtenOn": "2020-07-08T23:35:10Z",
      "side": 1,
      "message": "TIL\n\nActually i think this is kinda relevant to us since we want variance to be close to zero and thats exactly where the naive algorithm fails.\n\nIve switched to the two-pass approach. IIUC all these algs are numerically unstable but the two-pass\u0027 stability depends on compounding imprecision of the sum, so for our small sample size it should be reasonable (~ e * |samples|)",
      "parentUuid": "b9d1d70c_e87f1af7",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d3709d8f_c0197f6c",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/mouse_perf.go",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1108834
      },
      "writtenOn": "2020-07-09T18:47:24Z",
      "side": 1,
      "message": "Yeah, the other CL linked some Knuth algorithm which was one pass, but two pass is totally fine here.",
      "parentUuid": "1227f16f_940c3204",
      "revId": "bc2724cb1068124d5c3ce8691c73145022b1093e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}