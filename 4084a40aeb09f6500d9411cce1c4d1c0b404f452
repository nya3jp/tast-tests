{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ceaf94e3_622a1505",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1134874
      },
      "writtenOn": "2021-01-05T23:40:39Z",
      "side": 1,
      "message": "Thanks!",
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfaa81ba_e3fbd42e",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2021-01-07T11:04:50Z",
      "side": 1,
      "message": "Why do you need RunVaapiBinary function to be in the separate file?\n\nSame question for src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/video/decode_accel_smoke.go\n\nThis function is used only in one Tast test.",
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b80d9c26_41321be8",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-01-08T03:06:18Z",
      "side": 1,
      "message": "+1 same question here. Looks like it is designed as a parameterized test. This function is the main body of the test logic.",
      "parentUuid": "bfaa81ba_e3fbd42e",
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b8d9857_5c1f6170",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1134874
      },
      "writtenOn": "2021-01-11T22:15:06Z",
      "side": 1,
      "message": "The motivation is our intent to add more tast tests that also run this binary, but with different arguments. Does that help motivate the separate files? Would you prefer them in the same file in this CL and then break them apart later?\n\nI\u0027m not sure the reasoning for RunAccelVideoSmokeTest; would it be all right if I confirmed that and merged them in a separate CL?",
      "parentUuid": "bfaa81ba_e3fbd42e",
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b450d81_2935efcf",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1395692
      },
      "writtenOn": "2021-01-12T00:58:27Z",
      "side": 1,
      "message": "RunVAAPIBinary is designed as a lib function for reuse. But it passes through testing.State, and directly fail the test, which makes it a test case. I do not think it is a good practise in encapsulation. The main test logic should be inline  the test case itself. \n\nI still do not recommend to separate the file, unless it is well structured and more convincible. At the moment, there is only one logic and one parameterized test. It will not be a big effort to separate it once it is required.",
      "parentUuid": "6b8d9857_5c1f6170",
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e7cf4df1_c3ca038c",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1134874
      },
      "writtenOn": "2021-01-13T20:57:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1b450d81_2935efcf",
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3a5a461_5641094f",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 28,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2021-01-07T11:04:50Z",
      "side": 1,
      "message": "it should be VAAPI:\nhttps://github.com/golang/go/wiki/CodeReviewComments#initialisms",
      "range": {
        "startLine": 28,
        "startChar": 8,
        "endLine": 28,
        "endChar": 13
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5338b60_638b17b1",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 28,
      "author": {
        "id": 1134874
      },
      "writtenOn": "2021-01-11T22:15:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e3a5a461_5641094f",
      "range": {
        "startLine": 28,
        "startChar": 8,
        "endLine": 28,
        "endChar": 13
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27abadf1_52a96647",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 33,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2021-01-07T11:04:50Z",
      "side": 1,
      "message": "Maybe \"create new video logger\"?",
      "range": {
        "startLine": 33,
        "startChar": 21,
        "endLine": 33,
        "endChar": 51
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd6de19c_91208e93",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 33,
      "author": {
        "id": 1134874
      },
      "writtenOn": "2021-01-11T22:15:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "27abadf1_52a96647",
      "range": {
        "startLine": 33,
        "startChar": 21,
        "endLine": 33,
        "endChar": 51
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a82f4ccc_fe531de7",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 46,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2021-01-07T11:04:50Z",
      "side": 1,
      "message": "It actually may work not as you expect. You already use ctx to stop UI job, it also takes some time. That\u0027s why you need to reserve time for cleanup first at the beginning of the function.\n\n\nYou can find some examples here:\nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#reserve-time-for-clean_up-task",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 49
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "031f997e_a4337669",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 46,
      "author": {
        "id": 1134874
      },
      "writtenOn": "2021-01-11T22:15:06Z",
      "side": 1,
      "message": "Like so?",
      "parentUuid": "a82f4ccc_fe531de7",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 49
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5410a023_27ed9d2c",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 46,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2021-01-12T12:41:56Z",
      "side": 1,
      "message": "Yes, but please rename ctxForCleanup to cleanupCtx",
      "parentUuid": "031f997e_a4337669",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 49
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d16d61cc_81e7bb98",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 46,
      "author": {
        "id": 1134874
      },
      "writtenOn": "2021-01-13T20:57:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5410a023_27ed9d2c",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 49
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed2925f0_1fc0bc1e",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2021-01-07T11:04:50Z",
      "side": 1,
      "message": "I guess it\u0027s not enough just to return if err happened, because there can be for example context deadline exceeded error. You need to explicitly check for expected error.",
      "range": {
        "startLine": 60,
        "startChar": 5,
        "endLine": 60,
        "endChar": 17
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d84d0ad_b34ef4e0",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1134874
      },
      "writtenOn": "2021-01-11T22:15:06Z",
      "side": 1,
      "message": "Thanks, and added. Maybe if there are more cases of expected fail, it would make sense to refine \"expectedFail\" from a bool to an errcode or similar. For now, the purpose is just to confirm that the binary isn\u0027t blindly passing for everything.",
      "parentUuid": "ed2925f0_1fc0bc1e",
      "range": {
        "startLine": 60,
        "startChar": 5,
        "endLine": 60,
        "endChar": 17
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb4fe78c_00852629",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2021-01-12T12:41:56Z",
      "side": 1,
      "message": "It\u0027s safer to check specific error you expect in case of error instead just check if it\u0027s context deadline and otherwise error can be ignored.",
      "parentUuid": "3d84d0ad_b34ef4e0",
      "range": {
        "startLine": 60,
        "startChar": 5,
        "endLine": 60,
        "endChar": 17
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "beb11820_4e1ed510",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1134874
      },
      "writtenOn": "2021-01-13T20:57:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb4fe78c_00852629",
      "range": {
        "startLine": 60,
        "startChar": 5,
        "endLine": 60,
        "endChar": 17
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6434c2f3_070dcdd3",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 66,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2021-01-07T11:04:50Z",
      "side": 1,
      "message": "PTAL when to log:\nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#When-to-log",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 66,
        "endChar": 88
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3be93404_3e1bd4bb",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/decode/vaapi_binary.go",
        "patchSetId": 7
      },
      "lineNbr": 66,
      "author": {
        "id": 1134874
      },
      "writtenOn": "2021-01-11T22:15:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6434c2f3_070dcdd3",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 66,
        "endChar": 88
      },
      "revId": "4084a40aeb09f6500d9411cce1c4d1c0b404f452",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}