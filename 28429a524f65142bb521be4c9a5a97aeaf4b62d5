{
  "comments": [
    {
      "key": {
        "uuid": "5c927f5e_9eb21ee4",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/network_listeners_arc.go",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-05-27T03:53:02Z",
      "side": 1,
      "message": "Why does this process listen on all interfaces, not only the loopback interface?",
      "range": {
        "startLine": 37,
        "startChar": 5,
        "endLine": 37,
        "endChar": 6
      },
      "revId": "28429a524f65142bb521be4c9a5a97aeaf4b62d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b57d5a13_ddbb5643",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/network_listeners_arc.go",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 1238096
      },
      "writtenOn": "2019-05-27T04:54:35Z",
      "side": 1,
      "message": "In theory it should only have to listen on localhost.\nSimilarly, sshd should only listen on localhost.",
      "parentUuid": "5c927f5e_9eb21ee4",
      "range": {
        "startLine": 37,
        "startChar": 5,
        "endLine": 37,
        "endChar": 6
      },
      "revId": "28429a524f65142bb521be4c9a5a97aeaf4b62d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a56d7141_b0b5a6cf",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/network_listeners_arc.go",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-05-27T05:05:12Z",
      "side": 1,
      "message": "Sorry, I don\u0027t think you answered to my question.\n\nDo you mean we can do insecure thing because sshd is always doing similar? I\u0027m not sure such argument can convince security reviewers.\n\nOr do you mean we can listen on arbitrary ports because there\u0027s iptables anyway? Then I\u0027m not sure what value this test adds at all.\n\nAnyway, I\u0027d like to have security expert\u0027s opinion.",
      "parentUuid": "b57d5a13_ddbb5643",
      "range": {
        "startLine": 37,
        "startChar": 5,
        "endLine": 37,
        "endChar": 6
      },
      "revId": "28429a524f65142bb521be4c9a5a97aeaf4b62d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29984c87_39d8f7e1",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/network_listeners_arc.go",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 1238096
      },
      "writtenOn": "2019-05-27T05:12:01Z",
      "side": 1,
      "message": "Neither really.\n\nI just noticed that sshd is doing similar, but I don\u0027t know if this is because it escaped security, or if it was considered \"fine\" since by default ports on physical networks are  closed I believe.\n\nIf we fix one, we should fix the other. Ideally, I would lean towards making both listen on localhost.\n\nOne caveat though: I don\u0027t know of any use case that requires sshd listening on any, and I assume that there was none, but there could be some process or some test that needs it and opens 2222 on a physical interface while doing something.\n\nFor the case of arc-networkd\u0027s adb forwarder on 5550, in our current design there is no need to listen on something else localhost for sure.",
      "parentUuid": "a56d7141_b0b5a6cf",
      "range": {
        "startLine": 37,
        "startChar": 5,
        "endLine": 37,
        "endChar": 6
      },
      "revId": "28429a524f65142bb521be4c9a5a97aeaf4b62d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd0e692f_93295dc4",
        "filename": "src/chromiumos/tast/local/bundles/cros/security/network_listeners_arc.go",
        "patchSetId": 3
      },
      "lineNbr": 37,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-05-27T05:52:46Z",
      "side": 1,
      "message": "Thanks for clarification, and sorry I didn\u0027t get what you meant.\n\nI don\u0027t have opinion about sshd listening all interfaces. It\u0027s open to public anyway since sslh proxies :22 to :2222.",
      "parentUuid": "29984c87_39d8f7e1",
      "range": {
        "startLine": 37,
        "startChar": 5,
        "endLine": 37,
        "endChar": 6
      },
      "revId": "28429a524f65142bb521be4c9a5a97aeaf4b62d5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}