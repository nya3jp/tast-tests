{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d0ad2fbc_3a8fc9b3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-25T02:18:08Z",
      "side": 1,
      "message": "Thank you so much for review Tatsuhisa !",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4d13474c_d3aa42bb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "My initial scan.",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08f5d311_d487b4d6",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 53,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "style: we often drop getter ish prefixes, such as \"get\", \"is\", \"has\", etc.\n\njust \"sectionSizes\" ?\n\nDitto for below.",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c2a5b154_22811d53",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 53,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08f5d311_d487b4d6",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8b85a09_b3ccb078",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 57,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "nit/style: preferring shorter name, maybe just \"args\".",
      "range": {
        "startLine": 57,
        "startChar": 59,
        "endLine": 57,
        "endChar": 74
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d48fbe76_87795cff",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 57,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "to minimize the dependency, could you avoid taking *testing.State in helper functions? Ditto for any other below.\n\nThis can take just Conn()",
      "range": {
        "startLine": 57,
        "startChar": 41,
        "endLine": 57,
        "endChar": 57
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "190391a5_2773d810",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 57,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e8b85a09_b3ccb078",
      "range": {
        "startLine": 57,
        "startChar": 59,
        "endLine": 57,
        "endChar": 74
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "36ea8249_a6366748",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 57,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "But I need s for logging, like s.Log and s.Fatal?",
      "parentUuid": "d48fbe76_87795cff",
      "range": {
        "startLine": 57,
        "startChar": 41,
        "endLine": 57,
        "endChar": 57
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "147d92ec_b46a4f5f",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 57,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-27T07:04:04Z",
      "side": 1,
      "message": "Log can be done via testing.ContextLog or ContextLogf.\nInstead of Fatal, could you return an error an then let callers handle?",
      "parentUuid": "36ea8249_a6366748",
      "range": {
        "startLine": 57,
        "startChar": 41,
        "endLine": 57,
        "endChar": 57
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a373604b_cf6db2c8",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 57,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-28T05:10:04Z",
      "side": 1,
      "message": "I converted `runCommandLine`, `flashromRead` and `flashromWrite` functions as you suggested.\nThe other functions, I left as is, because they are a bit more complicated. Specifically, they have multiple points of failure, means different errors can happen. Is it ok to leave them as is?",
      "parentUuid": "147d92ec_b46a4f5f",
      "range": {
        "startLine": 57,
        "startChar": 41,
        "endLine": 57,
        "endChar": 57
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba6aa0db_b16a3e19",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 57,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2022-01-28T10:30:28Z",
      "side": 1,
      "message": "What do you mean by \"different errors\"?\n\nFor example, inactiveSection has 2 cases of Fatal and 1 success path:\n\t\ts.Fatal(\"Detecting active section on DUT failed\")\n\t\ts.Fatalf(\"Unexpected active fw %s\", activeSection)\n\nand I think those can be replaced by changing the function function to return\n    (string, error)\n\nand then\n\n   return \"\", errors.New(\"Detecting active section on DUT failed\")\n   return \"\", fmt.Errorf(\"Unexpected active fw %s\", activeSection)\n   return section, nil\n\nerrors.Wrap, errors.Wrapf, fmt.Errorf may be used for some other cases.",
      "parentUuid": "a373604b_cf6db2c8",
      "range": {
        "startLine": 57,
        "startChar": 41,
        "endLine": 57,
        "endChar": 57
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1dc4249b_c52a76cb",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 57,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-28T14:05:13Z",
      "side": 1,
      "message": "s/fmt.Errorf/errors.Errorf/ for tast.\nBut I agreed with Tatsuhisa\u0027s point now. Anastasia, if you have very special reason that we cannot capture yet, please let us know.",
      "parentUuid": "ba6aa0db_b16a3e19",
      "range": {
        "startLine": 57,
        "startChar": 41,
        "endLine": 57,
        "endChar": 57
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e470cbfc_b662a109",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 57,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-31T01:11:44Z",
      "side": 1,
      "message": "I think I converted all helper functions according to the pattern you suggested. Thanks a lot for examples of code, that\u0027s really useful and helped me a lot!",
      "parentUuid": "1dc4249b_c52a76cb",
      "range": {
        "startLine": 57,
        "startChar": 41,
        "endLine": 57,
        "endChar": 57
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "711c20c2_a741db27",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 71,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "hugenit/style: no empty line is needed.\n\nDitto for below.",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "15a40596_cc21bebc",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 71,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "711c20c2_a741db27",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "863bef82_66218a07",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 73,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "so, instead, could you return an error and handle it in the caller?",
      "range": {
        "startLine": 73,
        "startChar": 2,
        "endLine": 73,
        "endChar": 43
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c3a0b566_943ec0a1",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 73,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "Yes, it is possible. You commented on flashromRead, but I also did the same for flashromWrite, that\u0027s the same situation.",
      "parentUuid": "863bef82_66218a07",
      "range": {
        "startLine": 73,
        "startChar": 2,
        "endLine": 73,
        "endChar": 43
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eed670cd_076d994f",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 112,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "could you close?",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0edf6a6e_4c460478",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 112,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "I am not sure I understand what do you mean? If you could elaborate that would be very helpful, thanks!",
      "parentUuid": "eed670cd_076d994f",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c84704c0_74d13a4d",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 112,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-27T07:04:04Z",
      "side": 1,
      "message": "TempFile is a function to create a File.\nhttps://pkg.go.dev/io/ioutil#TempFile\nso you need to close it. https://pkg.go.dev/os#File.Close",
      "parentUuid": "0edf6a6e_4c460478",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b5ad9a0_44ffbb1c",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 112,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-28T05:10:04Z",
      "side": 1,
      "message": "I have `defer os.Remove` after this, and I am using `os.Remove` because it is used literally everywhere else when working with temp files in tast :) So I just researched what other tests are doing, and did the same! Is this ok?",
      "parentUuid": "c84704c0_74d13a4d",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5d0a643_9133cbbf",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 112,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-02-02T11:53:14Z",
      "side": 1,
      "message": "No, please close not to leak fd.\nAll the same code should be fixed, too. (fixing other test is not a scope of this CL, though)",
      "parentUuid": "6b5ad9a0_44ffbb1c",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ada8ac1d_a3215f53",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 112,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-02-03T07:29:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c5d0a643_9133cbbf",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "205c8422_2420799f",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 120,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "style\n\nif err :\u003d ioutil.WRiteFile(...); err !\u003d nil {\n  ...\n  \nditto for below.",
      "range": {
        "startLine": 119,
        "startChar": 1,
        "endLine": 120,
        "endChar": 16
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "41a18791_2e778ede",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 120,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "I went through the file, and applied this pattern in other places as well.",
      "parentUuid": "205c8422_2420799f",
      "range": {
        "startLine": 119,
        "startChar": 1,
        "endLine": 120,
        "endChar": 16
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3be71eaf_951aef74",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 120,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-02-02T11:53:14Z",
      "side": 1,
      "message": "nit: not done here?",
      "parentUuid": "41a18791_2e778ede",
      "range": {
        "startLine": 119,
        "startChar": 1,
        "endLine": 120,
        "endChar": 16
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e12fa2cc_4d63abfa",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 120,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-02-03T07:29:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3be71eaf_951aef74",
      "range": {
        "startLine": 119,
        "startChar": 1,
        "endLine": 120,
        "endChar": 16
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7ba14c1_79880049",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 140,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "can strings.Fields work here?\nIf not, could you comment why some specific number of white space sequence is handled specially?",
      "range": {
        "startLine": 137,
        "startChar": 0,
        "endLine": 140,
        "endChar": 39
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ac83bbae_0558bbe3",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 140,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "strings.Fields works perfectly! thank you! and now I don\u0027t even need `splitByWhitespace` at all, great!",
      "parentUuid": "f7ba14c1_79880049",
      "range": {
        "startLine": 137,
        "startChar": 0,
        "endLine": 140,
        "endChar": 39
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5bf98bc_0ada36b4",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 143,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "could you use named return value for more readability?\nSpecifically, this function returns two uint64.",
      "range": {
        "startLine": 143,
        "startChar": 45,
        "endLine": 143,
        "endChar": 66
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "27281a9f_b2e9d43e",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 143,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c5bf98bc_0ada36b4",
      "range": {
        "startLine": 143,
        "startChar": 45,
        "endLine": 143,
        "endChar": 66
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae0649cb_96ff8ea4",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 144,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "should ParseUint work without dropping 0x prefix as you specify \"16\"?\n\nDitto for below.",
      "range": {
        "startLine": 144,
        "startChar": 34,
        "endLine": 144,
        "endChar": 74
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84634eab_ad23b6d5",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 144,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "Unfortunately it doesn\u0027t work: for numbers in format 0x1234 it parses any such number to 0.",
      "parentUuid": "ae0649cb_96ff8ea4",
      "range": {
        "startLine": 144,
        "startChar": 34,
        "endLine": 144,
        "endChar": 74
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f7d6e5f_de9984bb",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 144,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-27T07:04:04Z",
      "side": 1,
      "message": "Oops, I was wrong. How about passing 0 to the second param?",
      "parentUuid": "84634eab_ad23b6d5",
      "range": {
        "startLine": 144,
        "startChar": 34,
        "endLine": 144,
        "endChar": 74
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae07f12a_a2dc0c11",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 144,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-28T05:10:04Z",
      "side": 1,
      "message": "Wow 0 as base works, that\u0027s cool! How did you know about it? It seems like a secret undocumented feature, because docs don\u0027t mention base can be 0: https://pkg.go.dev/strconv#ParseUint",
      "parentUuid": "6f7d6e5f_de9984bb",
      "range": {
        "startLine": 144,
        "startChar": 34,
        "endLine": 144,
        "endChar": 74
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "44876bf8_6bd052d7",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 144,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-02-02T11:53:14Z",
      "side": 1,
      "message": "It\u0027s documented in ParseInt referred from ParseUint.\nhttps://pkg.go.dev/strconv#ParseInt",
      "parentUuid": "ae07f12a_a2dc0c11",
      "range": {
        "startLine": 144,
        "startChar": 34,
        "endLine": 144,
        "endChar": 74
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9639d6a_f55842d4",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 171,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "clarification: is there a case that multiple area_name will be reported?\nIf not, how about just string attributes in this for loop,\nand then handle the conversion to result outside of for-stmt?",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a3bba6e3_918d8a48",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 171,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "No, there will be only one area with the name equal to `section`. This is why we have return right after the area found: we return since there is no need to loop anymore.\nI actually like this approach, to return straight away :) It is more compact (no need to have extract variable(s) to maintain loop state, no need to check search status at the end of the loop). Also it seems to me less error-prone (because there are less local variable involved).\nWould you agree on that? What do you think?",
      "parentUuid": "e9639d6a_f55842d4",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "387521b6_fdad8eab",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 171,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-27T07:04:04Z",
      "side": 1,
      "message": "TO decouple the logic, I would write:\n\nattributes \u003d make(map[string]string)\nfor _, line :\u003d range strings.Split(...) {\n  tokens :\u003d strings.Fields(line)\n  if len(tokens) \u003c\u003d 1 {\n    continue\n  }\n  attributes[tokens[0]] \u003d tokens[1]\n}\n\nif area_name, ok :\u003d attributes[\"area_name:\"]; !ok || area_name !\u003d section {\n  // return an error.\n}\n\noffsetAttr :\u003d attributes[\"area_offset:\"]\nsizeAttr :\u003d attributes[\"area_size:\"]\n...\nreturn offset, size\n\nEach block does one thing. \"Convert to map\", \"check area_name\", \"calculate offset/size\", I believe it\u0027d be simpler.\n\nAny thoughts?",
      "parentUuid": "a3bba6e3_918d8a48",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "91aaab6b_bdb8fc6d",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 171,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-28T05:10:04Z",
      "side": 1,
      "message": "I don\u0027t think this would work... let me give you an example of what we are parsing: example output of `dump_fmap` command https://paste.googleplex.com/6564209966972928\n\nAs you see there are many sections, we are looking for one with area_name equal to `section`. Unfortunately, the attributes we are looking for (area_offset and area_size) are placed *before* area_name line. When we found area_name, we need the values from two *previous* lines.\nOnce we found what we need, nothing more to do, can return straight away.",
      "parentUuid": "387521b6_fdad8eab",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8cc9bd9c_d9680a0f",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 171,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-02-02T11:53:14Z",
      "side": 1,
      "message": "Recommendation is to parse the data as it should be.\nSplit lines into blocks, starting with \"area:\" until next \"area:\".\nInside each block, parse offset/size/name, and if found return the value.\n\nCurrent code looks confusing (and actually the data was different from what I expected).",
      "parentUuid": "91aaab6b_bdb8fc6d",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5143573b_f033fb90",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 171,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-02-03T07:29:28Z",
      "side": 1,
      "message": "Correct me if I am wrong, this is my understanding of the idea:\n1) You are suggesting to have two loops instead of one\n2) The first loop would build a data structure in memory, which effectively stores the whole results of dump_fmap\n3) Second loop iterates over that data structure in memory, and finds the area values\n\nIt seems to me, this will take twice more time and twice more memory... why are you recommending it?",
      "parentUuid": "8cc9bd9c_d9680a0f",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "afe5bcf5_3fe4d49c",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 171,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2022-02-07T11:26:03Z",
      "side": 1,
      "message": "While hidehiko is still OOO, just my thoughts.\nI think your understanding of the idea is correct.\nIt is true that the proposed approach take some more time, but still just proportional to the number of input lines, and would not practically affect test runtime, same for memory usage.\nThe point is that, by splitting each step (separating file into blocks and parsing fields), it is made clearer what data structure we expect, so that other people would not come up with the question like hidehiko did.\nIf we want to keep the old test code from autotest as-is, at least comment lines to describe what file structure this processes would be needed here.\n\nAs an additional bonus we get by separating line blocks first, we could detect errorenous inputs rather than silently giving wrong result. For example, if any of the line were dropped by some reason hypothetically,\n\narea:            2\narea_offset:     0x00000000\narea_size:       0x00001000 (4096)\narea_name:       SI_DESC\narea:            3\narea_size:       0x001ff000 (2093056)\narea_name:       IFWI\n\nThe existing code will get wrong information for IFWI, without detecting that unexpected input.\n\nAlso, this is just my guess, but looking the pasted dump_fmap log, the intent of the log looks like \n- each area block starts by \"area:\" line\nrather than\n- each area block ends with \"area-name\" line\n\nSo I guess in the future if dump_fmap adds another field, it can be like:\n\narea:            2\narea_offset:     0x00000000\narea_size:       0x00001000 (4096)\narea_name:       SI_DESC\narea_role:       SOMETHING\narea:            3\narea_offset:     0x00001000\n\nso the implicit assumption that area_name is at the end of each block, looks risky.",
      "parentUuid": "5143573b_f033fb90",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b9fd273b_dd6e9dca",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 171,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-02-14T03:02:14Z",
      "side": 1,
      "message": "I re-wrote using regexp as Hidehiko suggested.",
      "parentUuid": "afe5bcf5_3fe4d49c",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "878161fa_66bdb939",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 205,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "style: I\u0027d recommend to use switch-stmt",
      "range": {
        "startLine": 199,
        "startChar": 1,
        "endLine": 205,
        "endChar": 2
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d6acd0c3_cd3f852c",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 205,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "878161fa_66bdb939",
      "range": {
        "startLine": 199,
        "startChar": 1,
        "endLine": 205,
        "endChar": 2
      },
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7cec08f5_f5260fde",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 212,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-25T17:39:50Z",
      "side": 1,
      "message": "instead of string manipulations, could you use an array of string here?",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc3c4d8a_3e5f5abc",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 212,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-27T05:45:31Z",
      "side": 1,
      "message": "I am not sure I understand, which string and which string manipulations you suggest to replace with an array? If you could elaborate that would be great, thanks!",
      "parentUuid": "7cec08f5_f5260fde",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b55df8e3_bbb5c134",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 212,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-01-27T07:04:04Z",
      "side": 1,
      "message": "ddTemplate.\n\nit just appends the count\u003d... then parse.\nCould you pass the command in []string type, and get rid of string manipulation for the value at L205?",
      "parentUuid": "dc3c4d8a_3e5f5abc",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3d857bef_7e1dd523",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 212,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-01-28T05:10:04Z",
      "side": 1,
      "message": "This `ddTemplate` situation needs more work for sure, but we agreed in the team that will be a follow up. I have a bug assigned to me: https://b.corp.google.com/issues/214445819 so I will take care of `ddTemplate` as a separate task.",
      "parentUuid": "b55df8e3_bbb5c134",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "faff181b_5e1b3fc2",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 212,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2022-02-02T11:53:14Z",
      "side": 1,
      "message": "getting rid of dd sounds better.\nBut regardless of that, please do not introduce shell here. You can just pass args as an array of strings, and I couldn\u0027t find any blockers to make it happen in this CL.",
      "parentUuid": "3d857bef_7e1dd523",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "324f2ae0_dfee2e2c",
        "filename": "src/chromiumos/tast/remote/bundles/cros/firmware/fw_flash_erasers.go",
        "patchSetId": 14
      },
      "lineNbr": 212,
      "author": {
        "id": 1402113
      },
      "writtenOn": "2022-02-03T07:29:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "faff181b_5e1b3fc2",
      "revId": "88732a43cd2ab8d166be7c0e92c05ef12c2435b6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}