{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3b46aa2f_0a386374",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2021-09-28T02:09:27Z",
      "side": 1,
      "message": "I think we basically should not pass a test that did not verify the condition that the test is designed to do; \"Ensures .lock file does not exist before, after update, does exist during\" in this case.\n\nWhat is the problem with having this test failed when the setup phase failed?",
      "revId": "bf118894d1fae1f833a2929b31fb3bc82f87959d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "66f6e141_e51d14b1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-09-28T02:18:53Z",
      "side": 1,
      "message": "The issue I\u0027m trying to solve is that these tests are not able to run on battery power. fwupd completely inhibits the devices to accept update/install requests.",
      "parentUuid": "3b46aa2f_0a386374",
      "revId": "bf118894d1fae1f833a2929b31fb3bc82f87959d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60908b7d_88cc95ea",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2021-09-28T09:34:39Z",
      "side": 1,
      "message": "from the commit message:\n\u003e Some lab dut report errors due to be on battery power.\n\nIs that because of a tentative infra issue (like some random device goes battery-power mode)? (please point to a bug if there is a bug tracking that issue.)\nAlso, this test is mainline and informational now. What is the reason that we need to do this workaround?\n\nTast tests by design can only result in PASSED or FAILED. If we \"skip\" the test in the proposed way, it cannot be distinguished from actual PASSED result in the Tast result. So if there is something wrong in the infra and test cannot examine what it is designed to, that test should fail.",
      "parentUuid": "66f6e141_e51d14b1",
      "revId": "bf118894d1fae1f833a2929b31fb3bc82f87959d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df216341_fab07a38",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-09-28T14:27:41Z",
      "side": 1,
      "message": "I don\u0027t think the error is tentative or transient: https://tastboard.corp.google.com/test?contact\u003d\u0026testname\u003dfirmware.FwupdI\u0026dep\u003d\n\nThe final objective is to promote out of informational.\n\nThe main reasoning behind skipping this particular failure tests is that they would be covered by other test which specifically tests the behavior on battery power vs AC: src/chromiumos/tast/local/bundles/cros/firmware/fwupd_powerd_update_check.go",
      "parentUuid": "60908b7d_88cc95ea",
      "revId": "bf118894d1fae1f833a2929b31fb3bc82f87959d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f4bb8c4_ed734d29",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2021-09-28T15:36:04Z",
      "side": 1,
      "message": "Thanks for the details information. I can see there have been flakiness, but in order to go forward, we need to make sure if it is intended behavior by the infra design. Especially, if having some devices DC-powered is by-design, test skip should be done by the Tast framework or the test scheduler infra side, rather than the individual test. (Othrewise, due to sharding and test scheduling, we cannot keep the test coverage.)\nI will raise the question to the infra team.",
      "parentUuid": "df216341_fab07a38",
      "revId": "bf118894d1fae1f833a2929b31fb3bc82f87959d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c276f38_b0d6d024",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2021-10-01T09:00:56Z",
      "side": 1,
      "message": "We discussed in the email list and got that there has been a hardware issue in the lab infra, at least for one device.\n\n- If another DUT has same issue, let\u0027s ask the lab team again.\n- If there is any software-side issue that we still don\u0027t know (such as battery charging mode change) affecting this test, it should be handled either in the infra or Tast framework.\n\nSo I think we don\u0027t need this change anymore. Does this plan work for you?",
      "parentUuid": "0f4bb8c4_ed734d29",
      "revId": "bf118894d1fae1f833a2929b31fb3bc82f87959d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "484530f3_2b7f4cdc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-10-01T14:49:36Z",
      "side": 1,
      "message": "I replied on  http://b/201524631  with a list of dut that failed the test today... The list is so large that I would rather wait for response in the bug before completely discarding this CL.",
      "parentUuid": "4c276f38_b0d6d024",
      "revId": "bf118894d1fae1f833a2929b31fb3bc82f87959d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab7c887a_dba5bc7d",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_inhibit_suspend.go",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2021-09-28T02:09:27Z",
      "side": 1,
      "message": "Is there a case where other errors than the AC power exists at the same time?",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 106,
        "endChar": 3
      },
      "revId": "bf118894d1fae1f833a2929b31fb3bc82f87959d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4c837e0_a8a98086",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_inhibit_suspend.go",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1312379
      },
      "writtenOn": "2021-09-28T02:18:53Z",
      "side": 1,
      "message": "Should not. If no AC power is present fwupd inhibits the device from receiving updates.",
      "parentUuid": "ab7c887a_dba5bc7d",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 106,
        "endChar": 3
      },
      "revId": "bf118894d1fae1f833a2929b31fb3bc82f87959d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "de5565f5_d9966780",
        "filename": "src/chromiumos/tast/local/bundles/cros/firmware/fwupd_inhibit_suspend.go",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2021-09-28T09:34:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a4c837e0_a8a98086",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 106,
        "endChar": 3
      },
      "revId": "bf118894d1fae1f833a2929b31fb3bc82f87959d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}