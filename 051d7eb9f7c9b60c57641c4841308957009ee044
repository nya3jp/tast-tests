{
  "comments": [
    {
      "key": {
        "uuid": "3d7be76f_62062d89",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2019-11-12T04:06:12Z",
      "side": 1,
      "message": "Does ioutil.WriteFile(hostPath, data, 0755) work?\n\nhttps://golang.org/pkg/io/ioutil/#WriteFile",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 55,
        "endChar": 30
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f11f7a65_4c6e8995",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1309946
      },
      "writtenOn": "2019-11-12T04:37:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3d7be76f_62062d89",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 55,
        "endChar": 30
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78015e37_02a71624",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 82,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2019-11-12T04:06:12Z",
      "side": 1,
      "message": "nit: filepath, pattern",
      "range": {
        "startLine": 82,
        "startChar": 37,
        "endLine": 82,
        "endChar": 61
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b31220a_e7046d54",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 82,
      "author": {
        "id": 1309946
      },
      "writtenOn": "2019-11-12T04:37:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "78015e37_02a71624",
      "range": {
        "startLine": 82,
        "startChar": 37,
        "endLine": 82,
        "endChar": 61
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b9954d20_45b906c7",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2019-11-12T04:06:12Z",
      "side": 1,
      "message": "Could you document what this does with the meaning of the paremeters except for ctx?",
      "range": {
        "startLine": 132,
        "startChar": 5,
        "endLine": 132,
        "endChar": 27
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b396eb4_951d98c2",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2019-11-12T04:06:12Z",
      "side": 1,
      "message": "backupPath,",
      "range": {
        "startLine": 132,
        "startChar": 91,
        "endLine": 132,
        "endChar": 109
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4e87b0f_832a0381",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1309946
      },
      "writtenOn": "2019-11-12T04:37:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7b396eb4_951d98c2",
      "range": {
        "startLine": 132,
        "startChar": 91,
        "endLine": 132,
        "endChar": 109
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ba393fe_36481064",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1309946
      },
      "writtenOn": "2019-11-12T04:37:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b9954d20_45b906c7",
      "range": {
        "startLine": 132,
        "startChar": 5,
        "endLine": 132,
        "endChar": 27
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a930609_f63694a5",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 178,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2019-11-12T04:06:12Z",
      "side": 1,
      "message": "You don\u0027t have to export PreImpl as I wrote in the comment below.",
      "range": {
        "startLine": 178,
        "startChar": 48,
        "endLine": 178,
        "endChar": 55
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f36b5c0_55ee0c8c",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 178,
      "author": {
        "id": 1309946
      },
      "writtenOn": "2019-11-14T22:33:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6a930609_f63694a5",
      "range": {
        "startLine": 178,
        "startChar": 48,
        "endLine": 178,
        "endChar": 55
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d55e301a_a7e509f2",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2019-11-12T04:06:12Z",
      "side": 1,
      "message": "Could you use pre condition?\n\nSet\nPre: crostini.StartedByDownload()\nin init().\n\nTest can get the data with s.PreValue().(*crostini.PreData)",
      "range": {
        "startLine": 178,
        "startChar": 0,
        "endLine": 180,
        "endChar": 24
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8647ecbe_f4106673",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 1309946
      },
      "writtenOn": "2019-11-12T04:37:02Z",
      "side": 1,
      "message": "I\u0027m concerned that this test will leave the VM in a bad state, such that other tests that assume the precondition won\u0027t be able to run. I\u0027ve tried to ensure that the VM will be running with a good disk by the end of the test, but I\u0027m not really confident in it. If you think it\u0027s safe enough I\u0027m happy to use the precondition normally though.",
      "parentUuid": "d55e301a_a7e509f2",
      "range": {
        "startLine": 178,
        "startChar": 0,
        "endLine": 180,
        "endChar": 24
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e887ef19_25ce555e",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2019-11-14T09:22:51Z",
      "side": 1,
      "message": "Could you use the precondition normally?\nIt\u0027s best to avoid touching the precondition instance directly from the test, as it\u0027s not what Tast expects and has a risk of breakage in the future IMO.\n\nIn general precondition\u0027s Prepare() is responsible for detecting misconfigurations and re-estabilishing the precondition. If a test makes misconfigurations which are hard to detect or fix for Prepare(), then that\u0027s the test\u0027s responsibility to revert the misconfiguration.\n\nLooks like preImpl\u0027s Prepare() has a sanity check to re-estabilish the precondition (which executes `echo` in VM) [1]. Isn\u0027t it enough for detecting a corruption this test could make?\n[1] http://cs/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/crostini/pre.go?l\u003d154\u0026rcl\u003db19b802cd29178573b0d26d3191bfd6a00532420",
      "parentUuid": "8647ecbe_f4106673",
      "range": {
        "startLine": 178,
        "startChar": 0,
        "endLine": 180,
        "endChar": 24
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70bf62c0_930502c2",
        "filename": "src/chromiumos/tast/local/bundles/cros/crostini/fs_corruption.go",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 1309946
      },
      "writtenOn": "2019-11-14T22:33:48Z",
      "side": 1,
      "message": "I don\u0027t know. Let\u0027s give it a try.",
      "parentUuid": "e887ef19_25ce555e",
      "range": {
        "startLine": 178,
        "startChar": 0,
        "endLine": 180,
        "endChar": 24
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e308d8b_71f6258a",
        "filename": "src/chromiumos/tast/local/crostini/pre.go",
        "patchSetId": 4
      },
      "lineNbr": 142,
      "author": {
        "id": 1150179
      },
      "writtenOn": "2019-11-12T04:06:12Z",
      "side": 1,
      "message": "String ...",
      "range": {
        "startLine": 142,
        "startChar": 3,
        "endLine": 142,
        "endChar": 12
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d347070f_d19d3dfb",
        "filename": "src/chromiumos/tast/local/crostini/pre.go",
        "patchSetId": 4
      },
      "lineNbr": 142,
      "author": {
        "id": 1309946
      },
      "writtenOn": "2019-11-14T22:33:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0e308d8b_71f6258a",
      "range": {
        "startLine": 142,
        "startChar": 3,
        "endLine": 142,
        "endChar": 12
      },
      "revId": "051d7eb9f7c9b60c57641c4841308957009ee044",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}