{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1e9d428a_d90299e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1121230
      },
      "writtenOn": "2022-09-23T16:18:03Z",
      "side": 1,
      "message": "lgtm. Thank you!",
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "198802d5_bf69f9bd",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/check_shutdown_crash.go",
        "patchSetId": 6
      },
      "lineNbr": 43,
      "author": {
        "id": 1121230
      },
      "writtenOn": "2022-09-23T16:18:03Z",
      "side": 1,
      "message": "optional nit: This is not a security application. But if it\u0027s easy to use sha256, maybe sha256?\n\nhttps://pkg.go.dev/crypto/md5#:~:text\u003dMD5%20is%20cryptographically%20broken%20and%20should%20not%20be%20used%20for%20secure%20applications.",
      "range": {
        "startLine": 43,
        "startChar": 6,
        "endLine": 43,
        "endChar": 15
      },
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8adcb1cc_18515239",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/check_shutdown_crash.go",
        "patchSetId": 6
      },
      "lineNbr": 43,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2022-09-23T23:27:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "198802d5_bf69f9bd",
      "range": {
        "startLine": 43,
        "startChar": 6,
        "endLine": 43,
        "endChar": 15
      },
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e148fe0_f7d953aa",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/check_shutdown_crash.go",
        "patchSetId": 6
      },
      "lineNbr": 60,
      "author": {
        "id": 1121230
      },
      "writtenOn": "2022-09-23T16:18:03Z",
      "side": 1,
      "message": "nit: maybe unnecessary. Default is `ScanLines`.\n\nhttps://pkg.go.dev/bufio#Scanner.Split:~:text\u003dThe%20default%20split%20function%20is%20ScanLines.",
      "range": {
        "startLine": 60,
        "startChar": 1,
        "endLine": 60,
        "endChar": 34
      },
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c85d94b9_5a55d950",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/check_shutdown_crash.go",
        "patchSetId": 6
      },
      "lineNbr": 60,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2022-09-23T23:27:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0e148fe0_f7d953aa",
      "range": {
        "startLine": 60,
        "startChar": 1,
        "endLine": 60,
        "endChar": 34
      },
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e84dc8ea_41f34f1a",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/check_shutdown_crash.go",
        "patchSetId": 6
      },
      "lineNbr": 91,
      "author": {
        "id": 1121230
      },
      "writtenOn": "2022-09-23T16:18:03Z",
      "side": 1,
      "message": "Should this be `s.Fatal`. We cannot continue this test if we couldn\u0027t calculate a hash above.",
      "range": {
        "startLine": 91,
        "startChar": 4,
        "endLine": 91,
        "endChar": 7
      },
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f616e999_e6baff6d",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/check_shutdown_crash.go",
        "patchSetId": 6
      },
      "lineNbr": 91,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2022-09-23T23:27:12Z",
      "side": 1,
      "message": "One of the errors is no current PREVIOUS log? This one is probably ok. But for simplicity we can stop now.",
      "parentUuid": "e84dc8ea_41f34f1a",
      "range": {
        "startLine": 91,
        "startChar": 4,
        "endLine": 91,
        "endChar": 7
      },
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "656904aa_955ed79d",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/check_shutdown_crash.go",
        "patchSetId": 6
      },
      "lineNbr": 102,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2022-09-23T23:27:12Z",
      "side": 1,
      "message": "Now I am thinking about how to clean up assistant status.\n\nI tried to reconnect and clean up, but always get: \n```\n2022-09-23T23:23:19.117650Z [23:23:12.314] Error at check_shutdown_crash.go:129: Failed to clean up Assistant: cdp.Runtime: Evaluate: rpcc: the connection is closing: session: detach failed for session 1078FD7830262A4D8FCAA39701F2188B: cdp.Target: DetachFromTarget: rpcc: the connection is closing: websocket: close 1006 (abnormal closure): unexpected EOF\n2022-09-23T23:23:19.117702Z [23:23:12.314] Stack trace:\nFailed to clean up Assistant\n\tat chromiumos/tast/local/bundles/cros/assistant.CheckShutdownCrash (check_shutdown_crash.go:129)\n\tat chromiumos/tast/internal/planner.runTestWithConfig.func3.1 (run.go:824)\n\tat chromiumos/tast/internal/usercode.SafeCall.func2 (usercode.go:112)\n\tat runtime.goexit (asm_amd64.s:1571)\n\n```",
      "range": {
        "startLine": 102,
        "startChar": 19,
        "endLine": 102,
        "endChar": 23
      },
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c091719_e05b5170",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/check_shutdown_crash.go",
        "patchSetId": 6
      },
      "lineNbr": 102,
      "author": {
        "id": 1121230
      },
      "writtenOn": "2022-09-23T23:40:56Z",
      "side": 1,
      "message": "I guess that you cannot use the old connection after a restart. How about trying steps described in this comment (call PrepareForRestart and reconnect)?\n\nhttps://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:src/platform/tast-tests/src/chromiumos/tast/local/chrome/chrome.go;l\u003d562-566;drc\u003d8fbf2c53960bc8917a6a01fda5405cad7c17201e",
      "parentUuid": "656904aa_955ed79d",
      "range": {
        "startLine": 102,
        "startChar": 19,
        "endLine": 102,
        "endChar": 23
      },
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "912102c5_12839a1c",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/check_shutdown_crash.go",
        "patchSetId": 6
      },
      "lineNbr": 102,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2022-09-24T02:23:14Z",
      "side": 1,
      "message": "Thanks. I realized it is not connection issue, it is not login and cannot use assistant functions.",
      "parentUuid": "3c091719_e05b5170",
      "range": {
        "startLine": 102,
        "startChar": 19,
        "endLine": 102,
        "endChar": 23
      },
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "500698d1_a277ca19",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/check_shutdown_crash.go",
        "patchSetId": 6
      },
      "lineNbr": 118,
      "author": {
        "id": 1121230
      },
      "writtenOn": "2022-09-23T16:18:03Z",
      "side": 1,
      "message": "nit: `s.Fatal` as this is a critical error for this test, i.e. a test has not performed correctly if it has reached this line.",
      "range": {
        "startLine": 118,
        "startChar": 4,
        "endLine": 118,
        "endChar": 9
      },
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6d9595fb_71cb736b",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/check_shutdown_crash.go",
        "patchSetId": 6
      },
      "lineNbr": 118,
      "author": {
        "id": 1228419
      },
      "writtenOn": "2022-09-23T23:27:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "500698d1_a277ca19",
      "range": {
        "startLine": 118,
        "startChar": 4,
        "endLine": 118,
        "endChar": 9
      },
      "revId": "61a7c54e26ed7af8007bb0975edae3a6bbdf07c2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}