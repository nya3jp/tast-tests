{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2f40d1ab_55dabd8e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1334957
      },
      "writtenOn": "2022-06-14T20:03:15Z",
      "side": 1,
      "message": "Hey Allen and David,\nCan we get something landed to get this working again on Betty VMs?\n\nThanks",
      "revId": "d34ca46050d1fd5e35af21ba82730aca4e4a2112",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9bfa6c3b_9bba9f4d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1265562
      },
      "writtenOn": "2022-06-14T21:01:18Z",
      "side": 1,
      "message": "I left some comments for David on his fix related to how we decide when ManaTEE is present or not.",
      "tag": "mailMessageId\u003d\u003cCAJzde061CF6e7Ohz\u003dZhfChk6dFoSO8Zk26C_cNTpEgooKWdfYg@mail.gmail.com\u003e",
      "revId": "d34ca46050d1fd5e35af21ba82730aca4e4a2112",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8cda0351_2fa75c43",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2022-06-15T01:28:35Z",
      "side": 1,
      "message": "I saw your reply, but I don\u0027t think the suggested approach works. Software deps declare what use flags are necessary for the test to run. We\u0027re guaranteed by the tast framework that any use flags required by the software deps are present, but there\u0027s no supported mechanism for the test to determine anything further about the use flags.\n\nDo you have any other suggestions for a reliable way to determine at runtime whether or not we\u0027re running on a manatee board?",
      "parentUuid": "9bfa6c3b_9bba9f4d",
      "revId": "d34ca46050d1fd5e35af21ba82730aca4e4a2112",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "68bf1bf8_c0224723",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1265562
      },
      "writtenOn": "2022-06-15T14:03:10Z",
      "side": 1,
      "message": "I took another look and you are right. Testing for the presence of dugong\u0027s init script probably makes sense for now until we provide some kind of preferred way for checking.",
      "parentUuid": "8cda0351_2fa75c43",
      "revId": "d34ca46050d1fd5e35af21ba82730aca4e4a2112",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0259be9a_81318477",
        "filename": "src/chromiumos/tast/local/memory/manatee.go",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1265562
      },
      "writtenOn": "2022-06-08T14:01:01Z",
      "side": 1,
      "message": "We are thinking about running part of the ManaTEE runtime stack on non ManaTEE devices in the future for Keymint, so maybe we could test based on the manatee software dep, since it is intended to distinguish ManaTEE and non-ManaTEE devices:\nhttps://source.chromium.org/chromium/chromiumos/platform/tast-tests/+/HEAD:src/chromiumos/tast/local/arc/arc.go;l\u003d443\n\nWe could make an `is_manatee(ctx context.Context)` function that checks for the manatee software dependency:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/bundles/cros/security/manatee.go;l\u003d55",
      "revId": "d34ca46050d1fd5e35af21ba82730aca4e4a2112",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f1199e19_75cfe39d",
        "filename": "src/chromiumos/tast/local/memory/manatee.go",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2022-06-08T14:26:43Z",
      "side": 1,
      "message": "As I understand it, the tast SoftwareDeps are a property of the tests, not a property of the device. The tast infrastructure checks a test\u0027s SoftwareDeps against the device\u0027s use flags to make sure the test is running in the correct environment. However, as far as I know, there isn\u0027t a way for test code to query the device\u0027s use flags at runtime.\n\nThere is a function to get the SoftwareDeps from a context, but that was added to allow fixtures to ensure that their dependencies are available (i.e. ARC fixtures use it to check that tests properly declare an ARC SoftwareDep).",
      "parentUuid": "0259be9a_81318477",
      "revId": "d34ca46050d1fd5e35af21ba82730aca4e4a2112",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}