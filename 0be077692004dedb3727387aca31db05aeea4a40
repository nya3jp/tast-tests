{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4f6f4dc8_adf9044a",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2022-05-06T12:37:56Z",
      "side": 1,
      "message": "nit: this function probably need to return error",
      "range": {
        "startLine": 35,
        "startChar": 49,
        "endLine": 35,
        "endChar": 50
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ac6d63b_36b34705",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2022-05-06T12:37:56Z",
      "side": 1,
      "message": "nit: it can be \"args ...string\", then the caller will be:\n\n```\nappendOutput(iptablesCmd, \"-L\", \"-x\", \"-v\", \"-t\", table)\n\nor simply\n\nappendOutput(\"/usr/local/lib/flimflam/test/list-profiles\")\n```",
      "range": {
        "startLine": 35,
        "startChar": 34,
        "endLine": 35,
        "endChar": 47
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a872293_78337926",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2022-05-06T12:37:56Z",
      "side": 1,
      "message": "nit: maybe rename to smth like runCmdAndLog?",
      "range": {
        "startLine": 35,
        "startChar": 1,
        "endLine": 35,
        "endChar": 13
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42d446a5_2e62f7cf",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-05-09T03:08:31Z",
      "side": 1,
      "message": "I added a lastErr variable in this function and update it in the closures, since we only need to know if there is any error in this util function and then we can go to the log file to check the detail errors. Please suggest if there is a better way to handle this. Thanks!",
      "parentUuid": "4f6f4dc8_adf9044a",
      "range": {
        "startLine": 35,
        "startChar": 49,
        "endLine": 35,
        "endChar": 50
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "699d68ec_c335db07",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-05-09T03:08:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7a872293_78337926",
      "range": {
        "startLine": 35,
        "startChar": 1,
        "endLine": 35,
        "endChar": 13
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "71f4e912_27095b1c",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-05-09T03:08:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ac6d63b_36b34705",
      "range": {
        "startLine": 35,
        "startChar": 34,
        "endLine": 35,
        "endChar": 47
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "daf0b68f_0b5f8924",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2022-05-09T09:55:16Z",
      "side": 1,
      "message": "We don\u0027t handle error in Go this way. Usually function will return after first error occurred. Please handle each error explicitly.\n\nAlso usually the first error much more helpful that the last one.",
      "parentUuid": "42d446a5_2e62f7cf",
      "range": {
        "startLine": 35,
        "startChar": 49,
        "endLine": 35,
        "endChar": 50
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a73ea9a4_5f31ae4d",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-05-09T11:28:33Z",
      "side": 1,
      "message": "Thanks for the suggestion!\nChanged this closure to return when the first write error occurred.\nIn the outer function, the execution result of one command should not affect the next one so leave it as-is (if the write failed the next write may also fail, since there is no other side effect in this case, maybe it\u0027s not worth complicating the code, and we want to get as more logs as possible here).\n\nPTAL, thanks!",
      "parentUuid": "daf0b68f_0b5f8924",
      "range": {
        "startLine": 35,
        "startChar": 49,
        "endLine": 35,
        "endChar": 50
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b6a8d28_7f1394c6",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2022-05-11T15:30:59Z",
      "side": 1,
      "message": "I asked about such error handling approach in our Munich Tast chat and here is vsavu@:\n\n```\nI would ask to log immediately once the error happened. If the function ever returns early, information will be lost.\n\nIt may make the code a bit longer, but it should be more future-proof.\n```\n\nI agree with Victor.",
      "parentUuid": "a73ea9a4_5f31ae4d",
      "range": {
        "startLine": 35,
        "startChar": 49,
        "endLine": 35,
        "endChar": 50
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f7ce2e5_703fcc7e",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2022-05-06T12:37:56Z",
      "side": 1,
      "message": "nit: don\u0027t ignore returned error. Same in other places.",
      "range": {
        "startLine": 36,
        "startChar": 1,
        "endLine": 36,
        "endChar": 15
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b7182d6f_0a751abb",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-05-09T03:08:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7f7ce2e5_703fcc7e",
      "range": {
        "startLine": 36,
        "startChar": 1,
        "endLine": 36,
        "endChar": 15
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "790a649d_39dbcb63",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2022-05-06T12:37:56Z",
      "side": 1,
      "message": "nit: ipTablesCmd",
      "range": {
        "startLine": 47,
        "startChar": 8,
        "endLine": 47,
        "endChar": 19
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a85d581c_b34f52f6",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-05-09T03:08:31Z",
      "side": 1,
      "message": "I did a code search, it seems that \"iptables\" is much more common in our code base for tast: https://source.chromium.org/search?q\u003diptables%20lang:go\u0026sq\u003d\u0026ss\u003dchromiumos",
      "parentUuid": "790a649d_39dbcb63",
      "range": {
        "startLine": 47,
        "startChar": 8,
        "endLine": 47,
        "endChar": 19
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "df9746cb_791d5d16",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2022-05-09T09:55:16Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a85d581c_b34f52f6",
      "range": {
        "startLine": 47,
        "startChar": 8,
        "endLine": 47,
        "endChar": 19
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c3f5876_48e5e202",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1445297
      },
      "writtenOn": "2022-05-06T11:44:21Z",
      "side": 1,
      "message": "Nit: `-api` could provide more useful stats on established TCP connections (i.e. mss, bytes sent/received etc.).",
      "range": {
        "startLine": 70,
        "startChar": 39,
        "endLine": 70,
        "endChar": 42
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3cda54fd_d17fab47",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/util/util.go",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-05-09T03:08:31Z",
      "side": 1,
      "message": "Done. Thanks for the suggestion!",
      "parentUuid": "6c3f5876_48e5e202",
      "range": {
        "startLine": 70,
        "startChar": 39,
        "endLine": 70,
        "endChar": 42
      },
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fba8b7ba_263a516e",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/vpn_connect.go",
        "patchSetId": 4
      },
      "lineNbr": 313,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2022-05-06T12:37:56Z",
      "side": 1,
      "message": "nit: don\u0027t ignore return error",
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f51f69b_f266ce96",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/vpn_connect.go",
        "patchSetId": 4
      },
      "lineNbr": 313,
      "author": {
        "id": 1364246
      },
      "writtenOn": "2022-05-09T03:08:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fba8b7ba_263a516e",
      "revId": "0be077692004dedb3727387aca31db05aeea4a40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}