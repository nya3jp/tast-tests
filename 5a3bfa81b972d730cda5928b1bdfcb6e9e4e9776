{
  "comments": [
    {
      "key": {
        "uuid": "ced9da9d_18007bb9",
        "filename": "src/chromiumos/tast/local/bundles/cros/webrtc/peer_conn_h264_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2019-09-27T15:20:08Z",
      "side": 1,
      "message": "Bringing here a comment from keiichiw@chromium.org in\nhttps://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/1825322/4//COMMIT_MSG\n\n\u003e When we modify the perf tests, we might want to change this function as well.\n\u003e https://cs.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/webrtc/camera.go?rcl\u003dd2229f5f9eb5b97e154d778128c7f513c13f9074\u0026l\u003d112\n\u003e We only counted broken frames when vivid is used to avoid flakiness caused by real hardware. But, we don\u0027t need to care it with fake webcam.",
      "range": {
        "startLine": 42,
        "startChar": 18,
        "endLine": 42,
        "endChar": 29
      },
      "revId": "5a3bfa81b972d730cda5928b1bdfcb6e9e4e9776",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4dd699d6_4ae73875",
        "filename": "src/chromiumos/tast/local/bundles/cros/webrtc/peer_conn_h264_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2019-09-30T05:57:51Z",
      "side": 1,
      "message": "I just realized that this is not related to webrtc.PeerConnPerf but webrtc.PeerConn functionality tests, but let me elaborate this.\n\nIn the original versions of camera.GetUserMedia* and webrtc.PeerConn*, we originally checked the followings on each board:\n(1) whether the number of frame is non-zero\n(2) whether ratio of bad frames (black or frozen) is below threshold\n\nHowever, we  realized that (2) was too strict for boards with real webcams and decided to check (2) only when vivid is used (i.e. only on VM boards).\ncf. crbug.com/898745\n\nNow, we changed to use fake webcam and should be free from flakiness caused by real webcams. \nSo, I wonder if we cannot check ratio of black/frozen frames on every board.",
      "parentUuid": "ced9da9d_18007bb9",
      "range": {
        "startLine": 42,
        "startChar": 18,
        "endLine": 42,
        "endChar": 29
      },
      "revId": "5a3bfa81b972d730cda5928b1bdfcb6e9e4e9776",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56f4ca6b_e3879201",
        "filename": "src/chromiumos/tast/local/bundles/cros/webrtc/peer_conn_h264_perf.go",
        "patchSetId": 1
      },
      "lineNbr": 42,
      "author": {
        "id": 1113991
      },
      "writtenOn": "2019-09-30T20:17:58Z",
      "side": 1,
      "message": "I see. I think it makes sense to extend the check for PeerConn, but since\ncheckVideoHealth() is used from other parts, let me splinter it into another\nCL: crrev.com/c/1830087",
      "parentUuid": "4dd699d6_4ae73875",
      "range": {
        "startLine": 42,
        "startChar": 18,
        "endLine": 42,
        "endChar": 29
      },
      "revId": "5a3bfa81b972d730cda5928b1bdfcb6e9e4e9776",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}