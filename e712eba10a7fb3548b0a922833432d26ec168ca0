{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "33b9c0af_97378cc4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1285903
      },
      "writtenOn": "2021-06-21T02:53:23Z",
      "side": 1,
      "message": "Can you modify ITS to explicitly specify python3?\nThis is very hacky and I don\u0027t think this should be the way to go.\n\nE.g.,\nhttps://source.chromium.org/chromiumos/chromiumos/codesearch/+/main:chromite/run_tests",
      "revId": "e712eba10a7fb3548b0a922833432d26ec168ca0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2f701b5_4f955fb3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2021-06-21T02:59:15Z",
      "side": 1,
      "message": "From Shebang? There\u0027s too many reference in ITS test code like \n```\ncmd \u003d \u0027python tools/rotation_rig.py...\u0027\n```\nAlso need to be patched. I would prefer to simply force python3 as system python.",
      "parentUuid": "33b9c0af_97378cc4",
      "revId": "e712eba10a7fb3548b0a922833432d26ec168ca0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "747580d2_f64c6157",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1285903
      },
      "writtenOn": "2021-06-21T03:04:11Z",
      "side": 1,
      "message": "I think it needs to be done. How many references are there?\nEven our ARC++ toolchain contains Python2 scripts relying on `/usr/bin/env python` to be Python2.\nFor backward-compatibility reasons, it\u0027s preferred to keep that the same, especially in Chrome OS.",
      "parentUuid": "c2f701b5_4f955fb3",
      "revId": "e712eba10a7fb3548b0a922833432d26ec168ca0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e07ec91_5af61514",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2021-06-21T03:25:36Z",
      "side": 1,
      "message": "Can you give explicit explanation of your \"backward-compatibility\" consideration in context of ITS? IMO, the test here only need to pass on ToT and have no backward compatible issue(no need to pass on older version).",
      "parentUuid": "747580d2_f64c6157",
      "revId": "e712eba10a7fb3548b0a922833432d26ec168ca0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ecc78b12_3d24a278",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1285903
      },
      "writtenOn": "2021-06-21T08:02:15Z",
      "side": 1,
      "message": "I think this is more like a style guide kind of thing.\n\nYou see, our Python scripts all do explicitly specify python3 to coexist with legacy scripts. Whenever possible, let\u0027s avoid creating hacks like this which would increase long-term technical debts.",
      "parentUuid": "1e07ec91_5af61514",
      "revId": "e712eba10a7fb3548b0a922833432d26ec168ca0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a657647d_121b790d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2021-06-21T08:22:49Z",
      "side": 1,
      "message": "One downside of this is that by making the py2 -\u003e py3 patch more larger, it will also increase the difficulty to maintaining the patch(e.g. When updating versions, any new line changes near the patched line may make the current patch failed). Also since those scripts are downloaded from Android\u0027s codebase and thus coexist in another codebase, IMO, maybe we should follow their style guide for minimizing the patch size. Also I believe the patch will be eventaully removed as tauto get fully migrate to python3 as TODO(b/187788514) in the comment.",
      "parentUuid": "ecc78b12_3d24a278",
      "revId": "e712eba10a7fb3548b0a922833432d26ec168ca0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eac47f1a_853e5910",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1285903
      },
      "writtenOn": "2021-06-21T10:19:00Z",
      "side": 1,
      "message": "From a quick glance, there are fewer than 10 references, so I don\u0027t think maintenance is that big of an issue.\nhttps://cs.android.com/search?q\u003dpython\u0026ss\u003dandroid%2Fplatform%2Fsuperproject:cts%2Fapps%2FCameraITS%2F\u0026start\u003d1\n\nThis should be easier to do and less error-prone.\nYour CL right here also doesn\u0027t do any cleanup. What happens after CameraITS gets run? Shouldn\u0027t we be cleaning up the system environment? Also if there\u0027s an exception midway, doesn\u0027t this pollute the runtime environment?",
      "parentUuid": "a657647d_121b790d",
      "revId": "e712eba10a7fb3548b0a922833432d26ec168ca0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "683f98eb_06a45aee",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2021-06-21T22:44:47Z",
      "side": 1,
      "message": "All new files created by this CL resides under |p.dir| and will be clear with it accordingly. System path hijack will be clear by:\nhttps://source.corp.google.com/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/remote/bundles/cros/camera/pre/its_pre.go;rcl\u003da0c632f6a00f34ade2f83b50b2efda9ee61341e4;l\u003d216\n\nFor whether to patch test scripts explicitly to use python3,\nyinchiayeh@, can you give some comment on this as the patch\u0027s reviewer?",
      "parentUuid": "eac47f1a_853e5910",
      "revId": "e712eba10a7fb3548b0a922833432d26ec168ca0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6140434f_2f6719da",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1285903
      },
      "writtenOn": "2021-06-22T05:58:07Z",
      "side": 1,
      "message": "Thanks. I understand adb is necessary, and that\u0027s why we had that.\n\nThis to me feels more like a Python 3 conversion-related issue, so I still prefer having this patched up.",
      "parentUuid": "683f98eb_06a45aee",
      "revId": "e712eba10a7fb3548b0a922833432d26ec168ca0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3d6444a_6b28a0ca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001886
      },
      "writtenOn": "2021-06-23T05:33:37Z",
      "side": 1,
      "message": "If I understand correctly, what we want is to make \"python\" resolves to python3 when running ITS python scripts. Can we simply provide CommandContext.Env around [1] to do so?\n\nOverriding the environment variable of the whole Tast process may have unwanted side effects or hard-to-debug issues in the future, even if it works now.\n\n(Ideally the \"adb\" package in Tast should provide an option to specify the executable path, but that\u0027s another issue).\n\n[1] http://cs/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/remote/bundles/cros/camera/pre/its_pre.go?l\u003d245\u0026rcl\u003da0c632f6a00f34ade2f83b50b2efda9ee61341e4",
      "parentUuid": "6140434f_2f6719da",
      "revId": "e712eba10a7fb3548b0a922833432d26ec168ca0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b8d20751_516486aa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1271173
      },
      "writtenOn": "2021-06-30T03:03:08Z",
      "side": 1,
      "message": "Add TODO for addressing it.",
      "parentUuid": "a3d6444a_6b28a0ca",
      "revId": "e712eba10a7fb3548b0a922833432d26ec168ca0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}