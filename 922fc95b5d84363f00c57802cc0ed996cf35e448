{
  "comments": [
    {
      "key": {
        "uuid": "521f30ba_98edb9ea",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-06-20T02:15:19Z",
      "side": 1,
      "message": "style: Please end comment with a dot to make it a full sentence. Same for other comments in this file.\n\nhttps://github.com/golang/go/wiki/CodeReviewComments#comment-sentences",
      "range": {
        "startLine": 33,
        "startChar": 92,
        "endLine": 33,
        "endChar": 106
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "385ed133_4da6b88f",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-07-10T01:58:21Z",
      "side": 1,
      "message": "Ok added periods to all the comments.",
      "parentUuid": "521f30ba_98edb9ea",
      "range": {
        "startLine": 33,
        "startChar": 92,
        "endLine": 33,
        "endChar": 106
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04bd42d7_96fde2d3",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-07-11T02:11:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "385ed133_4da6b88f",
      "range": {
        "startLine": 33,
        "startChar": 92,
        "endLine": 33,
        "endChar": 106
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f5a4dee6_a9c39e12",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-06-20T02:15:19Z",
      "side": 1,
      "message": "style: s/Arc/ARC/g\n\nhttps://github.com/golang/go/wiki/CodeReviewComments#initialisms",
      "range": {
        "startLine": 36,
        "startChar": 1,
        "endLine": 36,
        "endChar": 20
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e41b0656_2c561e14",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-07-10T01:58:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f5a4dee6_a9c39e12",
      "range": {
        "startLine": 36,
        "startChar": 1,
        "endLine": 36,
        "endChar": 20
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "180b5b59_b40fa102",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-06-20T02:15:19Z",
      "side": 1,
      "message": "This check looks a bit racy; when chrome.ARCEnabled is passed to chrome.New, ARC starts booting even if we don\u0027t call arc.New.\n\nWhen will the CPU share be set in the ARC boot process?",
      "range": {
        "startLine": 68,
        "startChar": 1,
        "endLine": 68,
        "endChar": 34
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f2087ec_af994f41",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-06-28T02:45:46Z",
      "side": 1,
      "message": "Yeah it might be if that\u0027s true.  This gets set by the ui-pre-start script before chrome starts.\nI\u0027m not sure where might be the right place to check, or should we just leave this check out?",
      "parentUuid": "180b5b59_b40fa102",
      "range": {
        "startLine": 68,
        "startChar": 1,
        "endLine": 68,
        "endChar": 34
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7359ce3_928b2729",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-07-01T00:36:31Z",
      "side": 1,
      "message": "We can safely assume ui-pre-start script has finished when chrome.New returns (because the function restarts the ui service). But the problem here is that share can be already set to cpuSharedArcBackground if the device is fast.\n\nIf there seems no way to avoid this race, you might want to consider removing this check (share \u003d\u003d cpuSharesArcPreBoot).",
      "parentUuid": "4f2087ec_af994f41",
      "range": {
        "startLine": 68,
        "startChar": 1,
        "endLine": 68,
        "endChar": 34
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd339546_f339cbd8",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-07-10T01:58:21Z",
      "side": 1,
      "message": "Ok, I removed it.",
      "parentUuid": "f7359ce3_928b2729",
      "range": {
        "startLine": 68,
        "startChar": 1,
        "endLine": 68,
        "endChar": 34
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8544024b_255aa7d3",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-07-11T02:11:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "dd339546_f339cbd8",
      "range": {
        "startLine": 68,
        "startChar": 1,
        "endLine": 68,
        "endChar": 34
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0d787ebf_ba18dea1",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-06-20T02:15:19Z",
      "side": 1,
      "message": "huge nit: s/  / /\n\nSame for several other s.Fatal calls below.",
      "range": {
        "startLine": 69,
        "startChar": 52,
        "endLine": 69,
        "endChar": 54
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55f8502c_4e896d9d",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-07-10T01:58:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0d787ebf_ba18dea1",
      "range": {
        "startLine": 69,
        "startChar": 52,
        "endLine": 69,
        "endChar": 54
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "396db9a8_673e0cef",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-07-01T00:36:31Z",
      "side": 1,
      "message": "arc.New guarantees the following:\n\n // After this function returns successfully, you can assume BOOT_COMPLETED\n // intent has been broadcast from Android system, and ADB connection is ready.\n // Note that this does not necessarily mean all ARC mojo services are up; call\n // WaitIntentHelper() to wait for ArcIntentHelper to be ready, for example.\n\nIs this timing enough to assume the CPU share is already set to cpuSharedArcBackground?",
      "range": {
        "startLine": 83,
        "startChar": 1,
        "endLine": 83,
        "endChar": 37
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "addec304_54d07c52",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-07-10T01:58:21Z",
      "side": 1,
      "message": "I\u0027m not sure but at least it looks that way from my testing.  In Chrome I believe it happens when ArcInstanceThrottle gets created for the first time which happens in ArcBootPhaseMonitorBridge::OnArcInitialStart, but I\u0027m not sure when that happens relative to BOOT_COMPLETED.",
      "parentUuid": "396db9a8_673e0cef",
      "range": {
        "startLine": 83,
        "startChar": 1,
        "endLine": 83,
        "endChar": 37
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80f18a6b_03e771c1",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-07-11T02:11:43Z",
      "side": 1,
      "message": "Hmm. I took a brief look at code, but I\u0027m afraid there\u0027s no explicit ordering between BOOT_COMPLETED and ARC provisioning, and rather I guess BOOT_COMPLETED usually happens before ARC provisioning finish on production environment (in Tast tests we use fake accounts so I guess provisioning is skipped and finishes instantly).\n\nTo be safer, I recommend waiting for the CPU share with testing.Poll, rather than checking it just once.",
      "parentUuid": "addec304_54d07c52",
      "range": {
        "startLine": 83,
        "startChar": 1,
        "endLine": 83,
        "endChar": 37
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9322d75b_a2b9fefa",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 105,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2019-06-21T01:17:55Z",
      "side": 1,
      "message": "IIRC, the latest Chrome unthrottle the container once the user clicks an ARC app icon right? Can we check the CPU share before the window is shown to verify the \u0027unthrottle-on-click\u0027 feature is working as intended?",
      "range": {
        "startLine": 105,
        "startChar": 17,
        "endLine": 105,
        "endChar": 39
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8fb88c25_b33876bc",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 105,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-06-28T02:45:46Z",
      "side": 1,
      "message": "I think the way the test is currently written, it is going to open the app without using the launcher.  I have to investigate how to activate the launcher.",
      "parentUuid": "9322d75b_a2b9fefa",
      "range": {
        "startLine": 105,
        "startChar": 17,
        "endLine": 105,
        "endChar": 39
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e54795da_2b956ab7",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 105,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2019-07-01T01:54:17Z",
      "side": 1,
      "message": "Ok, for now, could you add a TODO so that we can improve the test later?",
      "parentUuid": "8fb88c25_b33876bc",
      "range": {
        "startLine": 105,
        "startChar": 17,
        "endLine": 105,
        "endChar": 39
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0638f80_608d79f7",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 105,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-07-10T01:58:21Z",
      "side": 1,
      "message": "Ok added a TODO above",
      "parentUuid": "e54795da_2b956ab7",
      "range": {
        "startLine": 105,
        "startChar": 17,
        "endLine": 105,
        "endChar": 39
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c792e47b_c231fe64",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 105,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-07-11T02:11:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c0638f80_608d79f7",
      "range": {
        "startLine": 105,
        "startChar": 17,
        "endLine": 105,
        "endChar": 39
      },
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44b42277_d4c7e8b6",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2019-06-21T01:17:55Z",
      "side": 1,
      "message": "I don\u0027t know much about Tast framwork, but is it possible to show/hide the app shelf? The recent throttling bug was introduced by the app shelf show/hide actions IIRC, and it would be nice if we can test the case here.",
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6182cce5_259f4fc3",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-06-28T02:45:46Z",
      "side": 1,
      "message": "yeah see above -- I suspect it\u0027s possible, but will need to maybe simulate some input events in the right areas.",
      "parentUuid": "44b42277_d4c7e8b6",
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23547093_205d7631",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1000303
      },
      "writtenOn": "2019-07-01T01:54:17Z",
      "side": 1,
      "message": "same, I\u0027d have another TODO for this too.",
      "parentUuid": "6182cce5_259f4fc3",
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f757e2e_dc6ce03d",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/cgroups.go",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2019-07-10T01:58:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "23547093_205d7631",
      "revId": "922fc95b5d84363f00c57802cc0ed996cf35e448",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}