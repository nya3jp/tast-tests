{
  "comments": [
    {
      "key": {
        "uuid": "4c717a0c_78c75258",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode/accel_video.go",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2018-12-04T08:13:55Z",
      "side": 1,
      "message": "nit: video encoding?\nbecause there is video.EncodeAccelJPEG",
      "range": {
        "startLine": 5,
        "startChar": 70,
        "endLine": 5,
        "endChar": 78
      },
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "501eaaf4_043977fa",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode/accel_video.go",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-11-30T04:07:18Z",
      "side": 1,
      "message": "Is this actually used? I\u0027m not sure this should be in the TestOptions object.",
      "range": {
        "startLine": 48,
        "startChar": 8,
        "endLine": 48,
        "endChar": 20
      },
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6eb3145f_4ec2befd",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode/accel_video.go",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-11-30T04:07:18Z",
      "side": 1,
      "message": "The input file properties will be removed in the future, and moved to a json file accompanying the test data. Maybe it is better to keep this out of the test options? It\u0027s not a property of the test, but rather of the test data.",
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "436443ad_e8fa7a39",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode/accel_video.go",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-11-30T00:41:44Z",
      "side": 1,
      "message": "nit: i think this should be \"start ui\", also remove duplicate \"test\" mentions, e.g.\n\n  // Reserve time to restart the ui job at the end of the test.",
      "range": {
        "startLine": 64,
        "startChar": 78,
        "endLine": 64,
        "endChar": 82
      },
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a023197_4a0541a6",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode/accel_video.go",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-11-30T04:07:18Z",
      "side": 1,
      "message": "+1, let\u0027s clearly document what we\u0027re doing, I would even explain why stop ui is needed here. Something like:\nOnly a single process can have access to the GPU, so we are required to call \"stop ui\" at the start of the test. This will shut down the chrome process and allow us to claim ownership of the GPU.",
      "parentUuid": "436443ad_e8fa7a39",
      "range": {
        "startLine": 64,
        "startChar": 78,
        "endLine": 64,
        "endChar": 82
      },
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "456091c2_ba0a9e63",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode/accel_video.go",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-11-30T00:41:44Z",
      "side": 1,
      "message": "please import chromiumos/tast/ctxutil and use ctxutil.Shorten(ctx, 20*time.Second) (or however much time you need to reserve to start the ui job)",
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67f35a86_fb5db265",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode/accel_video.go",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-11-30T04:07:18Z",
      "side": 1,
      "message": "+1. I would definitely let this timeout be dependent on the overal timeout.\n\nStarting the UI seems to take a few seconds on Nocturne, not sure how long it takes on a slower platform? As the devices should boot within 20s, I guess 20s just for the UI should be enough. But let\u0027s leave some room to reduce flakiness :-)",
      "parentUuid": "456091c2_ba0a9e63",
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27bb1c6e_2802d2e1",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode/accel_video.go",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-11-30T05:43:56Z",
      "side": 1,
      "message": "i wasn\u0027t really sure about this, and you could probably just use 10s if you want. i suspect that you actually just need enough time for the \"start ui\" command to be run, and it won\u0027t matter if the command gets killed before the ui job is actually up -- upstart will continue running the job.",
      "parentUuid": "67f35a86_fb5db265",
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "706aad67_15b3903b",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode/accel_video.go",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2018-12-04T08:13:55Z",
      "side": 1,
      "message": "FYI: I wrote same code for video.DecodeAccel* here:\nhttps://chromium.googlesource.com/chromiumos/platform/tast-tests/+/refs/changes/94/1358294/1/src/chromiumos/tast/local/bundles/cros/video/decode/accel_video.go#99",
      "parentUuid": "27bb1c6e_2802d2e1",
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae445d21_10d7b0c4",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode_accel_h264_1080p_i420.go",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2018-11-30T04:07:18Z",
      "side": 1,
      "message": "The TestOptions are a nice addition, I think it\u0027s more readable now :-)",
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "05b49bb4_5610cce9",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode_accel_h264_nv12_dmabuf.go",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-11-30T00:41:44Z",
      "side": 1,
      "message": "this should probably be \"DMABUF\", right?",
      "range": {
        "startLine": 18,
        "startChar": 27,
        "endLine": 18,
        "endChar": 33
      },
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b983790c_ec9fdfb6",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode_accel_h264_nv12_dmabuf.go",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-11-30T00:41:44Z",
      "side": 1,
      "message": "just to make sure i understand this comment, is the functionality that this is testing needed by ARC but not by any non-ARC code paths?",
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94c6ee34_c84ceb59",
        "filename": "src/chromiumos/tast/local/bundles/cros/video/encode_accel_vp8_nv12_dmabuf.go",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-11-30T00:41:44Z",
      "side": 1,
      "message": "\"DMABUF\"?",
      "range": {
        "startLine": 18,
        "startChar": 26,
        "endLine": 18,
        "endChar": 32
      },
      "revId": "2d61d38b77da3095d981b818ca078400fe8b2948",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}