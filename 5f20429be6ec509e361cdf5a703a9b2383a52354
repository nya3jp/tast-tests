{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "481d6d13_c71ad561",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2022-03-15T07:10:57Z",
      "side": 1,
      "message": "See comment I made.\n\nI\u0027m still running all the tests to make sure nothing breaks from this. But please take a look at my comment on launch.go.",
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "518c7295_d1c2501f",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2022-03-15T07:10:57Z",
      "side": 1,
      "message": "N.B. This has side effects, like showing the mouse, showing the hotseat, and showing a tooltip. This can affect perf tests. We can /attempt/ to try to reverse these side effects but IMO it\u0027s fragile.\n\nIMO we should instead use an autotest private API to do this. Would like to hear if anyone has any other ideas though.",
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bec27f13_e494fdbb",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2022-03-15T15:19:21Z",
      "side": 1,
      "message": "curious, how different is this from `apps.Launch` calling chrome.autotestPrivate.launchApp internally? Should we provide both ways? I\u0027ve seen some tests use `apps.Launch`, some `LaunchFromShelf` and others don\u0027t care much. If apps.Launch is reliable it could probably be the default instead?",
      "parentUuid": "518c7295_d1c2501f",
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c4825f97_fd10d249",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2022-03-16T05:17:56Z",
      "side": 1,
      "message": "This is exactly the thing I was looking for, thanks! Let me just verify it works on all existing lacros Tast tests.\n\nIMO we should provide a generic Launch function that launches lacros in a production-similar way. If tests have a specific reason to launch via shelf they can implement it themselves IMO.",
      "parentUuid": "bec27f13_e494fdbb",
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6fb311d_107aa813",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2022-03-16T15:38:43Z",
      "side": 1,
      "message": "Assuming that both ways are reliable with no flake, I would vote for defaulting to apps.Launch making autotestPrivate API solid and giving an option of launching from shelf via LaunchFromShelf (as it is), so as to avoid any side effects from the hotseat or tooltop as you mentioned.\nIt\u0027d be interesting to hear more from other reviewers though.",
      "parentUuid": "c4825f97_fd10d249",
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf0b9dae_c82540e9",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2022-03-17T04:48:27Z",
      "side": 1,
      "message": "No tests currently call LaunchFromShelf and need to call it, so we should remove it IMO.",
      "parentUuid": "c6fb311d_107aa813",
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "95648f0f_75369635",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 100,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2022-03-15T15:19:21Z",
      "side": 1,
      "message": "How is it exposed to test writers? via browserfixt or any generalized version to browser package?",
      "range": {
        "startLine": 100,
        "startChar": 5,
        "endLine": 100,
        "endChar": 18
      },
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fa556aa5_4318fdab",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 100,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2022-03-16T05:17:56Z",
      "side": 1,
      "message": "Same as before - it\u0027s used by browserfixt, and also available to use directly.",
      "parentUuid": "95648f0f_75369635",
      "range": {
        "startLine": 100,
        "startChar": 5,
        "endLine": 100,
        "endChar": 18
      },
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a96d2500_373b5c6f",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2022-03-15T15:19:21Z",
      "side": 1,
      "message": "is it always going to be a blank page target? any comment may help.",
      "range": {
        "startLine": 104,
        "startChar": 59,
        "endLine": 104,
        "endChar": 61
      },
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "544d2ebe_7bdf3951",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2022-03-16T05:17:56Z",
      "side": 1,
      "message": "This is just a hack to get all the targets. The semantics of this function are to error if there is not exactly one page. It doesn\u0027t matter what the page is, although every one I have seen is chrome://new-tab",
      "parentUuid": "a96d2500_373b5c6f",
      "range": {
        "startLine": 104,
        "startChar": 59,
        "endLine": 104,
        "endChar": 61
      },
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "986b9766_126ab436",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2022-03-15T15:19:21Z",
      "side": 1,
      "message": "nit: `pc`? or ts might be confusing here if there were non-page types of targets.",
      "range": {
        "startLine": 118,
        "startChar": 68,
        "endLine": 118,
        "endChar": 70
      },
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9f8f235d_8b0963e9",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2022-03-16T05:17:56Z",
      "side": 1,
      "message": "pc is page count, ts is targets. If there were non-page targets they are included in targets but not in page count, so it seems sensible to me IMHO.\n\nAs for the short names, it\u0027s go style (for better or worse).",
      "parentUuid": "986b9766_126ab436",
      "range": {
        "startLine": 118,
        "startChar": 68,
        "endLine": 118,
        "endChar": 70
      },
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30c1ac2d_b6facf74",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2022-03-16T15:38:43Z",
      "side": 1,
      "message": "nit: then could it be rephrased \"expected only one page target, got %q\"?",
      "parentUuid": "9f8f235d_8b0963e9",
      "range": {
        "startLine": 118,
        "startChar": 68,
        "endLine": 118,
        "endChar": 70
      },
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2ef9bd45_35d1615d",
        "filename": "src/chromiumos/tast/local/chrome/lacros/launch.go",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1179631
      },
      "writtenOn": "2022-03-17T04:48:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "30c1ac2d_b6facf74",
      "range": {
        "startLine": 118,
        "startChar": 68,
        "endLine": 118,
        "endChar": 70
      },
      "revId": "5f20429be6ec509e361cdf5a703a9b2383a52354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}