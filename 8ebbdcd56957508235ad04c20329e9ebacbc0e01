{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1787705a_c8655555",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1520127
      },
      "writtenOn": "2022-03-17T20:14:14Z",
      "side": 1,
      "message": "Can you PTAL, Hidehiko? \n\nI\u0027ve just rebased this CL on the latest http://crrev.com/c/3499547 patchset. If the general idea is sound and sensible to what you have thought, I\u0027ll finish up a few TODOs in the code and follow-up then on the Chromium side by adding a few histogram metrics for Lacros (per Erik\u0027s suggestion). Thank you.",
      "revId": "8ebbdcd56957508235ad04c20329e9ebacbc0e01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72a0f97d_163afc94",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 12
      },
      "lineNbr": 142,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2022-03-18T21:04:23Z",
      "side": 1,
      "message": "Just FYI.\nI realized that passing in an empty \"Lacros\"Config value for \"Ash\" may be misleading or confusing. In a follow up (https://crrev.com/c/3536446), we can do some cleanup that uses a pointer semantic for LacrosConfig if passing nil for ash-chrome makes more sense to avoid confusion. With the cleanup it\u0027d be like this:\n```\nif bt \u003d\u003d browser.TypeLacros {\n    cfg \u003d s.Param().(testParam).lacrosConfig.WithVar(s)\n} else {\n    cfg \u003d nil\n}\n```\nOnce it gets in, you can also remove `lacrosfixt` entirely, use `browserfixt` instead. It\u0027s just for cleanup ideas but doesn\u0027t necessarily have to block this CL at all, so please feel free to resolve this and suggest.",
      "range": {
        "startLine": 138,
        "startChar": 0,
        "endLine": 142,
        "endChar": 2
      },
      "revId": "8ebbdcd56957508235ad04c20329e9ebacbc0e01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a4d6598_a489bf3d",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 12
      },
      "lineNbr": 142,
      "author": {
        "id": 1520127
      },
      "writtenOn": "2022-03-21T19:07:13Z",
      "side": 1,
      "message": "Indeed this way now it becomes much cleaner. I\u0027ve changed and submitted to Patchset 14. Thanks for pointing out this, Hyung.",
      "parentUuid": "72a0f97d_163afc94",
      "range": {
        "startLine": 138,
        "startChar": 0,
        "endLine": 142,
        "endChar": 2
      },
      "revId": "8ebbdcd56957508235ad04c20329e9ebacbc0e01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b632449_7e796326",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 12
      },
      "lineNbr": 146,
      "author": {
        "id": 1507611
      },
      "writtenOn": "2022-03-18T21:04:23Z",
      "side": 1,
      "message": "It\u0027s nice to get a `closeBrowser` closure here and call it for a cleanup with `defer closeBrowser(cleanupCtx)` after the line 150 (cr.Close). It\u0027s closing browser for lacros-chrome, but a no-op for ash-chrome",
      "range": {
        "startLine": 146,
        "startChar": 9,
        "endLine": 146,
        "endChar": 10
      },
      "revId": "8ebbdcd56957508235ad04c20329e9ebacbc0e01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f8d4da83_416fd101",
        "filename": "src/chromiumos/tast/local/bundles/cros/lacros/login_perf.go",
        "patchSetId": 12
      },
      "lineNbr": 146,
      "author": {
        "id": 1520127
      },
      "writtenOn": "2022-03-21T19:07:13Z",
      "side": 1,
      "message": "We intentionally don\u0027t cleanup here. The idea actually is to open a browser and connect ti a particular window, leave it opened, so later in the next UI session (during performRegularLogin) we restore it in order to record all the browser window start time.\n\nI\u0027m sorry to not explain and document it before. I\u0027ve amended a comment now tyring to make this clearer in Patchset 14.",
      "parentUuid": "7b632449_7e796326",
      "range": {
        "startLine": 146,
        "startChar": 9,
        "endLine": 146,
        "endChar": 10
      },
      "revId": "8ebbdcd56957508235ad04c20329e9ebacbc0e01",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}