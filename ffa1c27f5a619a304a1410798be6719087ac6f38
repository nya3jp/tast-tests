{
  "comments": [
    {
      "key": {
        "uuid": "e9ff3377_a64225a2",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/start_crosvm.go",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-10-06T16:16:00Z",
      "side": 1,
      "message": "this is the only caller of MustGetSystemBus now, which makes me wonder if it\u0027s even worth adding. maybe it would be better to call dbusutil.Connect below and discard everything except the error. we\u0027ll need to also duplicate the path constant here, since Connect needs it to create the object. what do you think?",
      "revId": "ffa1c27f5a619a304a1410798be6719087ac6f38",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f62dd976_bbb95c0f",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/start_crosvm.go",
        "patchSetId": 3
      },
      "lineNbr": 30,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-10-06T17:06:15Z",
      "side": 1,
      "message": "If duplicating the path is allowed, it makes sense.\n\n(Optional): Moreover, I\u0027m thinking to introduce a small wrapper struct;\n\ntype ComponentUpdater struct {\n  obj dbus.BusObject\n}\n\nfunc NewComponentUpdater(ctx context.Context) (*ComponentUpdater, error) {\n  ...\n}\n\nfunc (c *ComponentUpdater) LoadComponent(ctx context.Context, name string) (string, error) {\n  ...\n}\n\nbecause there already are two callers of LoadComponent,\nand more will come, e.g. platform_AddPrinter.py which I\u0027m looking at (not high priority, because it is not a test running in CQ, though).\n\nThen, this code can be something like;\n\n// Wait for ComponentUpdaterService is up.\n_, err :\u003d NewComponentUpdater(ctx)\n\nWDYT?\n(This may be out of scope of this CL, and I\u0027m fine with the current CL to focus on SystemBus error clean up, though).",
      "parentUuid": "e9ff3377_a64225a2",
      "revId": "ffa1c27f5a619a304a1410798be6719087ac6f38",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a6270c17_2eec8ae6",
        "filename": "src/chromiumos/tast/local/vm/vm.go",
        "patchSetId": 3
      },
      "lineNbr": 63,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2018-10-06T17:06:15Z",
      "side": 1,
      "message": "nit/style: does\n\nif _, c.ciceroneObj, err :\u003d dbusutil.Connect(...); err !\u003d nil {\n}\n\nwork?",
      "range": {
        "startLine": 62,
        "startChar": 1,
        "endLine": 63,
        "endChar": 91
      },
      "revId": "ffa1c27f5a619a304a1410798be6719087ac6f38",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}