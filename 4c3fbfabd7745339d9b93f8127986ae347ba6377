{
  "comments": [
    {
      "key": {
        "uuid": "36f43ed1_3eecc079",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2020-06-22T02:10:32Z",
      "side": 1,
      "message": "It\u0027s unfortunate that we have to use separate names for the tests running on ARCVM. This will quickly become hard to manage. Can\u0027t we reuse the same tests, and use something like \"android_p_or_vm\"? The tests themselves should be able to detect the platform we\u0027re running on and account for any differences.",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13ab947a_167320e6",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2020-06-22T02:34:55Z",
      "side": 1,
      "message": "There is an \"arc\" dependency, but that\u0027s apparently meant for running non-ARC tests only on boards that have ARC.\n\nAs for something like android_p_or_vm, that\u0027s not supported right now. I asked about it in the ARCVM chat last week: https://dynamite-preprod.sandbox.google.com/room/AAAAOWNQg6I/4EfPj9h4qfc. It sounds like how to handle the combinations of Android versions and informational/critical tests is still up in the air. For this case in particular, there\u0027s also the issue of not supporting arm ARCVM.",
      "parentUuid": "36f43ed1_3eecc079",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ca043cb_92018b10",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2020-06-22T02:48:50Z",
      "side": 1,
      "message": "I think it would be better to use use \"arc\" here, as these tests should work on any variant of Android. We are also not planning on maintaining separate policies for ARC++ and ARCVM tests related to e.g. running in CQ. All of these tests are currently informational. If we want to enable these tests in CQ we will probably maintain a small whitelist and add dedicated \"_cq\" tests: https://crrev.com/c/2224742",
      "parentUuid": "13ab947a_167320e6",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc3860f3_f9acba43",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2020-06-22T02:56:16Z",
      "side": 1,
      "message": "I would rather avoid using arc, since using that would likely cause problems with any future changes to the tast deps done by the ARC team. There\u0027s also the problem of the ARM tests (unless we\u0027re fine running them even though they\u0027re going to fail).",
      "parentUuid": "5ca043cb_92018b10",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c1f836d_c103c7ef",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2020-06-22T03:48:02Z",
      "side": 1,
      "message": "Thanks for the reply! What future changes would there be made that can cause issues?\n\nAnd asides from marking tests as informational, are there other factors that we would want to do differently for ARC++ and ARCVM tests that would warrant keeping them separate? I would prefer only duplicating things as a last resort.\n\nCould you clarify what you mean with the problem of ARM tests? I guess to some extend we might add some logic in the tests themselves to skip on certain platforms (gtest supports a skip option, which I\u0027ve been using for the video decoder tests).",
      "parentUuid": "fc3860f3_f9acba43",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}