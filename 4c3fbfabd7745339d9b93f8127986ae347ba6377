{
  "comments": [
    {
      "key": {
        "uuid": "e881da88_ba3a70a0",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video/arc_accel_video.go",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2020-06-22T05:04:01Z",
      "side": 1,
      "message": "string(out)? `output` may not be needed",
      "range": {
        "startLine": 106,
        "startChar": 41,
        "endLine": 106,
        "endChar": 55
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6156c73c_ae6b3a69",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video/arc_accel_video.go",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2020-06-22T05:33:23Z",
      "side": 1,
      "message": "Whoops, not sure how I duplicated that line.",
      "parentUuid": "e881da88_ba3a70a0",
      "range": {
        "startLine": 106,
        "startChar": 41,
        "endLine": 106,
        "endChar": 55
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b92263b_a0de547e",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2020-06-22T05:04:01Z",
      "side": 1,
      "message": "Currently, the order of params is like:\n* h264\n* vp8\n* vp9\n* h264_vm\n* vp8_vm\n* vp9_vm\n\nHow about reorder this like this?\n* h264\n* h264_vm\n* vp8\n* vp8_vm\n* vp9\n* vp9_vm\n\nThen, we can easily ensure that a codec is tested on both ARC++ and ARCVM.",
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9c2f01e_b00ffa74",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2020-06-22T05:33:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7b92263b_a0de547e",
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36f43ed1_3eecc079",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2020-06-22T02:10:32Z",
      "side": 1,
      "message": "It\u0027s unfortunate that we have to use separate names for the tests running on ARCVM. This will quickly become hard to manage. Can\u0027t we reuse the same tests, and use something like \"android_p_or_vm\"? The tests themselves should be able to detect the platform we\u0027re running on and account for any differences.",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13ab947a_167320e6",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2020-06-22T02:34:55Z",
      "side": 1,
      "message": "There is an \"arc\" dependency, but that\u0027s apparently meant for running non-ARC tests only on boards that have ARC.\n\nAs for something like android_p_or_vm, that\u0027s not supported right now. I asked about it in the ARCVM chat last week: https://dynamite-preprod.sandbox.google.com/room/AAAAOWNQg6I/4EfPj9h4qfc. It sounds like how to handle the combinations of Android versions and informational/critical tests is still up in the air. For this case in particular, there\u0027s also the issue of not supporting arm ARCVM.",
      "parentUuid": "36f43ed1_3eecc079",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ca043cb_92018b10",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2020-06-22T02:48:50Z",
      "side": 1,
      "message": "I think it would be better to use use \"arc\" here, as these tests should work on any variant of Android. We are also not planning on maintaining separate policies for ARC++ and ARCVM tests related to e.g. running in CQ. All of these tests are currently informational. If we want to enable these tests in CQ we will probably maintain a small whitelist and add dedicated \"_cq\" tests: https://crrev.com/c/2224742",
      "parentUuid": "13ab947a_167320e6",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc3860f3_f9acba43",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2020-06-22T02:56:16Z",
      "side": 1,
      "message": "I would rather avoid using arc, since using that would likely cause problems with any future changes to the tast deps done by the ARC team. There\u0027s also the problem of the ARM tests (unless we\u0027re fine running them even though they\u0027re going to fail).",
      "parentUuid": "5ca043cb_92018b10",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c1f836d_c103c7ef",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2020-06-22T03:48:02Z",
      "side": 1,
      "message": "Thanks for the reply! What future changes would there be made that can cause issues?\n\nAnd asides from marking tests as informational, are there other factors that we would want to do differently for ARC++ and ARCVM tests that would warrant keeping them separate? I would prefer only duplicating things as a last resort.\n\nCould you clarify what you mean with the problem of ARM tests? I guess to some extend we might add some logic in the tests themselves to skip on certain platforms (gtest supports a skip option, which I\u0027ve been using for the video decoder tests).",
      "parentUuid": "fc3860f3_f9acba43",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a783da35_73773b2b",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2020-06-22T04:09:56Z",
      "side": 1,
      "message": "Based on the linked discussion, the software team is aware that the current situation isn\u0027t great, so I would expect some improvements from them in the future (especially since this problem will only get worse the more Android versions we support).\n\nRight now hardware decode isn\u0027t available on ARM, so all the c2e2e tests will fail when they try to create a MediaCodec. I guess it would be possible to modify the tast code or the c2e2etest apk to skip the tests on arm, but I think it\u0027s much better to handle that directly with tast softwaredeps.",
      "parentUuid": "0c1f836d_c103c7ef",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd586a89_a6c9de76",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1273836
      },
      "writtenOn": "2020-06-22T05:04:01Z",
      "side": 1,
      "message": "I\u0027m personally okay with the current version until some improvement discussed is supported:\nhttps://docs.google.com/document/d/14TL-zZ3OqXVtfF3vwdvWPjjgt4CIO9z2guNH8C2lwOo/edit#heading\u003dh.x8svw1emvfrt\n\nRegarding ARM, acourbot@ has already tested it locally, IIRC. So, we might be able to wait for ARM, depending on his current bandwidth. I think it\u0027s CL:2228308 and one more CL in concierge.",
      "parentUuid": "a783da35_73773b2b",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34e513ec_03c6e7f5",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1363051
      },
      "writtenOn": "2020-06-22T05:33:23Z",
      "side": 1,
      "message": "Waiting until ARM changes are checked in is fine with me.",
      "parentUuid": "cd586a89_a6c9de76",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a14dd84_e6202389",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/video_decode_accel.go",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1288602
      },
      "writtenOn": "2020-06-22T23:20:18Z",
      "side": 1,
      "message": "Thanks for linking that doc Keiichi! Seems like this problem is a lot more complex that I anticipated. I\u0027m fine with submitting it like this for now. I hope we can find a more scalable solution soon.",
      "parentUuid": "34e513ec_03c6e7f5",
      "range": {
        "startLine": 46,
        "startChar": 23,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "4c3fbfabd7745339d9b93f8127986ae347ba6377",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}