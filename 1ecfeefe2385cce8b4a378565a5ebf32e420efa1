{
  "comments": [
    {
      "key": {
        "uuid": "a527780e_ca5e397b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-25T16:41:32Z",
      "side": 1,
      "message": "Cq-Depend on https://chrome-internal-review.googlesource.com/c/chromeos/platform/tast-tests-private/+/3135082",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd726e34_1ee30d62",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-26T12:50:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a527780e_ca5e397b",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4dab8319_df987af3",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-25T16:40:38Z",
      "side": 1,
      "message": "nit: // arcEnabled is the value of ArcEnabled user policy.",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c0f5c43_7230c2ad",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-26T12:50:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4dab8319_df987af3",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b604ec40_23716abd",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-25T16:40:38Z",
      "side": 1,
      "message": "If we ever get the test to run faster we can consider using a table driven test.",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a8c3ce2f_bb87fc43",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-26T12:50:02Z",
      "side": 1,
      "message": "Could you please elaborate on what do you mean by table driven test and why do we need them?\n\nIn general, it is possible to set a separate timeout per each test case.",
      "parentUuid": "b604ec40_23716abd",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d20e0ef6_6ee6b970",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-26T21:24:16Z",
      "side": 1,
      "message": "https://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#Table_driven-tests\n\nYou don\u0027t change the test metadata so a parametric test is not required and they pollute the tast-board. But in this case it makes sense to separate them due to the long runtime.",
      "parentUuid": "a8c3ce2f_bb87fc43",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "302f0245_4b9f882f",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-29T08:14:28Z",
      "side": 1,
      "message": "Got it, thanks",
      "parentUuid": "d20e0ef6_6ee6b970",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10f42d3b_ebb7d060",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 104,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-25T16:40:38Z",
      "side": 1,
      "message": "Add a TODO to use FakeDMS\n\nhttps://bugs.chromium.org/p/chromium/issues/detail?id\u003d1099310",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff03522f_c555ff1f",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 104,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-26T12:50:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "10f42d3b_ebb7d060",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "391690a0_3b7000e7",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-25T16:40:38Z",
      "side": 1,
      "message": "Create a cleanup context to give this enough time",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1faea2b8_78d22e7c",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-26T12:50:02Z",
      "side": 1,
      "message": "What is a cleanup context?",
      "parentUuid": "391690a0_3b7000e7",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47771505_75c5d0c6",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-26T21:24:16Z",
      "side": 1,
      "message": "use after the defer:\nctx, cancel :\u003d ctxutil.Shorten(ctx, 30*time.Second)\ndefer cancel()\n\nThis will allow cr.Close(ctx) to work even when the test times out. Otherwise the expired context will not allow it do do anything.",
      "parentUuid": "1faea2b8_78d22e7c",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38758af6_39f42e15",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-29T08:14:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "47771505_75c5d0c6",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "82aaafb9_fe26c9ff",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-25T16:40:38Z",
      "side": 1,
      "message": "nit: start ARC in both cases and only differentiate when checking for error",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04fc5488_fb7337ea",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-26T12:50:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82aaafb9_fe26c9ff",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "498889c2_eb84f205",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-25T16:40:38Z",
      "side": 1,
      "message": "nit: add a TODO (+bug) to check this without waiting for 2 minutes",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7a54694_bdae8b13",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 124,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-26T12:50:02Z",
      "side": 1,
      "message": "Hm, arc.New does not start a new ARC instance, it just connects to existing one waiting for adb become available.\nBug good point, no need in explicit timeout, arc.New handles it itself.",
      "parentUuid": "498889c2_eb84f205",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f0fbb0a_23d5cf95",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-25T16:40:38Z",
      "side": 1,
      "message": "Error",
      "range": {
        "startLine": 128,
        "startChar": 5,
        "endLine": 128,
        "endChar": 10
      },
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "841eba63_897bdc5f",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-26T12:50:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0f0fbb0a_23d5cf95",
      "range": {
        "startLine": 128,
        "startChar": 5,
        "endLine": 128,
        "endChar": 10
      },
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cafcef52_e912194c",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-25T16:40:38Z",
      "side": 1,
      "message": "nit: newline before",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3290349f_eba25497",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-26T12:50:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cafcef52_e912194c",
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9234f4d_96fd5715",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-25T16:40:38Z",
      "side": 1,
      "message": "Is it possible to check for a specific error?",
      "range": {
        "startLine": 135,
        "startChar": 11,
        "endLine": 135,
        "endChar": 14
      },
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c32ba2ef_390a96aa",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-26T12:50:02Z",
      "side": 1,
      "message": "I can extract error messages from internals of arc.New.\nCase 1: ARC has to be enabled, but failed \u003d\u003e a fatal error regardless of what error is returned from arc.New.\nCase 2: ARC has to be disabled and err !\u003d nil was returned by arc.New \u003d\u003e it means that ARC has not been started - correct, regardless of returned err.\n\nCould you please elaborate what for do you think we need to distinguish errors?",
      "parentUuid": "d9234f4d_96fd5715",
      "range": {
        "startLine": 135,
        "startChar": 11,
        "endLine": 135,
        "endChar": 14
      },
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8817b4e4_1e4f2998",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-26T21:24:16Z",
      "side": 1,
      "message": "It\u0027s only for the \"err !\u003d nil\" case. I was asking if an error specific for the disabled by policy case exists. This can prevent the test from succeeding if the ARC failure was unrelated.\n\nIt\u0027s not required, but useful.",
      "parentUuid": "c32ba2ef_390a96aa",
      "range": {
        "startLine": 135,
        "startChar": 11,
        "endLine": 135,
        "endChar": 14
      },
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12b03bb0_57e040e5",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-29T08:14:28Z",
      "side": 1,
      "message": "Got your point. In this case a timer expired error is expected (the system is waiting for ARC, but it never happens).\n\nI think it is excessive.\nLet\u0027s assume the test is not flaky and consistent. If arc.New fails for arcEnabled \u003d false with the different error (not related to the policy), then most probably it will fail for arcEnabled \u003d true and not start ARC and the error will be caught.\nCurrently, the test runs true/false tests for the same domain, but later with the fake dms it will do that even for the same account (only policy values will be different).",
      "parentUuid": "8817b4e4_1e4f2998",
      "range": {
        "startLine": 135,
        "startChar": 11,
        "endLine": 135,
        "endChar": 14
      },
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da69dc14_a27b4b91",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 136,
      "author": {
        "id": 1368736
      },
      "writtenOn": "2020-06-25T16:40:38Z",
      "side": 1,
      "message": "Error",
      "range": {
        "startLine": 136,
        "startChar": 4,
        "endLine": 136,
        "endChar": 9
      },
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8e99869_36a350cb",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/enterprise_login.go",
        "patchSetId": 1
      },
      "lineNbr": 136,
      "author": {
        "id": 1124166
      },
      "writtenOn": "2020-06-26T12:50:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da69dc14_a27b4b91",
      "range": {
        "startLine": 136,
        "startChar": 4,
        "endLine": 136,
        "endChar": 9
      },
      "revId": "1ecfeefe2385cce8b4a378565a5ebf32e420efa1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}