{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e15a2bd9_c30fd89b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-07-14T11:16:14Z",
      "side": 1,
      "message": "Thanks!",
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77b515df_83b41f24",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1355245
      },
      "writtenOn": "2021-07-15T03:12:27Z",
      "side": 1,
      "message": "android/ lgtm",
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4bd83ba3_a001521a",
        "filename": "android/ArcQuotaProjectIdTest/src/org/chromium/arc/testapp/quotaprojectid/MainActivity.java",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1355245
      },
      "writtenOn": "2021-07-15T03:12:27Z",
      "side": 1,
      "message": "optional nit: I would use nio if possible, it dones\u0027t have much benefit in this case though.",
      "range": {
        "startLine": 19,
        "startChar": 12,
        "endLine": 19,
        "endChar": 20
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5bbccfe5_d815ee37",
        "filename": "android/ArcQuotaProjectIdTest/src/org/chromium/arc/testapp/quotaprojectid/MainActivity.java",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2021-07-15T07:38:13Z",
      "side": 1,
      "message": "Replaced FileOutputStream with Files.write().",
      "parentUuid": "4bd83ba3_a001521a",
      "range": {
        "startLine": 19,
        "startChar": 12,
        "endLine": 19,
        "endChar": 20
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7dc32fa1_9e80d639",
        "filename": "android/ArcQuotaProjectIdTest/src/org/chromium/arc/testapp/quotaprojectid/MainActivity.java",
        "patchSetId": 3
      },
      "lineNbr": 48,
      "author": {
        "id": 1355245
      },
      "writtenOn": "2021-07-15T03:12:27Z",
      "side": 1,
      "message": "nit: I would put exception to the third argument of Log.e.",
      "range": {
        "startLine": 48,
        "startChar": 55,
        "endLine": 48,
        "endChar": 59
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94e6a0fe_8718f385",
        "filename": "android/ArcQuotaProjectIdTest/src/org/chromium/arc/testapp/quotaprojectid/MainActivity.java",
        "patchSetId": 3
      },
      "lineNbr": 48,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2021-07-15T07:38:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7dc32fa1_9e80d639",
      "range": {
        "startLine": 48,
        "startChar": 55,
        "endLine": 48,
        "endChar": 59
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2cf67ca7_d215b166",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-07-15T02:53:05Z",
      "side": 1,
      "message": "Does it take so long? Note that we don\u0027t need to include fixture runtime in this timeout.",
      "range": {
        "startLine": 28,
        "startChar": 16,
        "endLine": 28,
        "endChar": 33
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8431a67c_09a0d3f5",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2021-07-15T07:38:13Z",
      "side": 1,
      "message": "Seems unnecessary.\nRemoved.",
      "parentUuid": "2cf67ca7_d215b166",
      "range": {
        "startLine": 28,
        "startChar": 16,
        "endLine": 28,
        "endChar": 33
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84b700cf_73e3bd88",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-07-15T02:53:05Z",
      "side": 1,
      "message": "Do you mean to reserve some time for cleanup? Then you need to use the original longer context for cleanup. Otherwise, when the test times out, we fail to run cleanup because the context is already expired. Please also see my another comment about act.Stop below.",
      "range": {
        "startLine": 64,
        "startChar": 0,
        "endLine": 65,
        "endChar": 15
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cfc300b4_a8c8b906",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2021-07-15T07:38:13Z",
      "side": 1,
      "message": "Thank you for catching this.\nThough after removing act.Stop() below, there is no deferred cleanup which requires the original context.",
      "parentUuid": "84b700cf_73e3bd88",
      "range": {
        "startLine": 64,
        "startChar": 0,
        "endLine": 65,
        "endChar": 15
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ffc5ab2_ac32d1a3",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-07-15T07:45:07Z",
      "side": 1,
      "message": "Maybe you forgot to remove?",
      "parentUuid": "cfc300b4_a8c8b906",
      "range": {
        "startLine": 64,
        "startChar": 0,
        "endLine": 65,
        "endChar": 15
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d99fffc7_ecf2ed1d",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2021-07-15T08:02:44Z",
      "side": 1,
      "message": "Removed.\n\nI thought using a shortened context would spare some time for deferred tasks, but it\u0027s not necessary as long as it works?\nIIUC just using the original context results in the test taking time longer than the desired timeout (i.e. timeout + time spent for deferred tasks).",
      "parentUuid": "4ffc5ab2_ac32d1a3",
      "range": {
        "startLine": 64,
        "startChar": 0,
        "endLine": 65,
        "endChar": 15
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fa21f97b_733d7244",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-07-15T08:14:08Z",
      "side": 1,
      "message": "Ah I see what you mean. The contracts of functions taking context.Context are following:\n\n- If a function takes context.Context as an argument, it may block until the context is canceled. Upon cancellation of the context, the function must return immediately.\n- All functions that can block should take context.Context as an argument to honor context timeouts. The contraposition is: a function NOT taking context.Context as an argument should always return immediately.\n\nSo we usually don\u0027t care about the execution time of deferred functions not taking context.Context as an argument.",
      "parentUuid": "d99fffc7_ecf2ed1d",
      "range": {
        "startLine": 64,
        "startChar": 0,
        "endLine": 65,
        "endChar": 15
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b0bae9c3_f0ab06dc",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2021-07-15T08:34:02Z",
      "side": 1,
      "message": "Thank you for the explanation.\nThat makes sense.",
      "parentUuid": "fa21f97b_733d7244",
      "range": {
        "startLine": 64,
        "startChar": 0,
        "endLine": 65,
        "endChar": 15
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59f38894_f9752339",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-07-15T02:53:05Z",
      "side": 1,
      "message": "Do we need to stop the activity? If not, it is recommended to keep the state for better manual debuggability.\nhttps://chromium.googlesource.com/chromiumos/platform/tast/+/HEAD/docs/writing_tests.md#Startup-and-shutdown\n\nEven if you leave some activity running, the fixture is responsible for closing them between tests.",
      "range": {
        "startLine": 82,
        "startChar": 1,
        "endLine": 82,
        "endChar": 27
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4f2da44c_80ebe4b0",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2021-07-15T07:38:13Z",
      "side": 1,
      "message": "Removed.\n\nI added this because there are many existing tests doing it.\nShould they be removed?\nhttps://source.chromium.org/search?q\u003d%22defer%20act.Stop%22",
      "parentUuid": "59f38894_f9752339",
      "range": {
        "startLine": 82,
        "startChar": 1,
        "endLine": 82,
        "endChar": 27
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b7bb1ccf_a3fcd0a4",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-07-15T07:45:07Z",
      "side": 1,
      "message": "It\u0027s nicer to keep activities open, though it\u0027s not a bug.",
      "parentUuid": "4f2da44c_80ebe4b0",
      "range": {
        "startLine": 82,
        "startChar": 1,
        "endLine": 82,
        "endChar": 27
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d44c2d0d_7158b4b1",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 95,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-07-15T02:53:05Z",
      "side": 1,
      "message": "It would be nice to include expectation as well for debuggability. For example:\n\n s.Error(\"Unexpected project ID: got %d, want in range [%d, %d]\", projectID, projectIDExtDataStart, projectIDExtDataEnd)\n\nc.f. https://github.com/golang/go/wiki/CodeReviewComments#useful-test-failures",
      "range": {
        "startLine": 95,
        "startChar": 19,
        "endLine": 95,
        "endChar": 46
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf44106c_a5c66b1d",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 95,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2021-07-15T07:38:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d44c2d0d_7158b4b1",
      "range": {
        "startLine": 95,
        "startChar": 19,
        "endLine": 95,
        "endChar": 46
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db2043d7_a52c5ed5",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 109,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-07-15T02:53:05Z",
      "side": 1,
      "message": "same here.",
      "range": {
        "startLine": 109,
        "startChar": 20,
        "endLine": 109,
        "endChar": 46
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9e01dc1f_0c48567f",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/quota_project_id.go",
        "patchSetId": 3
      },
      "lineNbr": 109,
      "author": {
        "id": 1000169
      },
      "writtenOn": "2021-07-15T07:38:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "db2043d7_a52c5ed5",
      "range": {
        "startLine": 109,
        "startChar": 20,
        "endLine": 109,
        "endChar": 46
      },
      "revId": "5d39f84e9b032aba5fd63faa333b7fdf3864b709",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}