{
  "comments": [
    {
      "key": {
        "uuid": "60cdcfe6_19824067",
        "filename": "src/chromiumos/tast/local/bundles/cros/example/keyboard.go",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-16T10:27:38Z",
      "side": 1,
      "message": "Hmm, putting this sleep in the sample code looks not very cool... how about inserting this at the end of input.Keyboard or somewhere similar?",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 89,
        "endChar": 2
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d569be40_790d1d68",
        "filename": "src/chromiumos/tast/local/bundles/cros/example/keyboard.go",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-19T00:32:56Z",
      "side": 1,
      "message": "sure, i\u0027ve added a delay to input.Keyboard",
      "parentUuid": "60cdcfe6_19824067",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 89,
        "endChar": 2
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "831a9817_cb8a631b",
        "filename": "src/chromiumos/tast/local/input/ioctl.go",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-16T10:27:38Z",
      "side": 1,
      "message": "nit: do you want to make this uint since you cast it to uint in ioc()?",
      "range": {
        "startLine": 12,
        "startChar": 12,
        "endLine": 12,
        "endChar": 15
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dfd95e7c_887cae99",
        "filename": "src/chromiumos/tast/local/input/ioctl.go",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-19T00:32:56Z",
      "side": 1,
      "message": "good point; i\u0027ll do that",
      "parentUuid": "831a9817_cb8a631b",
      "range": {
        "startLine": 12,
        "startChar": 12,
        "endLine": 12,
        "endChar": 15
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3561c423_08bbae25",
        "filename": "src/chromiumos/tast/local/input/ioctl.go",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-19T02:58:36Z",
      "side": 1,
      "message": "i still need to cast before shifting, though",
      "parentUuid": "dfd95e7c_887cae99",
      "range": {
        "startLine": 12,
        "startChar": 12,
        "endLine": 12,
        "endChar": 15
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79a38320_d224d7cd",
        "filename": "src/chromiumos/tast/local/input/ioctl.go",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-21T08:45:35Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3561c423_08bbae25",
      "range": {
        "startLine": 12,
        "startChar": 12,
        "endLine": 12,
        "endChar": 15
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4343164_d1bd7344",
        "filename": "src/chromiumos/tast/local/input/keyboard.go",
        "patchSetId": 2
      },
      "lineNbr": 42,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2019-01-19T00:00:39Z",
      "side": 1,
      "message": "out of curiosity, what is the problem in using an already existing virtual device ?",
      "range": {
        "startLine": 42,
        "startChar": 22,
        "endLine": 42,
        "endChar": 40
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83382d57_8d2a71aa",
        "filename": "src/chromiumos/tast/local/input/keyboard.go",
        "patchSetId": 2
      },
      "lineNbr": 42,
      "author": {
        "id": 1202079
      },
      "writtenOn": "2019-01-19T00:17:29Z",
      "side": 1,
      "message": "self answer: because its life is unknown.",
      "parentUuid": "e4343164_d1bd7344",
      "range": {
        "startLine": 42,
        "startChar": 22,
        "endLine": 42,
        "endChar": 40
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4df51fe3_95d34b9b",
        "filename": "src/chromiumos/tast/local/input/keyboard.go",
        "patchSetId": 2
      },
      "lineNbr": 42,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-19T00:32:56Z",
      "side": 1,
      "message": "if something outside of the test created the virtual device, it can disappear without any warning if the other process decides to close its uniput FD.",
      "parentUuid": "e4343164_d1bd7344",
      "range": {
        "startLine": 42,
        "startChar": 22,
        "endLine": 42,
        "endChar": 40
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1db04955_a73239ae",
        "filename": "src/chromiumos/tast/local/input/keyboard.go",
        "patchSetId": 2
      },
      "lineNbr": 85,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-16T10:27:38Z",
      "side": 1,
      "message": "While KeyboardEventWriter.Close is not supposed to be called twice, when it happens, the consequence is severe (double close of FD). Would you mind clobbering kw.virtFD once syscall.Close is done?",
      "range": {
        "startLine": 85,
        "startChar": 12,
        "endLine": 85,
        "endChar": 35
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa330a39_261544fe",
        "filename": "src/chromiumos/tast/local/input/keyboard.go",
        "patchSetId": 2
      },
      "lineNbr": 85,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2019-01-18T09:01:20Z",
      "side": 1,
      "message": "(optional): or maybe use os.NewFile() instead?",
      "parentUuid": "1db04955_a73239ae",
      "range": {
        "startLine": 85,
        "startChar": 12,
        "endLine": 85,
        "endChar": 35
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "707da075_f01e6980",
        "filename": "src/chromiumos/tast/local/input/keyboard.go",
        "patchSetId": 2
      },
      "lineNbr": 85,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-19T00:32:56Z",
      "side": 1,
      "message": "sure, i\u0027ll clobber virtFD.\n\ni\u0027m not sure i understand the os.NewFile suggestion; could you explain in more detail? thanks!",
      "parentUuid": "fa330a39_261544fe",
      "range": {
        "startLine": 85,
        "startChar": 12,
        "endLine": 85,
        "endChar": 35
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6eee17a_d3b3f4df",
        "filename": "src/chromiumos/tast/local/input/virtual.go",
        "patchSetId": 2
      },
      "lineNbr": 164,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-01-19T02:58:36Z",
      "side": 1,
      "message": "i had a subtle bug here (which only showed up in the old-kernel code path). os.NewFile takes ownership of the supplied fd, i believe, so the fd would be closed (also deleting the virtual device) at some arbitrary point in the future when the gc destroyed the os.File. this was hard to track down. :-(",
      "range": {
        "startLine": 164,
        "startChar": 24,
        "endLine": 164,
        "endChar": 34
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35d65587_9da9eb2f",
        "filename": "src/chromiumos/tast/local/input/virtual.go",
        "patchSetId": 2
      },
      "lineNbr": 164,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2019-01-21T08:45:35Z",
      "side": 1,
      "message": "Oh good catch...",
      "parentUuid": "c6eee17a_d3b3f4df",
      "range": {
        "startLine": 164,
        "startChar": 24,
        "endLine": 164,
        "endChar": 34
      },
      "revId": "b68f2bcd6e4b2b72322f1627a42f134effec73d2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}