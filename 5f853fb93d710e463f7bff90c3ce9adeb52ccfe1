{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b5351487_a8ab1ddf",
        "filename": "src/chromiumos/tast/remote/wificell/pre.go",
        "patchSetId": 2
      },
      "lineNbr": 90,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-02T08:16:29Z",
      "side": 1,
      "message": "Same, shall we set timeout in tf.Reinit()?",
      "revId": "5f853fb93d710e463f7bff90c3ce9adeb52ccfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52a5e938_6037e2fc",
        "filename": "src/chromiumos/tast/remote/wificell/pre.go",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-02T08:16:29Z",
      "side": 1,
      "message": "tf.ReserveForClose() reserves 10 seconds for close[1]. Shall we either export the duration or make tf.Close(ctx) run with 10s timeout [2]? I prefer later approach.\n\n[1] http://cs/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/remote/wificell/test_fixture.go?l\u003d291\n\n[2] http://cs/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/remote/wificell/test_fixture.go?l\u003d312",
      "range": {
        "startLine": 95,
        "startChar": 47,
        "endLine": 95,
        "endChar": 61
      },
      "revId": "5f853fb93d710e463f7bff90c3ce9adeb52ccfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a424364_ad70c5a4",
        "filename": "src/chromiumos/tast/remote/wificell/pre.go",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-02T09:03:42Z",
      "side": 1,
      "message": "Hmm... IMO, the 10 seconds in ReserveForClose is a recommended safe value instead of obligation? And, if the test body finished fast, I think it is OK to let Close have longer time for clean up. So, I\u0027m also a little hesitant to set a fixed timeout in Close (similar for Reinit) and slightly prefer to let callers have the flexibility. WDYT?\n\nOTOH, it is still good to use the recommended 10 seconds as ReserveForClose here. (but I\u0027m not really sure if we should export it. I feel it is excessive to export every recommended timeout...)",
      "parentUuid": "52a5e938_6037e2fc",
      "range": {
        "startLine": 95,
        "startChar": 47,
        "endLine": 95,
        "endChar": 61
      },
      "revId": "5f853fb93d710e463f7bff90c3ce9adeb52ccfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b4e946d_0b55b84b",
        "filename": "src/chromiumos/tast/remote/wificell/pre.go",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-02T11:21:00Z",
      "side": 1,
      "message": "It makes sense giving the caller full control to decide how long an action can take. However, it also adds the caller\u0027s burden, e.g. more boilerplate code to shorten ctx. To get a balance, how about let the function still accept caller\u0027s ctx restriction as well as setting a reasonable timeout in its own so that tests won\u0027t spent time Close()ing something for more than, say, 60 seconds?",
      "parentUuid": "8a424364_ad70c5a4",
      "range": {
        "startLine": 95,
        "startChar": 47,
        "endLine": 95,
        "endChar": 61
      },
      "revId": "5f853fb93d710e463f7bff90c3ce9adeb52ccfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c43a0127_04d84ff2",
        "filename": "src/chromiumos/tast/remote/wificell/pre.go",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-04T04:46:43Z",
      "side": 1,
      "message": "Yeah, that makes sense. I guess 20 seconds are long enough. I usually see it takes only 1~2 seconds.",
      "parentUuid": "9b4e946d_0b55b84b",
      "range": {
        "startLine": 95,
        "startChar": 47,
        "endLine": 95,
        "endChar": 61
      },
      "revId": "5f853fb93d710e463f7bff90c3ce9adeb52ccfe1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}