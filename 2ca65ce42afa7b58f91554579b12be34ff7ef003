{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0cf35304_f6523219",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-09T08:35:19Z",
      "side": 1,
      "message": "it does not disable power save on purpose.",
      "range": {
        "startLine": 11,
        "startChar": 17,
        "endLine": 12,
        "endChar": 29
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf539a7a_8f8f3ff6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-09T10:34:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0cf35304_f6523219",
      "range": {
        "startLine": 11,
        "startChar": 17,
        "endLine": 12,
        "endChar": 29
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20815ede_a001e407",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-09T08:35:19Z",
      "side": 1,
      "message": "DUT takes longer time to discover the new AP and reconnect",
      "range": {
        "startLine": 12,
        "startChar": 54,
        "endLine": 13,
        "endChar": 48
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f2c30772_e83031be",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 13,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-09T10:34:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "20815ede_a001e407",
      "range": {
        "startLine": 12,
        "startChar": 54,
        "endLine": 13,
        "endChar": 48
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c37b96c_4c844706",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-09T08:35:19Z",
      "side": 1,
      "message": "Please append the reference.",
      "range": {
        "startLine": 15,
        "startChar": 32,
        "endLine": 15,
        "endChar": 64
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "46d61d17_e35c210c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-09T09:17:19Z",
      "side": 1,
      "message": "Hmm... after some trials, it looks like UI only triggers scans when the detailed view is shown, so my assumption might not be true. Perhaps no scan is a more general case. I\u0027ll change the behavior back and give it a longer timeout.",
      "parentUuid": "9c37b96c_4c844706",
      "range": {
        "startLine": 15,
        "startChar": 32,
        "endLine": 15,
        "endChar": 64
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "016e16a9_061ea859",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-09T10:34:59Z",
      "side": 1,
      "message": "Looks like DUT is usually able to discover the new service in the scan triggered by default interval. So I changed the implementation to shorten the scan interval which might be more similar to real use cases. PTAL.",
      "parentUuid": "46d61d17_e35c210c",
      "range": {
        "startLine": 15,
        "startChar": 32,
        "endLine": 15,
        "endChar": 64
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b6d52e42_f953b9a4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-10T06:15:25Z",
      "side": 1,
      "message": "Looking a little deeper as I find my power_save reasoning is not very persuasive. And it looks like shill already has some shorter scan interval after disconnection: \nhttp://cs/chromeos_public/src/platform2/shill/wifi/wifi.cc?l\u003d2371\u0026rcl\u003dd92d142afdd4b51fa8e79d9b7e73becfa04eb303\n\nAfter a few more trial, the cause of the problem in Tast version seems to be:\n1. power save is on\n2. DUT might miss the deauth packet sent by hostapd on termination\n3. DUT disconnects with reason \"reason 4: Disassociated due to inactivity\" instead of \"reason: 3: Deauthenticated because sending station is leaving (or has left) the IBSS or ESS\"\n4. (not yet sure) in \"reason 4\" case, fast_scan might not work.\nSo, we might be hitting some problem that should be handled (instead of work-around in tests).\n\nIn short, the scan interval change should not be necessary for this test and further investigation on the behavior is needed.\n\nI\u0027ll remove the scan interval part and mark the CL as WIP again...",
      "parentUuid": "016e16a9_061ea859",
      "range": {
        "startLine": 15,
        "startChar": 32,
        "endLine": 15,
        "endChar": 64
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b7e17ed1_c562817d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-13T08:10:32Z",
      "side": 1,
      "message": "I\u0027m ambivalent about if we should turn off PS in the test now. In the original test (which is removed in [1]), it expected the DUT to receive the DEAUTH, so disabling PS might fit the purpose more. But PS on might be closer to the real use case.\n\nFor now, I set a longer timeout and add a TODO for explaining the case.\n\n[1] https://chromium-review.googlesource.com/c/chromiumos/third_party/autotest/+/62237/2/server/site_tests/network_WiFiRoaming/000ChannelHopBSS",
      "parentUuid": "b6d52e42_f953b9a4",
      "range": {
        "startLine": 15,
        "startChar": 32,
        "endLine": 15,
        "endChar": 64
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4d2d1028_1d43cada",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-13T08:41:51Z",
      "side": 1,
      "message": "Agree that the test should be as close as the real use scenario/configuration. Unless absolute necessary, we shall keep the DUT config intact.",
      "parentUuid": "b7e17ed1_c562817d",
      "range": {
        "startLine": 15,
        "startChar": 32,
        "endLine": 15,
        "endChar": 64
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f3e99794_d8862b6d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-09T09:17:51Z",
      "side": 1,
      "message": "Mark WIP as this needs some more investigation or behavior change.",
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26e7cb6a_a7e27e68",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/channel_hop.go",
        "patchSetId": 2
      },
      "lineNbr": 54,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-09T08:35:19Z",
      "side": 1,
      "message": "be",
      "range": {
        "startLine": 54,
        "startChar": 68,
        "endLine": 54,
        "endChar": 70
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6eb7a910_9c45a326",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/channel_hop.go",
        "patchSetId": 2
      },
      "lineNbr": 54,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-09T10:34:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "26e7cb6a_a7e27e68",
      "range": {
        "startLine": 54,
        "startChar": 68,
        "endLine": 54,
        "endChar": 70
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f4b94a1_4ee650ba",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/channel_hop.go",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-09T08:35:19Z",
      "side": 1,
      "message": "How about reusing \nhttp://cs/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/remote/wificell/util.go?l\u003d18",
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4621f963_fc4f1be4",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/channel_hop.go",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-09T09:17:19Z",
      "side": 1,
      "message": "I\u0027m hesitant to use the function because in tests, the caller name is usually inaccurate as we usually call it in an defer. (sometime, a defer in a anonymous function) This makes the function hard to generalize so I kind of prefer having each test to define this for their needs.",
      "parentUuid": "7f4b94a1_4ee650ba",
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8ea2546b_9379c40e",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/channel_hop.go",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-09T17:24:16Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4621f963_fc4f1be4",
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b079f1e_4590bfcf",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/channel_hop.go",
        "patchSetId": 2
      },
      "lineNbr": 100,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-09T08:35:19Z",
      "side": 1,
      "message": "Sets up AP with connection verification; then deconfigures the AP.",
      "range": {
        "startLine": 100,
        "startChar": 4,
        "endLine": 100,
        "endChar": 28
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c93bdd3_319e74e9",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/channel_hop.go",
        "patchSetId": 2
      },
      "lineNbr": 100,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-09T10:34:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2b079f1e_4590bfcf",
      "range": {
        "startLine": 100,
        "startChar": 4,
        "endLine": 100,
        "endChar": 28
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8b06c21_5bf92f7b",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/channel_hop.go",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-09T08:35:19Z",
      "side": 1,
      "message": "// Wait for the WiFi service to become idle, which is expected after DeconfigAP() is called in the defer function below.",
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a27604a_636d4571",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/channel_hop.go",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-09T10:34:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d8b06c21_5bf92f7b",
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b957347_8d6a451a",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/channel_hop.go",
        "patchSetId": 2
      },
      "lineNbr": 193,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-09T08:35:19Z",
      "side": 1,
      "message": "How about having:\ntype ChanHopTestCase struct {\n  desc string\n  options []hostapd.Option\n}\n\nSo that we can log AP setting in human readable way here:\n\n\"Trying #%d AP setting: %s\", i+1, t.desc",
      "range": {
        "startLine": 193,
        "startChar": 21,
        "endLine": 193,
        "endChar": 35
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3b9e7518_80f7f85a",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/channel_hop.go",
        "patchSetId": 2
      },
      "lineNbr": 193,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-09T10:34:59Z",
      "side": 1,
      "message": "Sounds nice, done.",
      "parentUuid": "3b957347_8d6a451a",
      "range": {
        "startLine": 193,
        "startChar": 21,
        "endLine": 193,
        "endChar": 35
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a7c36c0_ba891779",
        "filename": "src/chromiumos/tast/services/cros/network/wifi_service.proto",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1001853
      },
      "writtenOn": "2020-11-09T08:35:19Z",
      "side": 1,
      "message": "triggered",
      "range": {
        "startLine": 147,
        "startChar": 40,
        "endLine": 147,
        "endChar": 47
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "785ce67e_445484ab",
        "filename": "src/chromiumos/tast/services/cros/network/wifi_service.proto",
        "patchSetId": 2
      },
      "lineNbr": 147,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-11-09T10:34:59Z",
      "side": 1,
      "message": "This method is removed now.",
      "parentUuid": "0a7c36c0_ba891779",
      "range": {
        "startLine": 147,
        "startChar": 40,
        "endLine": 147,
        "endChar": 47
      },
      "revId": "2ca65ce42afa7b58f91554579b12be34ff7ef003",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}