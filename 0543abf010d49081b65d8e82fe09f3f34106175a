{
  "comments": [
    {
      "key": {
        "uuid": "8d1e9837_bcfab649",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ime_blocking_vk.go",
        "patchSetId": 6
      },
      "lineNbr": 56,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-02T07:49:29Z",
      "side": 1,
      "message": "it looks like misuese of Shorten context, because you are losing old Longer context which can be used for cleanup for example",
      "range": {
        "startLine": 56,
        "startChar": 0,
        "endLine": 56,
        "endChar": 51
      },
      "revId": "0543abf010d49081b65d8e82fe09f3f34106175a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f88952b0_9d68f3c7",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ime_blocking_vk.go",
        "patchSetId": 6
      },
      "lineNbr": 68,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-02T07:49:29Z",
      "side": 1,
      "message": "how long it takes to enable PlayStore in the worst case on slow devices? We should reserve enough time to be able to turn it on at the end",
      "range": {
        "startLine": 68,
        "startChar": 1,
        "endLine": 68,
        "endChar": 16
      },
      "revId": "0543abf010d49081b65d8e82fe09f3f34106175a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ce600d2_1d223177",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ime_blocking_vk.go",
        "patchSetId": 6
      },
      "lineNbr": 71,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-02T07:49:29Z",
      "side": 1,
      "message": "1. Please don\u0027t use s.Fatal in defer statement, becuase it will crash goroutine and other defere statements won\u0027t have chance to run which may lead to resource leaking;\n2. Please return error here and let caller to decide what to do with error --\u003e s.Log/s.Fatal/s.Error",
      "range": {
        "startLine": 71,
        "startChar": 2,
        "endLine": 71,
        "endChar": 10
      },
      "revId": "0543abf010d49081b65d8e82fe09f3f34106175a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c577fb62_83e1debf",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ime_blocking_vk.go",
        "patchSetId": 6
      },
      "lineNbr": 77,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-02T07:49:29Z",
      "side": 1,
      "message": "let\u0027s disable playstore at the beginning of the test",
      "range": {
        "startLine": 75,
        "startChar": 1,
        "endLine": 77,
        "endChar": 0
      },
      "revId": "0543abf010d49081b65d8e82fe09f3f34106175a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3400b87e_ee71e576",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/ime_blocking_vk.go",
        "patchSetId": 6
      },
      "lineNbr": 77,
      "author": {
        "id": 1306673
      },
      "writtenOn": "2020-09-02T07:49:29Z",
      "side": 1,
      "message": "This is an example how it can look like:\n\n\np :\u003d s.PreValue().(arc.PreData)\ncr :\u003d p.Chrome\na :\u003d p.ARC\n\ndisablePlayStore :\u003d func(ctx context.Context) error {\n  ...\n}\n\nenablePlayStore :\u003d func(ctx context.Context) error {\n  ...\n}\n\ncleanupCtx :\u003d ctx\nctx, cancel :\u003d ctxutil.Shorten(ctx, 10*time.Second)\ndefer cancel()\n\nif err :\u003d disablePlayStore(ctx); err !\u003d nil {\n  s.Fatal(\"Failed to stop PlayStore: \", err)\n}\n\ndefer func(ctx context.Context) {\n  if err :\u003d enablePlayStore(ctx); err !\u003d nil {\n    s.Error(\"Failed to enable PlayStore: \", err)\n  }\n}(cleanupCtx)",
      "range": {
        "startLine": 56,
        "startChar": 1,
        "endLine": 77,
        "endChar": 0
      },
      "revId": "0543abf010d49081b65d8e82fe09f3f34106175a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}