{
  "comments": [
    {
      "key": {
        "uuid": "e7ac3736_1a8c6d11",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-16T01:33:58Z",
      "side": 1,
      "message": "Are you sure? Or are you just guessing? Hint: I don\u0027t think you\u0027re fixing it.",
      "range": {
        "startLine": 16,
        "startChar": 15,
        "endLine": 16,
        "endChar": 41
      },
      "revId": "51429c3ed46eac85c7c2aa6008330fda8020707a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04505fd5_764ba73d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-01-20T01:36:28Z",
      "side": 1,
      "message": "This should be fixed in other way. Removed from this cl.",
      "parentUuid": "e7ac3736_1a8c6d11",
      "range": {
        "startLine": 16,
        "startChar": 15,
        "endLine": 16,
        "endChar": 41
      },
      "revId": "51429c3ed46eac85c7c2aa6008330fda8020707a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b47a4724_78fd9f98",
        "filename": "src/chromiumos/tast/local/bundles/cros/network/iwlwifi_pci_rescan.go",
        "patchSetId": 3
      },
      "lineNbr": 148,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-16T01:33:58Z",
      "side": 1,
      "message": "What you might need to do here: wait for Shill to stop/start.\n\n(Or, start doing that just before line 144, to avoid races?)",
      "range": {
        "startLine": 148,
        "startChar": 1,
        "endLine": 148,
        "endChar": 59
      },
      "revId": "51429c3ed46eac85c7c2aa6008330fda8020707a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d10c0ebf_76c8837b",
        "filename": "src/chromiumos/tast/local/shill/manager.go",
        "patchSetId": 3
      },
      "lineNbr": 87,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-16T01:33:58Z",
      "side": 1,
      "message": "This one seems reasonable.",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 87,
        "endChar": 11
      },
      "revId": "51429c3ed46eac85c7c2aa6008330fda8020707a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "adc45173_62bd953b",
        "filename": "src/chromiumos/tast/local/shill/wifi.go",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-16T01:33:58Z",
      "side": 1,
      "message": "I don\u0027t understand this. We\u0027ve already gotten Shill\u0027s Manager object. So Shill is definitely up and running on D-Bus. Why are we getting an error?\n\nOh I see...it\u0027s because the pci-rescan workaround is actually running \u0027restart shill\u0027 in the background. See:\n\nhttps://chromium.googlesource.com/chromiumos/overlays/chromiumos-overlay/+/refs/heads/master/net-wireless/iwlwifi_rescan/files/pci-rescan-to-revive-wifi.sh#145\n\nFrankly, I think we should remove that. But that may require fixing https://crbug.com/1029162 first.\n\nIs there no other way to resolve this? Perhaps the calling test can refresh its Manager object (and make sure Shill has completely restarted) before running this?\n\nI don\u0027t think we can guard against randomly restarting Shill in these APIs. So, I don\u0027t think this is a good idea.",
      "range": {
        "startLine": 49,
        "startChar": 26,
        "endLine": 49,
        "endChar": 71
      },
      "revId": "51429c3ed46eac85c7c2aa6008330fda8020707a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21167bbc_2ded59be",
        "filename": "src/chromiumos/tast/local/shill/wifi.go",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-16T01:42:58Z",
      "side": 1,
      "message": "\u003e Perhaps the calling test can refresh its Manager object\n\nActually, that may not really be necessary? My assumption was that the Manager object (and associated D-Bus handle) would be associated with the Shill instance that was running previously somehow. But if the iwlwifi_pci_rescan test was working at all, that must not be the case. So I guess D-Bus is context-less enough that this works, as long as you\u0027re not on the losing end of this race condition?\n\n\u003e (and make sure Shill has completely restarted) before running this?\n\nYou still need to do that (make sure Shill is back \"up\" before calling this).",
      "parentUuid": "adc45173_62bd953b",
      "range": {
        "startLine": 49,
        "startChar": 26,
        "endLine": 49,
        "endChar": 71
      },
      "revId": "51429c3ed46eac85c7c2aa6008330fda8020707a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06178a80_57341bb6",
        "filename": "src/chromiumos/tast/local/shill/wifi.go",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-01-20T01:36:28Z",
      "side": 1,
      "message": "Remove this part of change from this commit.\n\nAs for the fix for iwlwifi_pci_rescan, I guess if the restart behavior is not really expected, maybe we can do a simple polling for wifi device there instead of \"GetWifiInterface\" call? It is general enough to handle both cases that shill do/don\u0027t restart and we don\u0027t need to change the test behavior after fixing crbug.com/1029162.",
      "parentUuid": "21167bbc_2ded59be",
      "range": {
        "startLine": 49,
        "startChar": 26,
        "endLine": 49,
        "endChar": 71
      },
      "revId": "51429c3ed46eac85c7c2aa6008330fda8020707a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0fb3cc4_13e3fd04",
        "filename": "src/chromiumos/tast/local/shill/wifi.go",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-22T19:19:53Z",
      "side": 1,
      "message": "I guess that could be OK, as long as it has a nice fat comment/TODO to note why. I think eventually we\u0027d want to go with the common approach (talk to Shill).",
      "parentUuid": "06178a80_57341bb6",
      "range": {
        "startLine": 49,
        "startChar": 26,
        "endLine": 49,
        "endChar": 71
      },
      "revId": "51429c3ed46eac85c7c2aa6008330fda8020707a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13666fb1_2f2d7df3",
        "filename": "src/chromiumos/tast/local/shill/wifi.go",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 1132414
      },
      "writtenOn": "2020-01-27T23:24:34Z",
      "side": 1,
      "message": "I\u0027m looking at dropping the forced restart here:\n\nhttps://chromium-review.googlesource.com/c/chromiumos/overlays/chromiumos-overlay/+/2023246\n\nYou might give things another test after that\u0027s gone.",
      "parentUuid": "b0fb3cc4_13e3fd04",
      "range": {
        "startLine": 49,
        "startChar": 26,
        "endLine": 49,
        "endChar": 71
      },
      "revId": "51429c3ed46eac85c7c2aa6008330fda8020707a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b341e0f_de46310c",
        "filename": "src/chromiumos/tast/local/shill/wifi.go",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 1371981
      },
      "writtenOn": "2020-01-31T03:49:54Z",
      "side": 1,
      "message": "Thanks for the info, I\u0027ll track the cl/bug.",
      "parentUuid": "13666fb1_2f2d7df3",
      "range": {
        "startLine": 49,
        "startChar": 26,
        "endLine": 49,
        "endChar": 71
      },
      "revId": "51429c3ed46eac85c7c2aa6008330fda8020707a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}