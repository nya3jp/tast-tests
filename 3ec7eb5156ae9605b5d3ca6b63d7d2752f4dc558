{
  "comments": [
    {
      "key": {
        "uuid": "344d41a0_4e4d0e04",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 26,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-05-11T23:22:27Z",
      "side": 1,
      "message": "should this person be a reviewer if they are a contact?",
      "range": {
        "startLine": 26,
        "startChar": 80,
        "endLine": 26,
        "endChar": 100
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28b20f7d_f6c12bce",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 26,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-05-16T01:41:17Z",
      "side": 1,
      "message": "Meilin is CC\u0027d, she\u0027s one of the dev contacts for Assistant",
      "parentUuid": "344d41a0_4e4d0e04",
      "range": {
        "startLine": 26,
        "startChar": 80,
        "endLine": 26,
        "endChar": 100
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30a38766_9345a2ac",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-05-11T23:22:27Z",
      "side": 1,
      "message": "This isn\u0027t needed previous will be b0",
      "range": {
        "startLine": 59,
        "startChar": 1,
        "endLine": 64,
        "endChar": 63
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "465c1c41_0f460c6c",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-05-16T01:41:17Z",
      "side": 1,
      "message": "Ah I should add a clarifying comment here, the UI brightness slider value and the one from backlight_tool are different which is why this was needed. The brightness slider doesn\u0027t map linearly to the actual brightness value that backlight_tool gives you.\n\nAlso, I didn\u0027t want to make any assumptions about how much each Assistant query increments/decrements the brightness by. It does seem like an equal step amount and it goes back to b0, but I figure it\u0027s better to be safe and just check increasing/decreasing in case that ever changes.\n\nIn the latest patch, I return the actual brightness value from the brightnessCheck function for comparison and logging purposes, but I think it\u0027s clearer now.",
      "parentUuid": "30a38766_9345a2ac",
      "range": {
        "startLine": 59,
        "startChar": 1,
        "endLine": 64,
        "endChar": 63
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e04dc337_9a3ee1f2",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 87,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-05-11T23:22:27Z",
      "side": 1,
      "message": "I would move all of this polling into brightnessUICheck using the predicate and such.",
      "range": {
        "startLine": 75,
        "startChar": 1,
        "endLine": 87,
        "endChar": 2
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0587a62b_1868d5e8",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 87,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-05-16T01:41:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e04dc337_9a3ee1f2",
      "range": {
        "startLine": 75,
        "startChar": 1,
        "endLine": 87,
        "endChar": 2
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "986d5043_dc30c669",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 128,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-05-11T23:22:27Z",
      "side": 1,
      "message": "same as line 87 comment",
      "range": {
        "startLine": 116,
        "startChar": 1,
        "endLine": 128,
        "endChar": 2
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f47df3ac_07bf2ded",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 128,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-05-16T01:41:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "986d5043_dc30c669",
      "range": {
        "startLine": 116,
        "startChar": 1,
        "endLine": 128,
        "endChar": 2
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a20eab30_84432dca",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 131,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-05-11T23:22:27Z",
      "side": 1,
      "message": "nit: just \"brightnessUICheck sends assistant brightness queries and checks their result\"",
      "range": {
        "startLine": 131,
        "startChar": 21,
        "endLine": 131,
        "endChar": 130
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "984cfc7e_ec56fc25",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 131,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-05-16T01:41:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a20eab30_84432dca",
      "range": {
        "startLine": 131,
        "startChar": 21,
        "endLine": 131,
        "endChar": 130
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3165f06e_e3d7860e",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 135,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-05-11T23:22:27Z",
      "side": 1,
      "message": "add todo with bug link.",
      "range": {
        "startLine": 135,
        "startChar": 1,
        "endLine": 135,
        "endChar": 115
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad5c3706_97513121",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 135,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-05-16T01:41:17Z",
      "side": 1,
      "message": "Removing the ubertray check changed the test in such a way that we don\u0027t need this anymore, since the Assistant UI never closes now.",
      "parentUuid": "3165f06e_e3d7860e",
      "range": {
        "startLine": 135,
        "startChar": 1,
        "endLine": 135,
        "endChar": 115
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b8aba0b3_c8757a26",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 189,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-05-11T23:22:27Z",
      "side": 1,
      "message": "get is frowned upon in go. How about just brightness. Same with getNodeValue.",
      "range": {
        "startLine": 189,
        "startChar": 5,
        "endLine": 189,
        "endChar": 8
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9fc0d7fd_4e983068",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 189,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-05-16T01:41:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b8aba0b3_c8757a26",
      "range": {
        "startLine": 189,
        "startChar": 5,
        "endLine": 189,
        "endChar": 8
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e65b673b_c5b68b49",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 198,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-05-11T23:22:27Z",
      "side": 1,
      "message": "I assume this is pretty common in some other tests. Should it be in its own library?",
      "range": {
        "startLine": 190,
        "startChar": 1,
        "endLine": 198,
        "endChar": 14
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79eda23d_44bf7e7b",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 198,
      "author": {
        "id": 1390967
      },
      "writtenOn": "2020-05-16T01:41:17Z",
      "side": 1,
      "message": "We could do that, there\u0027s some other instances of calling backlight_tool in the power package: https://source.chromium.org/chromiumos/chromiumos/codesearch/+/master:src/platform/tast-tests/src/chromiumos/tast/local/power/setup/setup_screen_backlight.go?q\u003dbacklight_tool%20f:.*.go$\u0026originalUrl\u003dhttps:%2F%2Fcs.chromium.org%2F\n\nDo you think that would be a good place to add it? I didn\u0027t move it yet, but let me know and I\u0027ll add it there on the next patch set.",
      "parentUuid": "e65b673b_c5b68b49",
      "range": {
        "startLine": 190,
        "startChar": 1,
        "endLine": 198,
        "endChar": 14
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04b4e5d4_7005a8ff",
        "filename": "src/chromiumos/tast/local/bundles/cros/assistant/brightness_queries.go",
        "patchSetId": 3
      },
      "lineNbr": 198,
      "author": {
        "id": 1358595
      },
      "writtenOn": "2020-05-18T16:57:08Z",
      "side": 1,
      "message": "I would say that is a good place since it is already wrapped there. Probably don\u0027t want to call directly into power/setup. I think it would be best to create a power/backlight package that contains all of the methods for backlight brightness control. That should probably be done in a separate CL. Also for that CL, add cwd@ as a reviewer.",
      "parentUuid": "79eda23d_44bf7e7b",
      "range": {
        "startLine": 190,
        "startChar": 1,
        "endLine": 198,
        "endChar": 14
      },
      "revId": "3ec7eb5156ae9605b5d3ca6b63d7d2752f4dc558",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}