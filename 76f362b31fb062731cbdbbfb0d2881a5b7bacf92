{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b3d7de97_365332c8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-12-13T06:05:43Z",
      "side": 1,
      "message": "Hi Tatsuhisa,\n\nSince you helped to review my USB CL before. This one is similar, could you help to review it? Thanks :)",
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ffd6a74f_075b8ed3",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-12-13T06:09:25Z",
      "side": 1,
      "message": "I think we don\u0027t need to poll it?",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2121f65_0f5d71d3",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1446889
      },
      "writtenOn": "2021-12-13T09:17:49Z",
      "side": 1,
      "message": "We have verified on Redrix platform and we observed some delay.",
      "parentUuid": "ffd6a74f_075b8ed3",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9bda0677_08c48a8c",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-12-13T09:26:35Z",
      "side": 1,
      "message": "You can check what I did in CL:3307854.\n\n1. I run the monitor for 10 seconds in background.\n2. Trigger event.\n3. Wait until my monitor process ends.\n4. Check the output.\n\nI think it should work.",
      "parentUuid": "d2121f65_0f5d71d3",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc4a2004_b73ce76d",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1446889
      },
      "writtenOn": "2021-12-13T09:47:47Z",
      "side": 1,
      "message": "I have follow the same here,but no luck, so added the polling condition.",
      "parentUuid": "9bda0677_08c48a8c",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68a27a25_412d6f84",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-12-13T10:42:39Z",
      "side": 1,
      "message": "It doesn\u0027t make sense to me. When polling, you also poll for 10 seconds.\n\nIf 10 secs is too short, did you try 30 secs?",
      "parentUuid": "dc4a2004_b73ce76d",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5653c6e_516757be",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1446889
      },
      "writtenOn": "2021-12-13T10:48:30Z",
      "side": 1,
      "message": "I have tried for more then 30seconds also.\n\nBut i observed  after below line it expecting delay.\n\tif err :\u003d monitorCmd.Start(); err !\u003d nil {\n\t\ts.Fatal(\"Failed to run healthd monitor command: \", err)\n\t}",
      "parentUuid": "68a27a25_412d6f84",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb5aff0c_58509b87",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-12-13T10:57:39Z",
      "side": 1,
      "message": "Do you mean that it doesn\u0027t start the monitor thread immediately?",
      "parentUuid": "d5653c6e_516757be",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2f15edb_140f2d66",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1446889
      },
      "writtenOn": "2021-12-13T11:08:21Z",
      "side": 1,
      "message": "Yes. It is taking some time.",
      "parentUuid": "bb5aff0c_58509b87",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c298ea68_24d14c11",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-12-13T11:17:20Z",
      "side": 1,
      "message": "I check recent results of USB event tast, they all pass. vPro drvices are high performance devices, it\u0027s really weird that it delays...",
      "parentUuid": "a2f15edb_140f2d66",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7dc2f64_5921c083",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-12-14T01:48:07Z",
      "side": 1,
      "message": "Please add some comments on it, so future developers can understand why we need polling here.\n\nIf there is some delay, I think we can sleep 3 seconds after the command start, then trigger the events. It may make the code more simple without polling.\n\nNot sure if tast owners have any idea on this.",
      "parentUuid": "c298ea68_24d14c11",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7d9c1e7_365e03be",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1166720
      },
      "writtenOn": "2021-12-14T02:49:01Z",
      "side": 1,
      "message": "I think polling is the right option in this case. \"sleep 3 seconds\" is dependent on whether the monitoring starts to work after 3 seconds since the monitorCmd process is started, which is not assured but sometimes waits too long.",
      "parentUuid": "d7dc2f64_5921c083",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77648a8c_a79d487d",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-12-14T09:20:22Z",
      "side": 1,
      "message": "Sure, I\u0027m good with that. It\u0027s just strange for me that USB event test doesn\u0027t hit similar issue.",
      "parentUuid": "a7d9c1e7_365e03be",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 63
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70dcf3c3_19b02532",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 70,
      "author": {
        "id": 1366047
      },
      "writtenOn": "2021-12-13T06:09:25Z",
      "side": 1,
      "message": "\"stdout\" since we only test add event.",
      "range": {
        "startLine": 70,
        "startChar": 1,
        "endLine": 70,
        "endChar": 10
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "252a5cb4_3611fabd",
        "filename": "src/chromiumos/tast/local/bundles/cros/health/monitor_thunderbolt_event.go",
        "patchSetId": 3
      },
      "lineNbr": 70,
      "author": {
        "id": 1446889
      },
      "writtenOn": "2021-12-13T09:17:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "70dcf3c3_19b02532",
      "range": {
        "startLine": 70,
        "startChar": 1,
        "endLine": 70,
        "endChar": 10
      },
      "revId": "76f362b31fb062731cbdbbfb0d2881a5b7bacf92",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}