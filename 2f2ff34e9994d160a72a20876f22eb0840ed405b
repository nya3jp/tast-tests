{
  "comments": [
    {
      "key": {
        "uuid": "6d5d435f_b238b20b",
        "filename": "src/chromiumos/tast/local/bundles/cros/vm/start_termina_vm.go",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1003129
      },
      "writtenOn": "2018-06-26T23:50:44Z",
      "side": 1,
      "message": "I\u0027m not very happy about the way this turned out... I want to be able to have the same test run with different VM images or container images.",
      "range": {
        "startLine": 32,
        "startChar": 1,
        "endLine": 36,
        "endChar": 0
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20395aa1_b2c9357d",
        "filename": "src/chromiumos/tast/local/vm/concierge.go",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-27T01:01:54Z",
      "side": 1,
      "message": "IIUC this is a utility function to call several functions in order, right? It is a bit difficult to see it this since it\u0027s in the middle of Concierge-related functions. How about creating another file (e.g. util.go) and move this function there?",
      "range": {
        "startLine": 99,
        "startChar": 0,
        "endLine": 99,
        "endChar": 77
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4646d1a_22367b1a",
        "filename": "src/chromiumos/tast/local/vm/concierge.go",
        "patchSetId": 2
      },
      "lineNbr": 199,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-26T23:58:04Z",
      "side": 1,
      "message": "nit: may want to log a message here since this can presumably block, e.g.:\n\n  testing.ContextLog(ctx, \"Waiting for TremplinStarted D-Bus signal\")",
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e092248c_83167587",
        "filename": "src/chromiumos/tast/local/vm/concierge.go",
        "patchSetId": 2
      },
      "lineNbr": 213,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-26T23:58:04Z",
      "side": 1,
      "message": "nit: the context is going to give you a boring \"context deadline exceeded\" message, so consider returning something like:\n\n  fmt.Errorf(\"didn\u0027t get TremplinStarted D-Bus signal: %v\", ctx.Err())",
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c2f0b30_a7af653b",
        "filename": "src/chromiumos/tast/local/vm/container.go",
        "patchSetId": 2
      },
      "lineNbr": 26,
      "author": {
        "id": 1003129
      },
      "writtenOn": "2018-06-26T23:50:44Z",
      "side": 1,
      "message": "On second thought this seems suspicious. Maybe I should just handle this in the NewDefaultContainer function.",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 26,
        "endChar": 77
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33c1283c_d9b87d8e",
        "filename": "src/chromiumos/tast/local/vm/container.go",
        "patchSetId": 2
      },
      "lineNbr": 26,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-06-26T23:58:04Z",
      "side": 1,
      "message": "yeah, creating this in one method and then waiting for the signal in another feels a bit tricky to me. i\u0027d recommend limiting its use to a single place if possible",
      "parentUuid": "6c2f0b30_a7af653b",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 26,
        "endChar": 77
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afe60a5a_5e32cd4e",
        "filename": "src/chromiumos/tast/local/vm/container.go",
        "patchSetId": 2
      },
      "lineNbr": 88,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-27T01:01:54Z",
      "side": 1,
      "message": "nit: if resp.GetStatus() !\u003d cpb.GetLxdContainerUsernameResponse_SUCCESS might be simpler here.",
      "range": {
        "startLine": 86,
        "startChar": 1,
        "endLine": 88,
        "endChar": 9
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "875e2f6e_4c14d3d7",
        "filename": "src/chromiumos/tast/local/vm/container.go",
        "patchSetId": 2
      },
      "lineNbr": 123,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-27T01:01:54Z",
      "side": 1,
      "message": "nit: testexec",
      "range": {
        "startLine": 123,
        "startChar": 26,
        "endLine": 123,
        "endChar": 30
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6fabb8c0_eb4bc2cc",
        "filename": "src/chromiumos/tast/local/vm/vm.go",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-27T01:01:54Z",
      "side": 1,
      "message": "nit: Comments here looks wrong.",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 24,
        "endChar": 146
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98741c09_62cf77a1",
        "filename": "src/chromiumos/tast/local/vm/vm.go",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-27T01:01:54Z",
      "side": 1,
      "message": "nit: How about NewContainer to follow Go convention and other methods here, e.g. NewConcierge?",
      "range": {
        "startLine": 37,
        "startChar": 14,
        "endLine": 37,
        "endChar": 29
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20b25cab_d79f2444",
        "filename": "src/chromiumos/tast/local/vm/vm.go",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-27T01:01:54Z",
      "side": 1,
      "message": "Do you want to use constants defined above?",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 63,
        "endChar": 35
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c076579a_793e5857",
        "filename": "src/chromiumos/tast/local/vm/vm.go",
        "patchSetId": 2
      },
      "lineNbr": 102,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-27T01:01:54Z",
      "side": 1,
      "message": "nit: In this case, if sigResult.GetStatus() !\u003d cpb.LxdContainerCreatedSignal_CREATED might be simpler.",
      "range": {
        "startLine": 100,
        "startChar": 1,
        "endLine": 102,
        "endChar": 9
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bcdf588d_49c74af7",
        "filename": "src/chromiumos/tast/local/vm/vm.go",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-27T01:01:54Z",
      "side": 1,
      "message": "nit: testexec",
      "range": {
        "startLine": 110,
        "startChar": 26,
        "endLine": 110,
        "endChar": 30
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0847d65b_a6d01e9c",
        "filename": "src/chromiumos/tast/local/vm/vm.go",
        "patchSetId": 2
      },
      "lineNbr": 116,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2018-06-27T01:01:54Z",
      "side": 1,
      "message": "This is a bit unfortunate. This will prevent us from calling cmd.StdinPipe() without clobbering cmd.Stdin first, for example.\n\nThough it\u0027s fine for now, do you have a plan to fix this in vsh side?",
      "range": {
        "startLine": 115,
        "startChar": 1,
        "endLine": 116,
        "endChar": 75
      },
      "revId": "2f2ff34e9994d160a72a20876f22eb0840ed405b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}