{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6181c28c_e610778f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1118346
      },
      "writtenOn": "2021-10-18T09:47:40Z",
      "side": 1,
      "message": "LGTM % Alexandre\u0027s comment.\n",
      "revId": "c53e866c756c93a4496a9ab8b6970a1d2cf5e654",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73bf1437_5ebd6327",
        "filename": "src/chromiumos/tast/local/memory/metrics/metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 1516044
      },
      "writtenOn": "2021-10-18T07:37:35Z",
      "side": 1,
      "message": "is it possible to retry only in case the inner failure is a timeout?",
      "range": {
        "startLine": 107,
        "startChar": 6,
        "endLine": 107,
        "endChar": 9
      },
      "revId": "c53e866c756c93a4496a9ab8b6970a1d2cf5e654",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9bda0f83_0401aad8",
        "filename": "src/chromiumos/tast/local/memory/metrics/metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 1368712
      },
      "writtenOn": "2021-10-19T05:05:36Z",
      "side": 1,
      "message": "The `dumpsys meminfo` commend still returns 0 when it times out, and just prints different text. So I was lazy and didn\u0027t want to write more text parsing code. (and then worry about different versions of android printing out different things...)\n\nDo you think we should try?",
      "parentUuid": "73bf1437_5ebd6327",
      "range": {
        "startLine": 107,
        "startChar": 6,
        "endLine": 107,
        "endChar": 9
      },
      "revId": "c53e866c756c93a4496a9ab8b6970a1d2cf5e654",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "057a7ea5_c3fd3b84",
        "filename": "src/chromiumos/tast/local/memory/metrics/metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 1516044
      },
      "writtenOn": "2021-10-19T06:47:52Z",
      "side": 1,
      "message": "I think it\u0027s okay to not specifically look for timeout. But in that case, I have two recommendations:\n1) Surface the process output from within DumpsysMeminfoMetrics() as part of the err object (perhaps only surface the first x bytes, as that can be huge), so that we know in the future why it failed.\n2) Introduce a short pause before retries, so that the retries don\u0027t compound a possible system resource issue...",
      "parentUuid": "9bda0f83_0401aad8",
      "range": {
        "startLine": 107,
        "startChar": 6,
        "endLine": 107,
        "endChar": 9
      },
      "revId": "c53e866c756c93a4496a9ab8b6970a1d2cf5e654",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6864e5f4_3d7a2cee",
        "filename": "src/chromiumos/tast/local/memory/metrics/metrics.go",
        "patchSetId": 1
      },
      "lineNbr": 107,
      "author": {
        "id": 1368712
      },
      "writtenOn": "2021-10-19T11:31:54Z",
      "side": 1,
      "message": "1) the output is written out, but only if outdir is passed. I\u0027ve added some code to point to the right file, or log to the test log if we didn\u0027t write it.\n\n2) That\u0027s a good idea, done.",
      "parentUuid": "057a7ea5_c3fd3b84",
      "range": {
        "startLine": 107,
        "startChar": 6,
        "endLine": 107,
        "endChar": 9
      },
      "revId": "c53e866c756c93a4496a9ab8b6970a1d2cf5e654",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}