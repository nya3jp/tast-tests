{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "65e8b8de_853dbdf0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 25,
      "author": {
        "id": 1394308
      },
      "writtenOn": "2021-09-10T00:17:30Z",
      "side": 1,
      "message": "MediaScanTime",
      "range": {
        "startLine": 25,
        "startChar": 40,
        "endLine": 25,
        "endChar": 51
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d7deb335_58e59ff9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 25,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "65e8b8de_853dbdf0",
      "range": {
        "startLine": 25,
        "startChar": 40,
        "endLine": 25,
        "endChar": 51
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c5976079_df69034a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-09T07:58:49Z",
      "side": 1,
      "message": "PTAL",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "baad7981_a2d4b424",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-09T09:00:40Z",
      "side": 1,
      "message": "Thanks for the CL! Some initial comments.",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fbc8669e_0a20adb2",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 13,
      "author": {
        "id": 1394308
      },
      "writtenOn": "2021-09-10T00:17:30Z",
      "side": 1,
      "message": "import statements should be alphabetically ordered:\nhttps://source.android.com/setup/contribute/code-style#order-import-statements\n\"andriod.content.IntentFilter\" in L18 should be moved, too.",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 41
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f1f330ae_04543640",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 13,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "I think andriod.content.IntentFilter is used to send Intent.ACTION_MEDIA_SCANNER_STARTED.",
      "parentUuid": "fbc8669e_0a20adb2",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 41
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "99d4d9ad_c139e6fa",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 13,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fbc8669e_0a20adb2",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 41
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "60a52bdf_2c2b11f3",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 13,
      "author": {
        "id": 1394308
      },
      "writtenOn": "2021-09-10T03:34:04Z",
      "side": 1,
      "message": "The suggestion was not to remove, but to move. Thanks for reordering!",
      "parentUuid": "f1f330ae_04543640",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 41
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "efb2ab9a_0ee68bbd",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 16,
      "author": {
        "id": 1394308
      },
      "writtenOn": "2021-09-10T00:17:30Z",
      "side": 1,
      "message": "Log is not used and can be removed.",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "69f6e022_65c1ab4d",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 16,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "efb2ab9a_0ee68bbd",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a058bc78_5c6c2fde",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 26,
      "author": {
        "id": 1394308
      },
      "writtenOn": "2021-09-10T00:17:30Z",
      "side": 1,
      "message": "LOG_TAG is not used and thus can be removed.\nBtw, just for your information, when defining a log tag for a test app, it seems better not to use MainActivity.class.getSimpleName() because it\u0027s just \"MainActivity\" and not so informational.\nMaybe\n  TAG \u003d \"ArcMediaScanTimeTest\"\n\nor something like that would be better.",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0365724d_b316cb21",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 26,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a058bc78_5c6c2fde",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1866ebbf_d341b27d",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 43,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-09T09:00:40Z",
      "side": 1,
      "message": "variable name should start with lowercase.",
      "range": {
        "startLine": 43,
        "startChar": 21,
        "endLine": 43,
        "endChar": 33
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e4063c8e_38706325",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 43,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1866ebbf_d341b27d",
      "range": {
        "startLine": 43,
        "startChar": 21,
        "endLine": 43,
        "endChar": 33
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0fcd8683_eb355b29",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1394308
      },
      "writtenOn": "2021-09-10T00:17:30Z",
      "side": 1,
      "message": "Add a blank line between L62 and L63.",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c1aa36b6_cc7e9a1a",
        "filename": "android/ArcMediaScanTimeTest/src/org/chromium/arc/testapp/mediascantime/MainActivity.java",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0fcd8683_eb355b29",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d092ca03_64caaca2",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 54,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-09T09:00:40Z",
      "side": 1,
      "message": "Can we have a more specific name so it is easier to understand what suffix this refers to, maybe volumeUriSuffix?",
      "range": {
        "startLine": 54,
        "startChar": 4,
        "endLine": 54,
        "endChar": 13
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b9ab298_86db146e",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 54,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d092ca03_64caaca2",
      "range": {
        "startLine": 54,
        "startChar": 4,
        "endLine": 54,
        "endChar": 13
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c83769b_21309707",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 85,
      "author": {
        "id": 1394308
      },
      "writtenOn": "2021-09-10T00:17:30Z",
      "side": 1,
      "message": "We can use arc.AndroidDataDir(): http://cs/chromeos_public/src/platform/tast-tests/src/chromiumos/tast/local/arc/file.go;l\u003d36;rcl\u003d58532ef3491a53a6636aa496d261605141427acc\n  androidDataDir, err :\u003d arc.AndroidDataDir(cr.NormalizedUser())\n  [...]\n  return filepath.Join(androidDataDir, \"data\", \"media\", \"0\", ...), nil",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61380a74_4c5af502",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 85,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "is arc.AndroidDataDir() better than cryptohome.SystemPath()? If so, why?",
      "parentUuid": "5c83769b_21309707",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50fddfeb_beb76471",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 85,
      "author": {
        "id": 1394308
      },
      "writtenOn": "2021-09-10T03:34:04Z",
      "side": 1,
      "message": "In my opinion it\u0027s better because it reduces the number of places that rely on the implementation details of the path of Android\u0027s data directory.\nBy using arc.AndroidDataDir(), even if we change the path in the future (for example, not to use the cryptohome-system path, or to rename \"android-data\" to another string), we do not need to change this code; we can just change arc.AndroidDataDir().\nTo be fair, such a path change is not likely to happen, and we can think of a situation where the use of arc.AndroidDataDir() becomes some burden.\nHaving that said, I still think it\u0027s a good practice to use a dedicated function when there is one. Here we want to get the path of Android\u0027s data directroy, and arc.AndroidDataDir() does it.",
      "parentUuid": "61380a74_4c5af502",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "27d6bfaa_10333090",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 85,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T07:52:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "50fddfeb_beb76471",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65f7b6a1_dcaadc0b",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 105,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-09T09:00:40Z",
      "side": 1,
      "message": "Add a comment above this to specify the format of the MyFiles line. That will save the reader time to understand this regex :)",
      "range": {
        "startLine": 105,
        "startChar": 1,
        "endLine": 105,
        "endChar": 90
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c71fa28c_b38bb8c5",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 105,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "65f7b6a1_dcaadc0b",
      "range": {
        "startLine": 105,
        "startChar": 1,
        "endLine": 105,
        "endChar": 90
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ccc5ae1c_d028d6a7",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 124,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-09T09:00:40Z",
      "side": 1,
      "message": "I think this will triggers inotifies that might interfere with the measurement. Please see the discussion in the chat group.",
      "range": {
        "startLine": 124,
        "startChar": 1,
        "endLine": 124,
        "endChar": 35
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "45bb8882_009fd25e",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 130,
      "author": {
        "id": 1394308
      },
      "writtenOn": "2021-09-10T00:17:30Z",
      "side": 1,
      "message": "Files copied here are not removed and might affect other tests. For example, if you execute \"tast run \u003cDUT\u003e arc.MediaScanTime.*\", the second test will run with the files created by the first test.\n\nHow about removing targetDir before leaving the test?\n  // Inside MediaScanTime:\n  targetDir, err :\u003d [...]\n  if err !\u003d nil {\n    [...]\n  }\n  defer func() {\n    if err :\u003d os.RemoveAll(targetDir); err !\u003d nil {\n      [...]\n    }\n  }()\n  \n  // Inside copyFileToTargetPath:\n  capybara, err :\u003d [...]\n  if err !\u003d nil {\n    [...]\n  }\n  if err :\u003d os.MkdirAll(targetDir, 0755); err !\u003d nil {\n    [...]\n  }\n\nIf we do this, targetDir should be one level deeper than the current path, e.g., .../data/media/0/Pictures/capybaras, .../MyFiles/capybaras\n\n(It would be desirable to clean up the whole volume (not only targetDir) just after the test begins to make sure there is no stale file inside it. However, we can probably discuss it after the inotify problem is resolved.)",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1bdd6d72_0fb65618",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 130,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T07:52:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "45bb8882_009fd25e",
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "698d51f2_5379b61c",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 135,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-09T09:00:40Z",
      "side": 1,
      "message": "Please use const. By using const, you will be able to name this number so the reader can understand what this value means more easily.\n\nAlso, add a comment above the const to explain why you pick 100.",
      "range": {
        "startLine": 135,
        "startChar": 17,
        "endLine": 135,
        "endChar": 20
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "078a7459_3818527d",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 135,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "698d51f2_5379b61c",
      "range": {
        "startLine": 135,
        "startChar": 17,
        "endLine": 135,
        "endChar": 20
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d6017f9_9410aea0",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 168,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-09T09:00:40Z",
      "side": 1,
      "message": "we usually define variables right above the first time they are used, so the reader can easily get the context of why this variable is needed.",
      "range": {
        "startLine": 166,
        "startChar": 1,
        "endLine": 168,
        "endChar": 43
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a002c7bf_7a77cb91",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 168,
      "author": {
        "id": 1394308
      },
      "writtenOn": "2021-09-10T00:17:30Z",
      "side": 1,
      "message": "I agree that it\u0027s the preferred way. On the other hand, the result of code-search with \"FixtValue\" seems to indicate that Fixture values are often defined in the very beginning of the test function. Maybe it\u0027s accepted to treat them as if they are arguments for the test function.\nHaving that said, it would still be undesirable to define a variable much earlier than it\u0027s actually used. One compromise solution might be to shorten the test function e.g. by defining a function to start the test app.",
      "parentUuid": "0d6017f9_9410aea0",
      "range": {
        "startLine": 166,
        "startChar": 1,
        "endLine": 168,
        "endChar": 43
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e5f877a_2e5632d2",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 168,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Do you mean we should create another helper function to do \n\nif err :\u003d a.Install(ctx, arc.APKPath(apk)); err !\u003d nil {\n   s.Fatal(\"Failed installing app: \", err)\n}\n[...]\nif err :\u003d act.StartWithArgs(ctx, tconn, []string{\"-S\", \"-W\", \"-n\"}, []string{\"-d\", expectedURI}); err !\u003d nil {\n    s.Fatal(\"Failed to start the activity: \", err)\n}\n\n?",
      "parentUuid": "a002c7bf_7a77cb91",
      "range": {
        "startLine": 166,
        "startChar": 1,
        "endLine": 168,
        "endChar": 43
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eda71c75_5a109d0e",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 168,
      "author": {
        "id": 1394308
      },
      "writtenOn": "2021-09-10T03:34:04Z",
      "side": 1,
      "message": "Yes. I think it\u0027s reasonable to have a function to do that part. One thing to note is, when you implement it, you shouldn\u0027t defer act.Close() inside it. This is because act.Close() will be called when the function returns (before the measurement takes place).\nI did a similar thing in: https://source.chromium.org/chromium/chromiumos/platform/tast-tests/+/HEAD:src/chromiumos/tast/local/bundles/cros/arc/download_manager.go;l\u003d219;drc\u003d0705bfb8521a8ed956ad65281ae35a2fe9af5918\n(This example calls act.Stop() but you don\u0027t need to call it as I mentioned before.)",
      "parentUuid": "2e5f877a_2e5632d2",
      "range": {
        "startLine": 166,
        "startChar": 1,
        "endLine": 168,
        "endChar": 43
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1286c706_d005ea73",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 168,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T07:52:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eda71c75_5a109d0e",
      "range": {
        "startLine": 166,
        "startChar": 1,
        "endLine": 168,
        "endChar": 43
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a58c7ca8_c20bde41",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 173,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-09T09:00:40Z",
      "side": 1,
      "message": "A more specific name will be preferable. A name that will answer the question: \"What Uri is this?\"\nFor example, volumeUriPrefix ?",
      "range": {
        "startLine": 173,
        "startChar": 2,
        "endLine": 173,
        "endChar": 11
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ca78e266_f13ba69a",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 173,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a58c7ca8_c20bde41",
      "range": {
        "startLine": 173,
        "startChar": 2,
        "endLine": 173,
        "endChar": 11
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48a5def5_73c02156",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 176,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-09T09:00:40Z",
      "side": 1,
      "message": "It is usually not considered as a best practice to pick a synonym just to avoid name conflict - that might even cause confusion (what is the different between opt and param?).\n\nI think \"param :\u003d s.Param().(arcMediaScanTimeParams)\" is acceptable here. The reasoning is similar to how you have err, act, and other short name variables: the context is already clear since parameter usually only refer to the test parameters. This is a bit different from uriPrefix case above, when there can be many kind of URI prefix (volume URI? file URI? content URI?) so a more specific name will be better.",
      "range": {
        "startLine": 176,
        "startChar": 14,
        "endLine": 176,
        "endChar": 17
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "542ca64c_5cbce772",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 176,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "48a5def5_73c02156",
      "range": {
        "startLine": 176,
        "startChar": 14,
        "endLine": 176,
        "endChar": 17
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26ba5e2f_a4fb44a1",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 190,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-09T09:00:40Z",
      "side": 1,
      "message": "In tests, we usually name a variable as \"expected\u003cValue\u003e\" when this variable is used as an answer (i.e., we will get some output from the tested functionalities and compare the result with this \"expected\u003cValue\u003e\" variable). Since this is just a value that you are sending to the app, this shouldn\u0027t be named as \"expectedUri\". Maybe another name like volumeUri will be better.",
      "range": {
        "startLine": 190,
        "startChar": 1,
        "endLine": 190,
        "endChar": 12
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d33ea6bc_bfd3242d",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 190,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:21:53Z",
      "side": 1,
      "message": "In my understanding, this expectedURI is sent to the app in order to compare with the actual volume URI got by Intent.getData() in MainActivity.java. This is not the output of something, but fixed value. (file:///storage/emulated/0 or file:///storage/0000000000000000000000000000CAFEF00D2019) Therefore, I think it is not good to name this \"expectedURI\".",
      "parentUuid": "26ba5e2f_a4fb44a1",
      "range": {
        "startLine": 190,
        "startChar": 1,
        "endLine": 190,
        "endChar": 12
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8013255d_4d6e9c6c",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 190,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T02:28:28Z",
      "side": 1,
      "message": "sorry not good --\u003e not bad",
      "parentUuid": "d33ea6bc_bfd3242d",
      "range": {
        "startLine": 190,
        "startChar": 1,
        "endLine": 190,
        "endChar": 12
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6cf36609_df53aaf6",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 190,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-10T06:56:33Z",
      "side": 1,
      "message": "I see. Thanks for the explanation! From the go code perspective, the Java apk should be treated as a black box. The contract between the go code and the apk is more or less just: You are giving it an input (this URI) and expect it to give the media scanning time. Whether the apk uses the URI for comparison or to use it for other purpose is not the concern of the go code.\n\nIn this case, you name the variable as \"expected\" because there is a comparison in the Java code. But from the go code perspective, it just sends an input a volume URI to the java code. It\u0027s up to the java code what it wants to use the volume URI for (whether it is for comparison, or for other things) - which we will call as the implementation detail of the Java code. In that sense, we should prefer a naming or any other comments in the go code that does not depend on the Java code\u0027s implementation details. This maybe kind of similar to the concept of loose coupling (https://en.wikipedia.org/wiki/Loose_coupling) - or maybe you have seen another concept that is more similar to this explanation. This two components (go test code and apk) should not know about each other details except for the \"contract\" between them.\n\nAs an example for why this is a better design decision: imagine that you change this apk later and you figured out that the URI can be used for other things inside the apk outside just for comparison. If you named the variable as expectedURI, you will need to change the go code name as well. And if the one who adds this Java code behavior is someone else (not you/me/youkichihosoi@), they might not even know that the go code name needs to be updated - and the variable name in the go code became obsolete. Meanwhile, if you named the variable in the go code as volumeURI (or something similar), the one who makes the change later won\u0027t need to worry about renaming it except if they need to change the contract between the go code and the Java code (in that case, you will need to change both go and java code anyway). In the worse case, if later your apk is used by several tests, and the java code needs to be updated, the effect is more significant.\n\nAlso, when other people read the go code, they won\u0027t know why you name it as \"expected\" until they read the details in the Java code - which is undesirable.\n\nThe follow up question is: when should we go for a very specific variable name, and when we shouldn\u0027t go to more detail? The rule of thumb is, you should name your variable as specific as possible to cover all the details that should be visible by the code around that variable. Around the go statement here, it knows quite a lot about the go statements around - but it should only know about the contract with the Java code, not the implementation details inside the apk.",
      "parentUuid": "8013255d_4d6e9c6c",
      "range": {
        "startLine": 190,
        "startChar": 1,
        "endLine": 190,
        "endChar": 12
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2a0c811_f268da84",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 190,
      "author": {
        "id": 1519657
      },
      "writtenOn": "2021-09-10T07:52:11Z",
      "side": 1,
      "message": "I understood that variables should be named more specific dependent on what they means or what role they have in the file (or function?)",
      "parentUuid": "6cf36609_df53aaf6",
      "range": {
        "startLine": 190,
        "startChar": 1,
        "endLine": 190,
        "endChar": 12
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce99c154_e6622948",
        "filename": "src/chromiumos/tast/local/bundles/cros/arc/media_scan_time.go",
        "patchSetId": 6
      },
      "lineNbr": 202,
      "author": {
        "id": 1221932
      },
      "writtenOn": "2021-09-09T09:00:40Z",
      "side": 1,
      "message": "Before this remount happens, MediaScanner probably have perform a full scan on the volume. Will the app accidentaly catch the scan result of that full scan and report an unexpected number?",
      "range": {
        "startLine": 202,
        "startChar": 1,
        "endLine": 202,
        "endChar": 53
      },
      "revId": "b6e1bcc216569b4f6710c88fa3f915cea9ee79da",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}