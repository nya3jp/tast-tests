{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a6ff6caa_714476ed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1510282
      },
      "writtenOn": "2022-01-18T23:35:35Z",
      "side": 1,
      "message": "Thanks, looks good! Added some nits, and remarks about the positioning function in order to make it more generic.",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d96e976_9c57edc7",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 52,
      "author": {
        "id": 1510282
      },
      "writtenOn": "2022-01-18T23:35:35Z",
      "side": 1,
      "message": "nit: not necessary, just move the const variables into your performLogin test function. Ditto for the call to bounds.",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ce8f3b5_acfa7371",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 52,
      "author": {
        "id": 1525085
      },
      "writtenOn": "2022-01-19T20:58:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2d96e976_9c57edc7",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bffd2315_bbf7680b",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 61,
      "author": {
        "id": 1510282
      },
      "writtenOn": "2022-01-18T23:35:35Z",
      "side": 1,
      "message": "nit: remove, this variable is no longer used.",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a5817327_9e13e6d6",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 61,
      "author": {
        "id": 1525085
      },
      "writtenOn": "2022-01-19T20:58:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bffd2315_bbf7680b",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00f90291_7df7c57c",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 65,
      "author": {
        "id": 1510282
      },
      "writtenOn": "2022-01-18T23:35:35Z",
      "side": 1,
      "message": "Few things with this function:\n\n1. Can it be moved to TestUtil and be renamed: GetCoordsFromRelativePosition? A little wordy by makes the intent clear and goes with (2) below.\n2. This function is assuming everything is located at: [50%, \u003cheuristic\u003e%]. Can it instead take two parameters: percentOfScreenWidth, percentOfScreenHeight and set relativeWidth \u003d percentOfScreenWidth / scaleFactor, and relativeHeight \u003d percentOfScreenHeight / scaleFactor? In that way, it will become a much more generic function that we can use in multiple places, and will remove the hardcoding of .5 (which won\u0027t always be true).\n3. Noted below but scaleFactor is an implementation detail. You can remove it from the parameter list.",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4690b6b5_851748c4",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 65,
      "author": {
        "id": 1525085
      },
      "writtenOn": "2022-01-19T20:58:59Z",
      "side": 1,
      "message": "I\u0027ve done most of what you requested for this function, but as far as the screen bounds go, from my earlier testing, I get an error if I try to obtain it after the first \"WaitForLogcat\" call. Is there perhaps another method that can be used to obtain screen bounds? I\u0027ve tried the \"Bounds\" field in display.go, but it\u0027s incorrect, even when accounting for scale factor.",
      "parentUuid": "00f90291_7df7c57c",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92a96639_a8354c88",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 65,
      "author": {
        "id": 1510282
      },
      "writtenOn": "2022-01-19T22:33:44Z",
      "side": 1,
      "message": "Did you try:\n\n```\n        screens, err :\u003d display.GetInfo(ctx, tconn)\n\tif err !\u003d nil {\n\t\treturn errors.Wrap(err, \"failed to get the display info\")\n\t}\n\n\tscaleFactor, err :\u003d screens[0].GetEffectiveDeviceScaleFactor()\n```\n\nas is done in https://chromium-review.googlesource.com/c/chromiumos/platform/tast-tests/+/3354256 ? I think that may lead to some more consistent results. Where the call happens shouldn\u0027t matter AFAIK. If that continues to give you issues, shoot me a ping and I\u0027ll pull down the branch and take a look.",
      "parentUuid": "4690b6b5_851748c4",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "522cf3d8_dec2d624",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 65,
      "author": {
        "id": 1525085
      },
      "writtenOn": "2022-01-19T22:56:55Z",
      "side": 1,
      "message": "That\u0027s what I\u0027m doing for scale factor, but IIUC your comment, you want me to get rid of the bounds as a parameter for the coordinates, which I\u0027m not sure how to do.",
      "parentUuid": "92a96639_a8354c88",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "43fb04ef_d876366f",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 65,
      "author": {
        "id": 1510282
      },
      "writtenOn": "2022-01-20T00:44:12Z",
      "side": 1,
      "message": "I see, I misread that block. You\u0027re right, what\u0027s happening is that the params.Activity is saving off the activity it was told to load (\".startup.ActivitySplash\") but Roblox switches to the: .client.ActivityNativeMain activity after launch (which corresponds to that log message being emitted), making the params.Activity variable (and corresponding call to bounds) stale. How you have it is fine. One nit may be to rename it: activityBounds throughout but otherwise I think this is OK.",
      "parentUuid": "522cf3d8_dec2d624",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8b4d1540_e6c1739a",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 72,
      "author": {
        "id": 1510282
      },
      "writtenOn": "2022-01-18T23:35:35Z",
      "side": 1,
      "message": "This can also move into TestUtil since it will be used by the function you\u0027re moving into there. The caller (i.e. roblox_login.go) should not have to worry about this. It\u0027s an implementation detail of the GetCoordsFromRelativePosition function.",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d0da2f7a_d0712aa7",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 72,
      "author": {
        "id": 1525085
      },
      "writtenOn": "2022-01-19T20:58:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8b4d1540_e6c1739a",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "598ba7d2_7f0c4e96",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 114,
      "author": {
        "id": 1510282
      },
      "writtenOn": "2022-01-18T23:35:35Z",
      "side": 1,
      "message": "nit: Can you file a bug related to this, CC me on it, and put a TODO here that links to it? That will help track why this is happening, and give us something to look back on and fix in the future.",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "92f295ed_0b690acf",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 114,
      "author": {
        "id": 1525085
      },
      "writtenOn": "2022-01-19T20:58:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "598ba7d2_7f0c4e96",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5045520_40e5e1dd",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 118,
      "author": {
        "id": 1510282
      },
      "writtenOn": "2022-01-18T23:35:35Z",
      "side": 1,
      "message": "nit: these testing.Sleeps will come up as part of the required Tast review since testing.Sleep is discouraged. To get ahead of this, can you extract the time (5*time.Second) into a const variable, increase the timeout (15 seconds should be fine), file a bug about waiting on Acuitii stability, and add a TODO on the first sleep referencing that new bug so reviewers know why it\u0027s in place?",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9fb55c97_c16b6b13",
        "filename": "src/chromiumos/tast/local/bundles/cros/arcappgameperf/roblox_login.go",
        "patchSetId": 6
      },
      "lineNbr": 118,
      "author": {
        "id": 1525085
      },
      "writtenOn": "2022-01-19T20:58:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e5045520_40e5e1dd",
      "revId": "86456dacb01a26e0ac14b283e0dcb8fb5a70527c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}