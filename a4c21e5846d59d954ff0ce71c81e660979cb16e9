{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5336e026_7fd922ad",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 11,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2022-11-01T05:04:48Z",
      "side": 1,
      "message": "add b/231669774",
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bdf5169a_440b4a33",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2022-11-01T05:04:48Z",
      "side": 1,
      "message": "There seems to be a lot of complicated/unnecessary refactoring going on here. There are two changes here:\n\n1. For full scans, repeat multiple times and report the average (basically just add two loops around the scans).\n2. Add a pass/fail threshold.\n\nIf you\u0027d like to do the refactor as well, please do that in a separate change, but you can still split this further regardless.",
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe749377_03a84abb",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 41,
      "author": {
        "id": 1158184
      },
      "writtenOn": "2022-11-01T02:23:18Z",
      "side": 1,
      "message": "nit: typo, compares",
      "range": {
        "startLine": 41,
        "startChar": 35,
        "endLine": 41,
        "endChar": 43
      },
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ff21d79_c2217af4",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 46,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2022-11-01T05:04:48Z",
      "side": 1,
      "message": "single channel",
      "range": {
        "startLine": 46,
        "startChar": 14,
        "endLine": 46,
        "endChar": 20
      },
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e241efee_bcca2a52",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 72,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2022-11-01T05:04:48Z",
      "side": 1,
      "message": "nit: rm",
      "range": {
        "startLine": 72,
        "startChar": 57,
        "endLine": 72,
        "endChar": 77
      },
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b3a3815_de55ccc0",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 79,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2022-11-01T05:04:48Z",
      "side": 1,
      "message": "nit: duplicate the comment above",
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "312796a7_0184e919",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 86,
      "author": {
        "id": 1158184
      },
      "writtenOn": "2022-11-01T02:23:18Z",
      "side": 1,
      "message": "It\u0027s a bit academic since I don\u0027t think we want any exemptions, but maybe you could use a const map, like fgRelaxedChipSet and bgRelaxedChipSet? In the test code you can then handle all of them the same way: rather than passing around the \"exempt\" boolean, you could you define exemptScanThreshold of 10s and just use that threshold",
      "range": {
        "startLine": 86,
        "startChar": 1,
        "endLine": 86,
        "endChar": 24
      },
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c4336271_16cb4efd",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 91,
      "author": {
        "id": 1158184
      },
      "writtenOn": "2022-11-01T02:23:18Z",
      "side": 1,
      "message": "We should already have crosbolt data for those, I think?\n\nRegardless, I think we want to enforce the same thresholds as the other chipsets since in practice they\u0027re running the test in 5GHz-only test environments. That will change in the future and we could potentially define (in future CL) 6GHz-enabled scan times",
      "range": {
        "startLine": 87,
        "startChar": 1,
        "endLine": 91,
        "endChar": 2
      },
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc17106e_dc0243dd",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 91,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2022-11-01T05:04:48Z",
      "side": 1,
      "message": "I think nipperkin does a full scan right now (and takes longer than we\u0027d like, 5-6s IIRC), so it might be tricky to enforce the same scan behavior.",
      "parentUuid": "c4336271_16cb4efd",
      "range": {
        "startLine": 87,
        "startChar": 1,
        "endLine": 91,
        "endChar": 2
      },
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6eeac1e_f34fb8ad",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 154,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2022-11-01T05:04:48Z",
      "side": 1,
      "message": "no need for this, just do a map lookup",
      "range": {
        "startLine": 154,
        "startChar": 103,
        "endLine": 154,
        "endChar": 109
      },
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad0775af_2f17eb46",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 155,
      "author": {
        "id": 1158184
      },
      "writtenOn": "2022-11-01T02:23:18Z",
      "side": 1,
      "message": "nit: this prefix is not necessary in context, go/go-style/decisions#repetitive-in-context",
      "range": {
        "startLine": 155,
        "startChar": 6,
        "endLine": 155,
        "endChar": 12
      },
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65517a37_af22e28b",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 220,
      "author": {
        "id": 1158184
      },
      "writtenOn": "2022-11-01T02:23:18Z",
      "side": 1,
      "message": "AFAICT this is 90+% identical to the fgFullScan function. Maybe you could factor out both in a function rather than duplicating a lot of code?",
      "range": {
        "startLine": 202,
        "startChar": 2,
        "endLine": 220,
        "endChar": 44
      },
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9730555f_d03e7410",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 248,
      "author": {
        "id": 1158184
      },
      "writtenOn": "2022-11-01T02:23:18Z",
      "side": 1,
      "message": "That looks like lines 43-66 before the CL. Can you split that in a different CL to minimize the individual diffs?",
      "range": {
        "startLine": 226,
        "startChar": 2,
        "endLine": 248,
        "endChar": 49
      },
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6222f8a7_47333e5d",
        "filename": "src/chromiumos/tast/remote/bundles/cros/wifi/scan_perf.go",
        "patchSetId": 8
      },
      "lineNbr": 278,
      "author": {
        "id": 1243287
      },
      "writtenOn": "2022-11-01T05:04:48Z",
      "side": 1,
      "message": "why use testOnce? We only ever do it once, you should be able to just inline",
      "revId": "a4c21e5846d59d954ff0ce71c81e660979cb16e9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}