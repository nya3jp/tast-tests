{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ffcf6a1c_382cff24",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000623
      },
      "writtenOn": "2021-10-27T22:23:42Z",
      "side": 1,
      "message": "lgtm",
      "revId": "3e2973f5011faf4240df51767b45cfcbbbc7b82b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f178c917_39953fbd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2021-10-27T22:36:14Z",
      "side": 1,
      "message": "Calling owners...",
      "revId": "3e2973f5011faf4240df51767b45cfcbbbc7b82b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca14d601_5dc10a3d",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 158,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2021-10-28T15:14:48Z",
      "side": 1,
      "message": "Is this a right place to wait for cpu stabilization?\nEach test has its own setup, in addition to what fixture provides.\nAlso, if child fixture has PreTest, then that will run after CPU stabilization.\n\nI\u0027m wondering if you may want to put it just before the \"main part\" of the test for each case, though it may look not elegant. WDYT?",
      "revId": "3e2973f5011faf4240df51767b45cfcbbbc7b82b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "efe7a44c_0306f112",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 158,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2021-10-28T21:05:04Z",
      "side": 1,
      "message": "Understand the concern that waiting for cpu ideal in PreTest might not work for all fixtures setups.\n\nHowever, it should work for CUJs because the only fixture PreTest work is some lightweight logsaver work to capture chrome log and CUJ tests do the preparation work first thing in their test body. I updated comment that if we could not guarantee that we should move the cpu wait to test body.\n\nAnd it is nice to be able to put preparation code together.",
      "parentUuid": "ca14d601_5dc10a3d",
      "revId": "3e2973f5011faf4240df51767b45cfcbbbc7b82b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5425edf_5f2def7e",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 158,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2021-10-29T02:12:30Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "efe7a44c_0306f112",
      "revId": "3e2973f5011faf4240df51767b45cfcbbbc7b82b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "877094a1_4398c731",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1000623
      },
      "writtenOn": "2021-10-27T22:23:42Z",
      "side": 1,
      "message": "What does idle mean? cpu load drops to some %age?",
      "revId": "3e2973f5011faf4240df51767b45cfcbbbc7b82b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bc944ad_658f292f",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2021-10-27T22:35:53Z",
      "side": 1,
      "message": "This waits for cpu utilization to drop. Initial target is  \u003c5%, and gradually relax util 20%. Current max wait time is 2 min now.\n\nThere is another call cpu.WaitForCoolDown, which waits for cpu temp to drop below a threshold. It is harder to achieve than cpu idl in labs.\n\nWe see something like the following in log:\n2021-10-27T22:07:46.588071Z [22:07:46.315] Waiting for idle CPU at most 2m0s, threshold will be gradually relaxed (from 5.0% to 20.0%)\n2021-10-27T22:07:46.588219Z [22:07:46.315] Waiting up to 24s for CPU usage to drop below 5.0% (1/5)                                                                                                                                                   \n2021-10-27T22:07:51.991921Z [22:07:51.718] Waiting for idle CPU took 5s (usage: 2.0%, threshold: 5.0%)                     \n2",
      "parentUuid": "877094a1_4398c731",
      "revId": "3e2973f5011faf4240df51767b45cfcbbbc7b82b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28060586_f9c3df2a",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1115919
      },
      "writtenOn": "2021-10-28T15:14:48Z",
      "side": 1,
      "message": "fyi: another api cpu.WaitForStabilization is also available, which includes both WaitForCoolDown and WaitForIdle.",
      "parentUuid": "0bc944ad_658f292f",
      "revId": "3e2973f5011faf4240df51767b45cfcbbbc7b82b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0ed4ca2_d40e3eec",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2021-10-28T21:05:04Z",
      "side": 1,
      "message": "Changed to cpu.WaitUntilStabilized and adjusted timeout. WaitUntilCoolDown does not work well in the past that it often times out. Let\u0027s see how it works now.",
      "parentUuid": "28060586_f9c3df2a",
      "revId": "3e2973f5011faf4240df51767b45cfcbbbc7b82b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a0f92d09_5666cd3c",
        "filename": "src/chromiumos/tast/local/bundles/cros/ui/cuj/fixture.go",
        "patchSetId": 2
      },
      "lineNbr": 165,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2021-11-01T16:25:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e0ed4ca2_d40e3eec",
      "revId": "3e2973f5011faf4240df51767b45cfcbbbc7b82b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}