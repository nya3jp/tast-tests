{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "66d694bb_a6631dcd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1526354
      },
      "writtenOn": "2022-05-13T16:12:38Z",
      "side": 1,
      "message": "PTAL",
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9798e41_f67113fc",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1510098
      },
      "writtenOn": "2022-05-13T20:55:37Z",
      "side": 1,
      "message": "not needed",
      "range": {
        "startLine": 62,
        "startChar": 1,
        "endLine": 68,
        "endChar": 26
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3fffeb4_aea41400",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1526354
      },
      "writtenOn": "2022-05-13T21:34:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f9798e41_f67113fc",
      "range": {
        "startLine": 62,
        "startChar": 1,
        "endLine": 68,
        "endChar": 26
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53939196_b369947f",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1510098
      },
      "writtenOn": "2022-05-13T20:55:37Z",
      "side": 1,
      "message": "why do we need to call this in the for loop? It should only be called once.",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1084ea41_0f038f79",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1526354
      },
      "writtenOn": "2022-05-13T21:34:22Z",
      "side": 1,
      "message": "It looks like quick settings will collapse after a left click on PodIconButton. \nFor example, Quick Settings is open before the loop, click on the 1st page, click on pod icon button, it will close. So we need to reopen Quick Settings again to select the second page, then click on the pod icon button (where dark theme button really appears). Not sure if it\u0027s the case for all DUTs, but I think it\u0027s safe to check if Quick Settings still opens before continue.\nquicksettings.Shown() is to check if Quick Settings already opens, we won\u0027t expand/reopen it again.",
      "parentUuid": "53939196_b369947f",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5200723b_394344ab",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1510098
      },
      "writtenOn": "2022-05-13T22:26:14Z",
      "side": 1,
      "message": "Ack. Pleasae consult quicksettings team for their suggestion.",
      "parentUuid": "1084ea41_0f038f79",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cff7e5b0_55a49d4a",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1333747
      },
      "writtenOn": "2022-05-16T18:23:31Z",
      "side": 1,
      "message": "This isn\u0027t expected behavior. The only time the quick settings bubble is closed is if a pod button leads to an external end point (for example the screen capture button will close the bubble and open the screen capture tool). We should be able to toggle between dark / light mode without the bubble closing.",
      "parentUuid": "5200723b_394344ab",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2091db2_e214a02a",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1526354
      },
      "writtenOn": "2022-05-16T18:57:09Z",
      "side": 1,
      "message": "@Ahmed, pls refer to the recording on my DUT https://drive.google.com/file/d/1vfdu4w-FHKA7XymS7iuCKTigunH77kXo/view?usp\u003dsharing\n(0:14 - 0:20).\nAfter the first page indicator view is clicked on, `ui.LeftClick(darkThemePodIconButton))` does nothing (I\u0027m not sure if it really clicks on somewhere) then the bubble is closed. \nNote that the dark theme button exists in second page for my DUT; however, darkThemePodIconButton is available in ui_tree.txt since we expand Quick Settings.\nIf there is any way we can navigate to the correct location of dark theme button without checking in all the pages, it would be very helpful.",
      "parentUuid": "cff7e5b0_55a49d4a",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77f0557f_1783203e",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1333747
      },
      "writtenOn": "2022-05-18T19:55:27Z",
      "side": 1,
      "message": "I think ui.LeftClick(darkThemePodIconButton) results in a click outside the bubble bounds. Which causes the bubble to close. Can you perhaps check if the darkThemePodIconButton is on the currently selected page before trying to click on it?",
      "parentUuid": "d2091db2_e214a02a",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b03eb832_edfe4cae",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1526354
      },
      "writtenOn": "2022-05-18T20:54:58Z",
      "side": 1,
      "message": "Thanks Ahmed! I added a check isNodeFound() for darkThemePodIconButton before click on it, like this: Select a page \u003e Check if dark theme button found \u003e Click on the button).\nUnfortunately, the button is always found in any page even it isn\u0027t really in because the UI tree always shows it (https://paste.googleplex.com/4985809544413184)\nIt makes sense to me that the `ui.LeftClick(darkThemePodIconButton)` clicks outside the bubble and makes it closed. Do you think I can keep the current bubble check as is so we will expand the bubble again in case it got closed?",
      "parentUuid": "77f0557f_1783203e",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d35bab56_de8aafc7",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1526354
      },
      "writtenOn": "2022-05-18T21:00:54Z",
      "side": 1,
      "message": "oh I just realized that it shows `state\u003d{\"offscreen\": true}` for the page the button is not in. Will update if I can check this info before click on the button.\n`node id\u003d722 role\u003dtoggleButton state\u003d{\"focusable\":true,\"offscreen\":true} parentID\u003d769 childIds\u003d[] name\u003dToggle Dark theme. Dark theme is off className\u003dFeaturePodIconButton`",
      "parentUuid": "b03eb832_edfe4cae",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67d3480f_59db2234",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1526354
      },
      "writtenOn": "2022-05-18T22:44:40Z",
      "side": 1,
      "message": "Updated: Unfortunately, the state didn\u0027t change in all the pages.\nI think I still need to left click on the button for all the pages and reopen the bubble if it collapses. Pls let me know your opinion. Thank you!",
      "parentUuid": "d35bab56_de8aafc7",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "49f6b564_1663afbf",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1333747
      },
      "writtenOn": "2022-05-20T00:15:19Z",
      "side": 1,
      "message": "I think we can keep this for now, maybe keep a work item to update this test when we additional infrastructure to ensure we can do this without closing the bubble accidentally.",
      "parentUuid": "67d3480f_59db2234",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e430e95_403afb77",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-05-24T12:17:39Z",
      "side": 1,
      "message": "I checked the recording as well, and for me it seems like the bubble is closed because of the `ui.LeftClick(nodewith.Role(page.Role).ClassName(page.ClassName).Name(page.Name))` call on the first page.\nCan you try to skip this call for the first page?",
      "parentUuid": "49f6b564_1663afbf",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5281ce33_b9d22927",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1526354
      },
      "writtenOn": "2022-05-25T02:53:32Z",
      "side": 1,
      "message": "Unfortunately, we cannot skip it for now as we don\u0027t know the specific page the button actually stays in to click on (it could be 1st, 2nd or 3rd page, etc). That\u0027s why I add a comment we will update the tast test when quicksettings have additional change to accommodate that feature in the future.",
      "parentUuid": "6e430e95_403afb77",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf002cd1_30cba562",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1401350
      },
      "writtenOn": "2022-05-25T08:10:52Z",
      "side": 1,
      "message": "I didn\u0027t really use the quick settings with multiple pages, so I assumed when you open the quick setting, it *always* opens on the first page. If so, you can skip clicking the page selector for the first page (and only for the first page). As I saw in the recording that when the first page is open, and you click the first page selector, the page is closed. of course the reason can be different, it is only my observation based on the recording.",
      "parentUuid": "5281ce33_b9d22927",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd528546_66d9e17b",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 135,
      "author": {
        "id": 1526354
      },
      "writtenOn": "2022-06-03T16:22:50Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bf002cd1_30cba562",
      "range": {
        "startLine": 135,
        "startChar": 2,
        "endLine": 135,
        "endChar": 64
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef9eec31_4b8a69aa",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1510098
      },
      "writtenOn": "2022-05-13T20:55:37Z",
      "side": 1,
      "message": "same here. We only need to expand once.",
      "range": {
        "startLine": 138,
        "startChar": 3,
        "endLine": 138,
        "endChar": 57
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2534ba87_bd0ca6ee",
        "filename": "src/chromiumos/tast/local/bundles/cros/personalization/set_dl_theme_quick_settings.go",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1526354
      },
      "writtenOn": "2022-05-13T21:34:22Z",
      "side": 1,
      "message": "refer to the above comment :)",
      "parentUuid": "ef9eec31_4b8a69aa",
      "range": {
        "startLine": 138,
        "startChar": 3,
        "endLine": 138,
        "endChar": 57
      },
      "revId": "b3bfe610be684b3da2100f2697b8308091d11a30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}